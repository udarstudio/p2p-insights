const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./WjSuP5O4.js","./error-404.C-Ezrlz-.css","./CkULbgFN.js","./error-500.DBWf9FGj.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cl(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Rt={},Pr=[],je=()=>{},Df=()=>!1,ni=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Pl=e=>e.startsWith("onUpdate:"),ee=Object.assign,xl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Om=Object.prototype.hasOwnProperty,Tt=(e,t)=>Om.call(e,t),at=Array.isArray,xr=e=>wo(e)==="[object Map]",Nf=e=>wo(e)==="[object Set]",it=e=>typeof e=="function",Dt=e=>typeof e=="string",Ln=e=>typeof e=="symbol",St=e=>e!==null&&typeof e=="object",Vl=e=>(St(e)||it(e))&&it(e.then)&&it(e.catch),Of=Object.prototype.toString,wo=e=>Of.call(e),Mm=e=>wo(e).slice(8,-1),Mf=e=>wo(e)==="[object Object]",bo=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Yn=Cl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Io=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Lm=/-\w/g,Re=Io(e=>e.replace(Lm,t=>t.slice(1).toUpperCase())),Fm=/\B([A-Z])/g,ar=Io(e=>e.replace(Fm,"-$1").toLowerCase()),Ao=Io(e=>e.charAt(0).toUpperCase()+e.slice(1)),ua=Io(e=>e?`on${Ao(e)}`:""),bn=(e,t)=>!Object.is(e,t),ha=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Lf=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Um=e=>{const t=parseFloat(e);return isNaN(t)?e:t},jm=e=>{const t=Dt(e)?Number(e):NaN;return isNaN(t)?e:t};let Cu;const Ro=()=>Cu||(Cu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ri(e){if(at(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Dt(r)?qm(r):ri(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Dt(e)||St(e))return e}const Bm=/;(?![^(]*\))/g,Hm=/:([^]+)/,$m=/\/\*[^]*?\*\//g;function qm(e){const t={};return e.replace($m,"").split(Bm).forEach(n=>{if(n){const r=n.split(Hm);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function So(e){let t="";if(Dt(e))t=e;else if(at(e))for(let n=0;n<e.length;n++){const r=So(e[n]);r&&(t+=r+" ")}else if(St(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Wm(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Dt(t)&&(e.class=So(t)),n&&(e.style=ri(n)),e}const zm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Km=Cl(zm);function Ff(e){return!!e||e===""}const Uf=e=>!!(e&&e.__v_isRef===!0),zn=e=>Dt(e)?e:e==null?"":at(e)||St(e)&&(e.toString===Of||!it(e.toString))?Uf(e)?zn(e.value):JSON.stringify(e,jf,2):String(e),jf=(e,t)=>Uf(t)?jf(e,t.value):xr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[fa(r,i)+" =>"]=s,n),{})}:Nf(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>fa(n))}:Ln(t)?fa(t):St(t)&&!at(t)&&!Mf(t)?String(t):t,fa=(e,t="")=>{var n;return Ln(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let ie;class Bf{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ie,!t&&ie&&(this.index=(ie.scopes||(ie.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ie;try{return ie=this,t()}finally{ie=n}}}on(){++this._on===1&&(this.prevScope=ie,ie=this)}off(){this._on>0&&--this._on===0&&(ie=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Gm(e){return new Bf(e)}function kl(){return ie}function Qm(e,t=!1){ie&&ie.cleanups.push(e)}let At;const da=new WeakSet;class Hf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ie&&ie.active&&ie.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,da.has(this)&&(da.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pu(this),Wf(this);const t=At,n=Pe;At=this,Pe=!0;try{return this.fn()}finally{zf(this),At=t,Pe=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ol(t);this.deps=this.depsTail=void 0,Pu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?da.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ua(this)&&this.run()}get dirty(){return Ua(this)}}let $f=0,Ss,Cs;function qf(e,t=!1){if(e.flags|=8,t){e.next=Cs,Cs=e;return}e.next=Ss,Ss=e}function Dl(){$f++}function Nl(){if(--$f>0)return;if(Cs){let t=Cs;for(Cs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ss;){let t=Ss;for(Ss=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Wf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function zf(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Ol(r),Jm(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Ua(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Kf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Kf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fs)||(e.globalVersion=Fs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ua(e))))return;e.flags|=2;const t=e.dep,n=At,r=Pe;At=e,Pe=!0;try{Wf(e);const s=e.fn(e._value);(t.version===0||bn(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{At=n,Pe=r,zf(e),e.flags&=-3}}function Ol(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ol(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Jm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Pe=!0;const Gf=[];function nn(){Gf.push(Pe),Pe=!1}function rn(){const e=Gf.pop();Pe=e===void 0?!0:e}function Pu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=At;At=void 0;try{t()}finally{At=n}}}let Fs=0;class Ym{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ml{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!At||!Pe||At===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==At)n=this.activeLink=new Ym(At,this),At.deps?(n.prevDep=At.depsTail,At.depsTail.nextDep=n,At.depsTail=n):At.deps=At.depsTail=n,Qf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=At.depsTail,n.nextDep=void 0,At.depsTail.nextDep=n,At.depsTail=n,At.deps===n&&(At.deps=r)}return n}trigger(t){this.version++,Fs++,this.notify(t)}notify(t){Dl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Nl()}}}function Qf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Qf(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const zi=new WeakMap,Xn=Symbol(""),ja=Symbol(""),Us=Symbol("");function ae(e,t,n){if(Pe&&At){let r=zi.get(e);r||zi.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ml),s.map=r,s.key=n),s.track()}}function Ze(e,t,n,r,s,i){const o=zi.get(e);if(!o){Fs++;return}const l=c=>{c&&c.trigger()};if(Dl(),t==="clear")o.forEach(l);else{const c=at(e),f=c&&bo(n);if(c&&n==="length"){const h=Number(r);o.forEach((p,g)=>{(g==="length"||g===Us||!Ln(g)&&g>=h)&&l(p)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),f&&l(o.get(Us)),t){case"add":c?f&&l(o.get("length")):(l(o.get(Xn)),xr(e)&&l(o.get(ja)));break;case"delete":c||(l(o.get(Xn)),xr(e)&&l(o.get(ja)));break;case"set":xr(e)&&l(o.get(Xn));break}}Nl()}function Xm(e,t){const n=zi.get(e);return n&&n.get(t)}function vr(e){const t=Et(e);return t===e?t:(ae(t,"iterate",Us),Te(e)?t:t.map(Ve))}function Co(e){return ae(e=Et(e),"iterate",Us),e}function _n(e,t){return qe(e)?jr(In(e)?Ve(t):t):Ve(t)}const Zm={__proto__:null,[Symbol.iterator](){return pa(this,Symbol.iterator,e=>_n(this,e))},concat(...e){return vr(this).concat(...e.map(t=>at(t)?vr(t):t))},entries(){return pa(this,"entries",e=>(e[1]=_n(this,e[1]),e))},every(e,t){return Ye(this,"every",e,t,void 0,arguments)},filter(e,t){return Ye(this,"filter",e,t,n=>n.map(r=>_n(this,r)),arguments)},find(e,t){return Ye(this,"find",e,t,n=>_n(this,n),arguments)},findIndex(e,t){return Ye(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ye(this,"findLast",e,t,n=>_n(this,n),arguments)},findLastIndex(e,t){return Ye(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ye(this,"forEach",e,t,void 0,arguments)},includes(...e){return ga(this,"includes",e)},indexOf(...e){return ga(this,"indexOf",e)},join(e){return vr(this).join(e)},lastIndexOf(...e){return ga(this,"lastIndexOf",e)},map(e,t){return Ye(this,"map",e,t,void 0,arguments)},pop(){return vs(this,"pop")},push(...e){return vs(this,"push",e)},reduce(e,...t){return xu(this,"reduce",e,t)},reduceRight(e,...t){return xu(this,"reduceRight",e,t)},shift(){return vs(this,"shift")},some(e,t){return Ye(this,"some",e,t,void 0,arguments)},splice(...e){return vs(this,"splice",e)},toReversed(){return vr(this).toReversed()},toSorted(e){return vr(this).toSorted(e)},toSpliced(...e){return vr(this).toSpliced(...e)},unshift(...e){return vs(this,"unshift",e)},values(){return pa(this,"values",e=>_n(this,e))}};function pa(e,t,n){const r=Co(e),s=r[t]();return r!==e&&!Te(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const t_=Array.prototype;function Ye(e,t,n,r,s,i){const o=Co(e),l=o!==e&&!Te(e),c=o[t];if(c!==t_[t]){const p=c.apply(e,i);return l?Ve(p):p}let f=n;o!==e&&(l?f=function(p,g){return n.call(this,_n(e,p),g,e)}:n.length>2&&(f=function(p,g){return n.call(this,p,g,e)}));const h=c.call(o,f,r);return l&&s?s(h):h}function xu(e,t,n,r){const s=Co(e);let i=n;return s!==e&&(Te(e)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,e)}):i=function(o,l,c){return n.call(this,o,_n(e,l),c,e)}),s[t](i,...r)}function ga(e,t,n){const r=Et(e);ae(r,"iterate",Us);const s=r[t](...n);return(s===-1||s===!1)&&Po(n[0])?(n[0]=Et(n[0]),r[t](...n)):s}function vs(e,t,n=[]){nn(),Dl();const r=Et(e)[t].apply(e,n);return Nl(),rn(),r}const e_=Cl("__proto__,__v_isRef,__isVue"),Jf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ln));function n_(e){Ln(e)||(e=String(e));const t=Et(this);return ae(t,"has",e),t.hasOwnProperty(e)}class Yf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?f_:ed:i?td:Zf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=at(t);if(!s){let c;if(o&&(c=Zm[n]))return c;if(n==="hasOwnProperty")return n_}const l=Reflect.get(t,n,Ft(t)?t:r);if((Ln(n)?Jf.has(n):e_(n))||(s||ae(t,"get",n),i))return l;if(Ft(l)){const c=o&&bo(n)?l:l.value;return s&&St(c)?Ha(c):c}return St(l)?s?Ha(l):xn(l):l}}class Xf extends Yf{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];const o=at(t)&&bo(n);if(!this._isShallow){const f=qe(i);if(!Te(r)&&!qe(r)&&(i=Et(i),r=Et(r)),!o&&Ft(i)&&!Ft(r))return f||(i.value=r),!0}const l=o?Number(n)<t.length:Tt(t,n),c=Reflect.set(t,n,r,Ft(t)?t:s);return t===Et(s)&&(l?bn(r,i)&&Ze(t,"set",n,r):Ze(t,"add",n,r)),c}deleteProperty(t,n){const r=Tt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ze(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Ln(n)||!Jf.has(n))&&ae(t,"has",n),r}ownKeys(t){return ae(t,"iterate",at(t)?"length":Xn),Reflect.ownKeys(t)}}class r_ extends Yf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const s_=new Xf,i_=new r_,o_=new Xf(!0);const Ba=e=>e,wi=e=>Reflect.getPrototypeOf(e);function a_(e,t,n){return function(...r){const s=this.__v_raw,i=Et(s),o=xr(i),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,f=s[e](...r),h=n?Ba:t?jr:Ve;return!t&&ae(i,"iterate",c?ja:Xn),ee(Object.create(f),{next(){const{value:p,done:g}=f.next();return g?{value:p,done:g}:{value:l?[h(p[0]),h(p[1])]:h(p),done:g}}})}}function bi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function l_(e,t){const n={get(s){const i=this.__v_raw,o=Et(i),l=Et(s);e||(bn(s,l)&&ae(o,"get",s),ae(o,"get",l));const{has:c}=wi(o),f=t?Ba:e?jr:Ve;if(c.call(o,s))return f(i.get(s));if(c.call(o,l))return f(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&ae(Et(s),"iterate",Xn),s.size},has(s){const i=this.__v_raw,o=Et(i),l=Et(s);return e||(bn(s,l)&&ae(o,"has",s),ae(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,c=Et(l),f=t?Ba:e?jr:Ve;return!e&&ae(c,"iterate",Xn),l.forEach((h,p)=>s.call(i,f(h),f(p),o))}};return ee(n,e?{add:bi("add"),set:bi("set"),delete:bi("delete"),clear:bi("clear")}:{add(s){!t&&!Te(s)&&!qe(s)&&(s=Et(s));const i=Et(this);return wi(i).has.call(i,s)||(i.add(s),Ze(i,"add",s,s)),this},set(s,i){!t&&!Te(i)&&!qe(i)&&(i=Et(i));const o=Et(this),{has:l,get:c}=wi(o);let f=l.call(o,s);f||(s=Et(s),f=l.call(o,s));const h=c.call(o,s);return o.set(s,i),f?bn(i,h)&&Ze(o,"set",s,i):Ze(o,"add",s,i),this},delete(s){const i=Et(this),{has:o,get:l}=wi(i);let c=o.call(i,s);c||(s=Et(s),c=o.call(i,s)),l&&l.call(i,s);const f=i.delete(s);return c&&Ze(i,"delete",s,void 0),f},clear(){const s=Et(this),i=s.size!==0,o=s.clear();return i&&Ze(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=a_(s,e,t)}),n}function Ll(e,t){const n=l_(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Tt(n,s)&&s in r?n:r,s,i)}const c_={get:Ll(!1,!1)},u_={get:Ll(!1,!0)},h_={get:Ll(!0,!1)};const Zf=new WeakMap,td=new WeakMap,ed=new WeakMap,f_=new WeakMap;function d_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p_(e){return e.__v_skip||!Object.isExtensible(e)?0:d_(Mm(e))}function xn(e){return qe(e)?e:Fl(e,!1,s_,c_,Zf)}function Sr(e){return Fl(e,!1,o_,u_,td)}function Ha(e){return Fl(e,!0,i_,h_,ed)}function Fl(e,t,n,r,s){if(!St(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=p_(e);if(i===0)return e;const o=s.get(e);if(o)return o;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function In(e){return qe(e)?In(e.__v_raw):!!(e&&e.__v_isReactive)}function qe(e){return!!(e&&e.__v_isReadonly)}function Te(e){return!!(e&&e.__v_isShallow)}function Po(e){return e?!!e.__v_raw:!1}function Et(e){const t=e&&e.__v_raw;return t?Et(t):e}function g_(e){return!Tt(e,"__v_skip")&&Object.isExtensible(e)&&Lf(e,"__v_skip",!0),e}const Ve=e=>St(e)?xn(e):e,jr=e=>St(e)?Ha(e):e;function Ft(e){return e?e.__v_isRef===!0:!1}function be(e){return nd(e,!1)}function js(e){return nd(e,!0)}function nd(e,t){return Ft(e)?e:new m_(e,t)}class m_{constructor(t,n){this.dep=new Ml,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Et(t),this._value=n?t:Ve(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Te(t)||qe(t);t=r?t:Et(t),bn(t,n)&&(this._rawValue=t,this._value=r?t:Ve(t),this.dep.trigger())}}function mt(e){return Ft(e)?e.value:e}function rd(e){return it(e)?e():mt(e)}const __={get:(e,t,n)=>t==="__v_raw"?e:mt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Ft(s)&&!Ft(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function sd(e){return In(e)?e:new Proxy(e,__)}class y_{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Et(t);let s=!0,i=t;if(!at(t)||!bo(String(n)))do s=!Po(i)||Te(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let t=this._object[this._key];return this._shallow&&(t=mt(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Ft(this._raw[this._key])){const n=this._object[this._key];if(Ft(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return Xm(this._raw,this._key)}}class E_{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function id(e,t,n){return Ft(e)?e:it(e)?new E_(e):St(e)&&arguments.length>1?v_(e,t,n):be(e)}function v_(e,t,n){return new y_(e,t,n)}class T_{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ml(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&At!==this)return qf(this,!0),!0}get value(){const t=this.dep.track();return Kf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function w_(e,t,n=!1){let r,s;return it(e)?r=e:(r=e.get,s=e.set),new T_(r,s,n)}const Ii={},Ki=new WeakMap;let Kn;function b_(e,t=!1,n=Kn){if(n){let r=Ki.get(n);r||Ki.set(n,r=[]),r.push(e)}}function I_(e,t,n=Rt){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:c}=n,f=V=>s?V:Te(V)||s===!1||s===0?vn(V,1):vn(V);let h,p,g,_,I=!1,R=!1;if(Ft(e)?(p=()=>e.value,I=Te(e)):In(e)?(p=()=>f(e),I=!0):at(e)?(R=!0,I=e.some(V=>In(V)||Te(V)),p=()=>e.map(V=>{if(Ft(V))return V.value;if(In(V))return f(V);if(it(V))return c?c(V,2):V()})):it(e)?t?p=c?()=>c(e,2):e:p=()=>{if(g){nn();try{g()}finally{rn()}}const V=Kn;Kn=h;try{return c?c(e,3,[_]):e(_)}finally{Kn=V}}:p=je,t&&s){const V=p,L=s===!0?1/0:s;p=()=>vn(V(),L)}const D=kl(),O=()=>{h.stop(),D&&D.active&&xl(D.effects,h)};if(i&&t){const V=t;t=(...L)=>{V(...L),O()}}let $=R?new Array(e.length).fill(Ii):Ii;const P=V=>{if(!(!(h.flags&1)||!h.dirty&&!V))if(t){const L=h.run();if(s||I||(R?L.some((G,b)=>bn(G,$[b])):bn(L,$))){g&&g();const G=Kn;Kn=h;try{const b=[L,$===Ii?void 0:R&&$[0]===Ii?[]:$,_];$=L,c?c(t,3,b):t(...b)}finally{Kn=G}}}else h.run()};return l&&l(P),h=new Hf(p),h.scheduler=o?()=>o(P,!1):P,_=V=>b_(V,!1,h),g=h.onStop=()=>{const V=Ki.get(h);if(V){if(c)c(V,4);else for(const L of V)L();Ki.delete(h)}},t?r?P(!0):$=h.run():o?o(P.bind(null,!0),!0):h.run(),O.pause=h.pause.bind(h),O.resume=h.resume.bind(h),O.stop=O,O}function vn(e,t=1/0,n){if(t<=0||!St(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ft(e))vn(e.value,t,n);else if(at(e))for(let r=0;r<e.length;r++)vn(e[r],t,n);else if(Nf(e)||xr(e))e.forEach(r=>{vn(r,t,n)});else if(Mf(e)){for(const r in e)vn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&vn(e[r],t,n)}return e}function si(e,t,n,r){try{return r?e(...r):e()}catch(s){Qr(s,t,n)}}function We(e,t,n,r){if(it(e)){const s=si(e,t,n,r);return s&&Vl(s)&&s.catch(i=>{Qr(i,t,n)}),s}if(at(e)){const s=[];for(let i=0;i<e.length;i++)s.push(We(e[i],t,n,r));return s}}function Qr(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Rt;if(t){let l=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const h=l.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](e,c,f)===!1)return}l=l.parent}if(i){nn(),si(i,null,10,[e,c,f]),rn();return}}A_(e,n,s,r,o)}function A_(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const he=[];let Me=-1;const Vr=[];let yn=null,wr=0;const od=Promise.resolve();let Gi=null;function ad(e){const t=Gi||od;return e?t.then(this?e.bind(this):e):t}function R_(e){let t=Me+1,n=he.length;for(;t<n;){const r=t+n>>>1,s=he[r],i=Bs(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Ul(e){if(!(e.flags&1)){const t=Bs(e),n=he[he.length-1];!n||!(e.flags&2)&&t>=Bs(n)?he.push(e):he.splice(R_(t),0,e),e.flags|=1,ld()}}function ld(){Gi||(Gi=od.then(cd))}function $a(e){at(e)?Vr.push(...e):yn&&e.id===-1?yn.splice(wr+1,0,e):e.flags&1||(Vr.push(e),e.flags|=1),ld()}function Vu(e,t,n=Me+1){for(;n<he.length;n++){const r=he[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;he.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Qi(e){if(Vr.length){const t=[...new Set(Vr)].sort((n,r)=>Bs(n)-Bs(r));if(Vr.length=0,yn){yn.push(...t);return}for(yn=t,wr=0;wr<yn.length;wr++){const n=yn[wr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}yn=null,wr=0}}const Bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function cd(e){try{for(Me=0;Me<he.length;Me++){const t=he[Me];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),si(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Me<he.length;Me++){const t=he[Me];t&&(t.flags&=-2)}Me=-1,he.length=0,Qi(),Gi=null,(he.length||Vr.length)&&cd()}}let Se=null,ud=null;function Ji(e){const t=Se;return Se=e,ud=e&&e.type.__scopeId||null,t}function hd(e,t=Se,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Zi(-1);const i=Ji(t);let o;try{o=e(...s)}finally{Ji(i),r._d&&Zi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Le(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(nn(),We(c,n,8,[e.el,l,e,t]),rn())}}function fd(e,t){if(Zt){let n=Zt.provides;const r=Zt.parent&&Zt.parent.provides;r===n&&(n=Zt.provides=Object.create(r)),n[e]=t}}function Zn(e,t,n=!1){const r=ii();if(r||tr){let s=tr?tr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&it(t)?t.call(r&&r.proxy):t}}function xo(){return!!(ii()||tr)}const S_=Symbol.for("v-scx"),C_=()=>Zn(S_);function P_(e,t){return jl(e,null,t)}function ma(e,t,n){return jl(e,t,n)}function jl(e,t,n=Rt){const{immediate:r,deep:s,flush:i,once:o}=n,l=ee({},n),c=t&&r||!t&&i!=="post";let f;if(Hr){if(i==="sync"){const _=C_();f=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=je,_.resume=je,_.pause=je,_}}const h=Zt;l.call=(_,I,R)=>We(_,h,I,R);let p=!1;i==="post"?l.scheduler=_=>{de(_,h&&h.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(_,I)=>{I?_():Ul(_)}),l.augmentJob=_=>{t&&(_.flags|=4),p&&(_.flags|=2,h&&(_.id=h.uid,_.i=h))};const g=I_(e,t,l);return Hr&&(f?f.push(g):c&&g()),g}function x_(e,t,n){const r=this.proxy,s=Dt(e)?e.includes(".")?dd(r,e):()=>r[e]:e.bind(r,r);let i;it(t)?i=t:(i=t.handler,n=t);const o=oi(this),l=jl(s,i.bind(r),n);return o(),l}function dd(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const V_=Symbol("_vte"),k_=e=>e.__isTeleport,D_=Symbol("_leaveCb");function Bl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Bl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Hl(e,t){return it(e)?ee({name:e.name},t,{setup:e}):e}function $l(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Yi=new WeakMap;function kr(e,t,n,r,s=!1){if(at(e)){e.forEach((I,R)=>kr(I,t&&(at(t)?t[R]:t),n,r,s));return}if(Dr(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&kr(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Gl(r.component):r.el,o=s?null:i,{i:l,r:c}=e,f=t&&t.r,h=l.refs===Rt?l.refs={}:l.refs,p=l.setupState,g=Et(p),_=p===Rt?Df:I=>Tt(g,I);if(f!=null&&f!==c){if(ku(t),Dt(f))h[f]=null,_(f)&&(p[f]=null);else if(Ft(f)){f.value=null;const I=t;I.k&&(h[I.k]=null)}}if(it(c))si(c,l,12,[o,h]);else{const I=Dt(c),R=Ft(c);if(I||R){const D=()=>{if(e.f){const O=I?_(c)?p[c]:h[c]:c.value;if(s)at(O)&&xl(O,i);else if(at(O))O.includes(i)||O.push(i);else if(I)h[c]=[i],_(c)&&(p[c]=h[c]);else{const $=[i];c.value=$,e.k&&(h[e.k]=$)}}else I?(h[c]=o,_(c)&&(p[c]=o)):R&&(c.value=o,e.k&&(h[e.k]=o))};if(o){const O=()=>{D(),Yi.delete(e)};O.id=-1,Yi.set(e,O),de(O,n)}else ku(e),D()}}}function ku(e){const t=Yi.get(e);t&&(t.flags|=8,Yi.delete(e))}let Du=!1;const Tr=()=>{Du||(console.error("Hydration completed but contains mismatches."),Du=!0)},N_=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",O_=e=>e.namespaceURI.includes("MathML"),Ai=e=>{if(e.nodeType===1){if(N_(e))return"svg";if(O_(e))return"mathml"}},Cr=e=>e.nodeType===8;function M_(e){const{mt:t,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:l,insert:c,createComment:f}}=e,h=(P,V)=>{if(!V.hasChildNodes()){n(null,P,V),Qi(),V._vnode=P;return}p(V.firstChild,P,null,null,null),Qi(),V._vnode=P},p=(P,V,L,G,b,y=!1)=>{y=y||!!V.dynamicChildren;const E=Cr(P)&&P.data==="[",T=()=>R(P,V,L,G,b,E),{type:A,ref:S,shapeFlag:v,patchFlag:pt}=V;let Ct=P.nodeType;V.el=P,pt===-2&&(y=!1,V.dynamicChildren=null);let tt=null;switch(A){case er:Ct!==3?V.children===""?(c(V.el=s(""),o(P),P),tt=P):tt=T():(P.data!==V.children&&(Tr(),P.data=V.children),tt=i(P));break;case ke:$(P)?(tt=i(P),O(V.el=P.content.firstChild,P,L)):Ct!==8||E?tt=T():tt=i(P);break;case xs:if(E&&(P=i(P),Ct=P.nodeType),Ct===1||Ct===3){tt=P;const ct=!V.children.length;for(let Y=0;Y<V.staticCount;Y++)ct&&(V.children+=tt.nodeType===1?tt.outerHTML:tt.data),Y===V.staticCount-1&&(V.anchor=tt),tt=i(tt);return E?i(tt):tt}else T();break;case Ee:E?tt=I(P,V,L,G,b,y):tt=T();break;default:if(v&1)(Ct!==1||V.type.toLowerCase()!==P.tagName.toLowerCase())&&!$(P)?tt=T():tt=g(P,V,L,G,b,y);else if(v&6){V.slotScopeIds=b;const ct=o(P);if(E?tt=D(P):Cr(P)&&P.data==="teleport start"?tt=D(P,P.data,"teleport end"):tt=i(P),t(V,ct,null,L,G,Ai(ct),y),Dr(V)&&!V.type.__asyncResolved){let Y;E?(Y=kt(Ee),Y.anchor=tt?tt.previousSibling:ct.lastChild):Y=P.nodeType===3?Kd(""):kt("div"),Y.el=P,V.component.subTree=Y}}else v&64?Ct!==8?tt=T():tt=V.type.hydrate(P,V,L,G,b,y,e,_):v&128&&(tt=V.type.hydrate(P,V,L,G,Ai(o(P)),b,y,e,p))}return S!=null&&kr(S,null,G,V),tt},g=(P,V,L,G,b,y)=>{y=y||!!V.dynamicChildren;const{type:E,props:T,patchFlag:A,shapeFlag:S,dirs:v,transition:pt}=V,Ct=E==="input"||E==="option";if(Ct||A!==-1){v&&Le(V,null,L,"created");let tt=!1;if($(P)){tt=Md(null,pt)&&L&&L.vnode.props&&L.vnode.props.appear;const Y=P.content.firstChild;if(tt){const bt=Y.getAttribute("class");bt&&(Y.$cls=bt),pt.beforeEnter(Y)}O(Y,P,L),V.el=P=Y}if(S&16&&!(T&&(T.innerHTML||T.textContent))){let Y=_(P.firstChild,V,P,L,G,b,y);for(;Y;){Ri(P,1)||Tr();const bt=Y;Y=Y.nextSibling,l(bt)}}else if(S&8){let Y=V.children;Y[0]===`
`&&(P.tagName==="PRE"||P.tagName==="TEXTAREA")&&(Y=Y.slice(1));const{textContent:bt}=P;bt!==Y&&bt!==Y.replace(/\r\n|\r/g,`
`)&&(Ri(P,0)||Tr(),P.textContent=V.children)}if(T){if(Ct||!y||A&48){const Y=P.tagName.includes("-");for(const bt in T)(Ct&&(bt.endsWith("value")||bt==="indeterminate")||ni(bt)&&!Yn(bt)||bt[0]==="."||Y&&!Yn(bt))&&r(P,bt,null,T[bt],void 0,L)}else if(T.onClick)r(P,"onClick",null,T.onClick,void 0,L);else if(A&4&&In(T.style))for(const Y in T.style)T.style[Y]}let ct;(ct=T&&T.onVnodeBeforeMount)&&we(ct,L,V),v&&Le(V,null,L,"beforeMount"),((ct=T&&T.onVnodeMounted)||v||tt)&&Hd(()=>{ct&&we(ct,L,V),tt&&pt.enter(P),v&&Le(V,null,L,"mounted")},G)}return P.nextSibling},_=(P,V,L,G,b,y,E)=>{E=E||!!V.dynamicChildren;const T=V.children,A=T.length;for(let S=0;S<A;S++){const v=E?T[S]:T[S]=ve(T[S]),pt=v.type===er;P?(pt&&!E&&S+1<A&&ve(T[S+1]).type===er&&(c(s(P.data.slice(v.children.length)),L,i(P)),P.data=v.children),P=p(P,v,G,b,y,E)):pt&&!v.children?c(v.el=s(""),L):(Ri(L,1)||Tr(),n(null,v,L,null,G,b,Ai(L),y))}return P},I=(P,V,L,G,b,y)=>{const{slotScopeIds:E}=V;E&&(b=b?b.concat(E):E);const T=o(P),A=_(i(P),V,T,L,G,b,y);return A&&Cr(A)&&A.data==="]"?i(V.anchor=A):(Tr(),c(V.anchor=f("]"),T,A),A)},R=(P,V,L,G,b,y)=>{if(Ri(P.parentElement,1)||Tr(),V.el=null,y){const A=D(P);for(;;){const S=i(P);if(S&&S!==A)l(S);else break}}const E=i(P),T=o(P);return l(P),n(null,V,T,E,L,G,Ai(T),b),L&&(L.vnode.el=V.el,Do(L,V.el)),E},D=(P,V="[",L="]")=>{let G=0;for(;P;)if(P=i(P),P&&Cr(P)&&(P.data===V&&G++,P.data===L)){if(G===0)return i(P);G--}return P},O=(P,V,L)=>{const G=V.parentNode;G&&G.replaceChild(P,V);let b=L;for(;b;)b.vnode.el===V&&(b.vnode.el=b.subTree.el=P),b=b.parent},$=P=>P.nodeType===1&&P.tagName==="TEMPLATE";return[h,p]}const Nu="data-allow-mismatch",L_={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ri(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(Nu);)e=e.parentElement;const n=e&&e.getAttribute(Nu);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:r.includes(L_[t])}}Ro().requestIdleCallback;Ro().cancelIdleCallback;function F_(e,t){if(Cr(e)&&e.data==="["){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(Cr(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else t(e)}const Dr=e=>!!e.type.__asyncLoader;function Ou(e){it(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:l=!0,onError:c}=e;let f=null,h,p=0;const g=()=>(p++,f=null,_()),_=()=>{let I;return f||(I=f=t().catch(R=>{if(R=R instanceof Error?R:new Error(String(R)),c)return new Promise((D,O)=>{c(R,()=>D(g()),()=>O(R),p+1)});throw R}).then(R=>I!==f&&f?f:(R&&(R.__esModule||R[Symbol.toStringTag]==="Module")&&(R=R.default),h=R,R)))};return Hl({name:"AsyncComponentWrapper",__asyncLoader:_,__asyncHydrate(I,R,D){let O=!1;(R.bu||(R.bu=[])).push(()=>O=!0);const $=()=>{O||D()},P=i?()=>{const V=i($,L=>F_(I,L));V&&(R.bum||(R.bum=[])).push(V)}:$;h?P():_().then(()=>!R.isUnmounted&&P())},get __asyncResolved(){return h},setup(){const I=Zt;if($l(I),h)return()=>Si(h,I);const R=P=>{f=null,Qr(P,I,13,!r)};if(l&&I.suspense||Hr)return _().then(P=>()=>Si(P,I)).catch(P=>(R(P),()=>r?kt(r,{error:P}):null));const D=be(!1),O=be(),$=be(!!s);return s&&setTimeout(()=>{$.value=!1},s),o!=null&&setTimeout(()=>{if(!D.value&&!O.value){const P=new Error(`Async component timed out after ${o}ms.`);R(P),O.value=P}},o),_().then(()=>{D.value=!0,I.parent&&ql(I.parent.vnode)&&I.parent.update()}).catch(P=>{R(P),O.value=P}),()=>{if(D.value&&h)return Si(h,I);if(O.value&&r)return kt(r,{error:O.value});if(n&&!$.value)return Si(n,I)}}})}function Si(e,t){const{ref:n,props:r,children:s,ce:i}=t.vnode,o=kt(e,r,s);return o.ref=n,o.ce=i,delete t.vnode.ce,o}const ql=e=>e.type.__isKeepAlive;function pd(e,t){md(e,"a",t)}function gd(e,t){md(e,"da",t)}function md(e,t,n=Zt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Vo(t,r,n),n){let s=n.parent;for(;s&&s.parent;)ql(s.parent.vnode)&&U_(r,t,n,s),s=s.parent}}function U_(e,t,n,r){const s=Vo(t,e,r,!0);yd(()=>{xl(r[t],s)},n)}function Vo(e,t,n=Zt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{nn();const l=oi(n),c=We(t,n,e,o);return l(),rn(),c});return r?s.unshift(i):s.push(i),i}}const ln=e=>(t,n=Zt)=>{(!Hr||e==="sp")&&Vo(e,(...r)=>t(...r),n)},j_=ln("bm"),Hs=ln("m"),B_=ln("bu"),H_=ln("u"),_d=ln("bum"),yd=ln("um"),$_=ln("sp"),q_=ln("rtg"),W_=ln("rtc");function Ed(e,t=Zt){Vo("ec",e,t)}const vd="components";function JR(e,t){return wd(vd,e,!0,t)||e}const Td=Symbol.for("v-ndc");function z_(e){return Dt(e)?wd(vd,e,!1)||e:e||Td}function wd(e,t,n=!0,r=!1){const s=Se||Zt;if(s){const i=s.type;{const l=Oy(i,!1);if(l&&(l===t||l===Re(t)||l===Ao(Re(t))))return i}const o=Mu(s[e]||i[e],t)||Mu(s.appContext[e],t);return!o&&r?i:o}}function Mu(e,t){return e&&(e[t]||e[Re(t)]||e[Ao(Re(t))])}function K_(e,t,n,r){let s;const i=n,o=at(e);if(o||Dt(e)){const l=o&&In(e);let c=!1,f=!1;l&&(c=!Te(e),f=qe(e),e=Co(e)),s=new Array(e.length);for(let h=0,p=e.length;h<p;h++)s[h]=t(c?f?jr(Ve(e[h])):Ve(e[h]):e[h],h,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(St(e))if(e[Symbol.iterator])s=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let c=0,f=l.length;c<f;c++){const h=l[c];s[c]=t(e[h],h,c,i)}}else s=[];return s}const qa=e=>e?Qd(e)?Gl(e):qa(e.parent):null,Ps=ee(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qa(e.parent),$root:e=>qa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Id(e),$forceUpdate:e=>e.f||(e.f=()=>{Ul(e.update)}),$nextTick:e=>e.n||(e.n=ad.bind(e.proxy)),$watch:e=>x_.bind(e)}),_a=(e,t)=>e!==Rt&&!e.__isScriptSetup&&Tt(e,t),G_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=e;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(_a(r,t))return o[t]=1,r[t];if(s!==Rt&&Tt(s,t))return o[t]=2,s[t];if(Tt(i,t))return o[t]=3,i[t];if(n!==Rt&&Tt(n,t))return o[t]=4,n[t];Wa&&(o[t]=0)}}const f=Ps[t];let h,p;if(f)return t==="$attrs"&&ae(e.attrs,"get",""),f(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==Rt&&Tt(n,t))return o[t]=4,n[t];if(p=c.config.globalProperties,Tt(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return _a(s,t)?(s[t]=n,!0):r!==Rt&&Tt(r,t)?(r[t]=n,!0):Tt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,props:i,type:o}},l){let c;return!!(n[l]||e!==Rt&&l[0]!=="$"&&Tt(e,l)||_a(t,l)||Tt(i,l)||Tt(r,l)||Tt(Ps,l)||Tt(s.config.globalProperties,l)||(c=o.__cssModules)&&c[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Tt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Lu(e){return at(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Wa=!0;function Q_(e){const t=Id(e),n=e.proxy,r=e.ctx;Wa=!1,t.beforeCreate&&Fu(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:f,created:h,beforeMount:p,mounted:g,beforeUpdate:_,updated:I,activated:R,deactivated:D,beforeDestroy:O,beforeUnmount:$,destroyed:P,unmounted:V,render:L,renderTracked:G,renderTriggered:b,errorCaptured:y,serverPrefetch:E,expose:T,inheritAttrs:A,components:S,directives:v,filters:pt}=t;if(f&&J_(f,r,null),o)for(const ct in o){const Y=o[ct];it(Y)&&(r[ct]=Y.bind(n))}if(s){const ct=s.call(n,n);St(ct)&&(e.data=xn(ct))}if(Wa=!0,i)for(const ct in i){const Y=i[ct],bt=it(Y)?Y.bind(n,n):it(Y.get)?Y.get.bind(n,n):je,dr=!it(Y)&&it(Y.set)?Y.set.bind(n):je,De=Ql({get:bt,set:dr});Object.defineProperty(r,ct,{enumerable:!0,configurable:!0,get:()=>De.value,set:me=>De.value=me})}if(l)for(const ct in l)bd(l[ct],r,n,ct);if(c){const ct=it(c)?c.call(n):c;Reflect.ownKeys(ct).forEach(Y=>{fd(Y,ct[Y])})}h&&Fu(h,e,"c");function tt(ct,Y){at(Y)?Y.forEach(bt=>ct(bt.bind(n))):Y&&ct(Y.bind(n))}if(tt(j_,p),tt(Hs,g),tt(B_,_),tt(H_,I),tt(pd,R),tt(gd,D),tt(Ed,y),tt(W_,G),tt(q_,b),tt(_d,$),tt(yd,V),tt($_,E),at(T))if(T.length){const ct=e.exposed||(e.exposed={});T.forEach(Y=>{Object.defineProperty(ct,Y,{get:()=>n[Y],set:bt=>n[Y]=bt,enumerable:!0})})}else e.exposed||(e.exposed={});L&&e.render===je&&(e.render=L),A!=null&&(e.inheritAttrs=A),S&&(e.components=S),v&&(e.directives=v),E&&$l(e)}function J_(e,t,n=je){at(e)&&(e=za(e));for(const r in e){const s=e[r];let i;St(s)?"default"in s?i=Zn(s.from||r,s.default,!0):i=Zn(s.from||r):i=Zn(s),Ft(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Fu(e,t,n){We(at(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function bd(e,t,n,r){let s=r.includes(".")?dd(n,r):()=>n[r];if(Dt(e)){const i=t[e];it(i)&&ma(s,i)}else if(it(e))ma(s,e.bind(n));else if(St(e))if(at(e))e.forEach(i=>bd(i,t,n,r));else{const i=it(e.handler)?e.handler.bind(n):t[e.handler];it(i)&&ma(s,i,e)}}function Id(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(f=>Xi(c,f,o,!0)),Xi(c,t,o)),St(t)&&i.set(t,c),c}function Xi(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Xi(e,i,n,!0),s&&s.forEach(o=>Xi(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const l=Y_[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const Y_={data:Uu,props:ju,emits:ju,methods:bs,computed:bs,beforeCreate:ue,created:ue,beforeMount:ue,mounted:ue,beforeUpdate:ue,updated:ue,beforeDestroy:ue,beforeUnmount:ue,destroyed:ue,unmounted:ue,activated:ue,deactivated:ue,errorCaptured:ue,serverPrefetch:ue,components:bs,directives:bs,watch:Z_,provide:Uu,inject:X_};function Uu(e,t){return t?e?function(){return ee(it(e)?e.call(this,this):e,it(t)?t.call(this,this):t)}:t:e}function X_(e,t){return bs(za(e),za(t))}function za(e){if(at(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ue(e,t){return e?[...new Set([].concat(e,t))]:t}function bs(e,t){return e?ee(Object.create(null),e,t):t}function ju(e,t){return e?at(e)&&at(t)?[...new Set([...e,...t])]:ee(Object.create(null),Lu(e),Lu(t??{})):t}function Z_(e,t){if(!e)return t;if(!t)return e;const n=ee(Object.create(null),e);for(const r in t)n[r]=ue(e[r],t[r]);return n}function Ad(){return{app:null,config:{isNativeTag:Df,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ty=0;function ey(e,t){return function(r,s=null){it(r)||(r=ee({},r)),s!=null&&!St(s)&&(s=null);const i=Ad(),o=new WeakSet,l=[];let c=!1;const f=i.app={_uid:ty++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Ly,get config(){return i.config},set config(h){},use(h,...p){return o.has(h)||(h&&it(h.install)?(o.add(h),h.install(f,...p)):it(h)&&(o.add(h),h(f,...p))),f},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),f},component(h,p){return p?(i.components[h]=p,f):i.components[h]},directive(h,p){return p?(i.directives[h]=p,f):i.directives[h]},mount(h,p,g){if(!c){const _=f._ceVNode||kt(r,s);return _.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),p&&t?t(_,h):e(_,h,g),c=!0,f._container=h,h.__vue_app__=f,Gl(_.component)}},onUnmount(h){l.push(h)},unmount(){c&&(We(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(h,p){return i.provides[h]=p,f},runWithContext(h){const p=tr;tr=f;try{return h()}finally{tr=p}}};return f}}let tr=null;const ny=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Re(t)}Modifiers`]||e[`${ar(t)}Modifiers`];function ry(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Rt;let s=n;const i=t.startsWith("update:"),o=i&&ny(r,t.slice(7));o&&(o.trim&&(s=n.map(h=>Dt(h)?h.trim():h)),o.number&&(s=n.map(Um)));let l,c=r[l=ua(t)]||r[l=ua(Re(t))];!c&&i&&(c=r[l=ua(ar(t))]),c&&We(c,e,6,s);const f=r[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,We(f,e,6,s)}}const sy=new WeakMap;function Rd(e,t,n=!1){const r=n?sy:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},l=!1;if(!it(e)){const c=f=>{const h=Rd(f,t,!0);h&&(l=!0,ee(o,h))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(St(e)&&r.set(e,null),null):(at(i)?i.forEach(c=>o[c]=null):ee(o,i),St(e)&&r.set(e,o),o)}function ko(e,t){return!e||!ni(t)?!1:(t=t.slice(2).replace(/Once$/,""),Tt(e,t[0].toLowerCase()+t.slice(1))||Tt(e,ar(t))||Tt(e,t))}function ya(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:f,renderCache:h,props:p,data:g,setupState:_,ctx:I,inheritAttrs:R}=e,D=Ji(e);let O,$;try{if(n.shapeFlag&4){const V=s||r,L=V;O=ve(f.call(L,V,h,p,_,g,I)),$=l}else{const V=t;O=ve(V.length>1?V(p,{attrs:l,slots:o,emit:c}):V(p,null)),$=t.props?l:oy(l)}}catch(V){Vs.length=0,Qr(V,e,1),O=kt(ke)}let P=O;if($&&R!==!1){const V=Object.keys($),{shapeFlag:L}=P;V.length&&L&7&&(i&&V.some(Pl)&&($=ay($,i)),P=tn(P,$,!1,!0))}return n.dirs&&(P=tn(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Bl(P,n.transition),O=P,Ji(D),O}function iy(e,t=!0){let n;for(let r=0;r<e.length;r++){const s=e[r];if(qs(s)){if(s.type!==ke||s.children==="v-if"){if(n)return;n=s}}else return}return n}const oy=e=>{let t;for(const n in e)(n==="class"||n==="style"||ni(n))&&((t||(t={}))[n]=e[n]);return t},ay=(e,t)=>{const n={};for(const r in e)(!Pl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ly(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:l,patchFlag:c}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Bu(r,o,f):!!o;if(c&8){const h=t.dynamicProps;for(let p=0;p<h.length;p++){const g=h[p];if(o[g]!==r[g]&&!ko(f,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Bu(r,o,f):!0:!!o;return!1}function Bu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!ko(n,i))return!0}return!1}function Do({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Sd={},Cd=()=>Object.create(Sd),Pd=e=>Object.getPrototypeOf(e)===Sd;function cy(e,t,n,r=!1){const s={},i=Cd();e.propsDefaults=Object.create(null),xd(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Sr(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function uy(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,l=Et(s),[c]=e.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let p=0;p<h.length;p++){let g=h[p];if(ko(e.emitsOptions,g))continue;const _=t[g];if(c)if(Tt(i,g))_!==i[g]&&(i[g]=_,f=!0);else{const I=Re(g);s[I]=Ka(c,l,I,_,e,!1)}else _!==i[g]&&(i[g]=_,f=!0)}}}else{xd(e,t,s,i)&&(f=!0);let h;for(const p in l)(!t||!Tt(t,p)&&((h=ar(p))===p||!Tt(t,h)))&&(c?n&&(n[p]!==void 0||n[h]!==void 0)&&(s[p]=Ka(c,l,p,void 0,e,!0)):delete s[p]);if(i!==l)for(const p in i)(!t||!Tt(t,p))&&(delete i[p],f=!0)}f&&Ze(e.attrs,"set","")}function xd(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,l;if(t)for(let c in t){if(Yn(c))continue;const f=t[c];let h;s&&Tt(s,h=Re(c))?!i||!i.includes(h)?n[h]=f:(l||(l={}))[h]=f:ko(e.emitsOptions,c)||(!(c in r)||f!==r[c])&&(r[c]=f,o=!0)}if(i){const c=Et(n),f=l||Rt;for(let h=0;h<i.length;h++){const p=i[h];n[p]=Ka(s,c,p,f[p],e,!Tt(f,p))}}return o}function Ka(e,t,n,r,s,i){const o=e[n];if(o!=null){const l=Tt(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&it(c)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const h=oi(s);r=f[n]=c.call(null,t),h()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===ar(n))&&(r=!0))}return r}const hy=new WeakMap;function Vd(e,t,n=!1){const r=n?hy:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},l=[];let c=!1;if(!it(e)){const h=p=>{c=!0;const[g,_]=Vd(p,t,!0);ee(o,g),_&&l.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!c)return St(e)&&r.set(e,Pr),Pr;if(at(i))for(let h=0;h<i.length;h++){const p=Re(i[h]);Hu(p)&&(o[p]=Rt)}else if(i)for(const h in i){const p=Re(h);if(Hu(p)){const g=i[h],_=o[p]=at(g)||it(g)?{type:g}:ee({},g),I=_.type;let R=!1,D=!0;if(at(I))for(let O=0;O<I.length;++O){const $=I[O],P=it($)&&$.name;if(P==="Boolean"){R=!0;break}else P==="String"&&(D=!1)}else R=it(I)&&I.name==="Boolean";_[0]=R,_[1]=D,(R||Tt(_,"default"))&&l.push(p)}}const f=[o,l];return St(e)&&r.set(e,f),f}function Hu(e){return e[0]!=="$"&&!Yn(e)}const Wl=e=>e==="_"||e==="_ctx"||e==="$stable",zl=e=>at(e)?e.map(ve):[ve(e)],fy=(e,t,n)=>{if(t._n)return t;const r=hd((...s)=>zl(t(...s)),n);return r._c=!1,r},kd=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Wl(s))continue;const i=e[s];if(it(i))t[s]=fy(s,i,r);else if(i!=null){const o=zl(i);t[s]=()=>o}}},Dd=(e,t)=>{const n=zl(t);e.slots.default=()=>n},Nd=(e,t,n)=>{for(const r in t)(n||!Wl(r))&&(e[r]=t[r])},dy=(e,t,n)=>{const r=e.slots=Cd();if(e.vnode.shapeFlag&32){const s=t._;s?(Nd(r,t,n),n&&Lf(r,"_",s,!0)):kd(t,r)}else t&&Dd(e,t)},py=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=Rt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Nd(s,t,n):(i=!t.$stable,kd(t,s)),o=t}else t&&(Dd(e,t),o={default:1});if(i)for(const l in s)!Wl(l)&&o[l]==null&&delete s[l]},de=Hd;function gy(e){return Od(e)}function my(e){return Od(e,M_)}function Od(e,t){const n=Ro();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:f,setElementText:h,parentNode:p,nextSibling:g,setScopeId:_=je,insertStaticContent:I}=e,R=(w,C,N,B=null,F=null,j=null,W=void 0,q=null,z=!!C.dynamicChildren)=>{if(w===C)return;w&&!Tn(w,C)&&(B=cn(w),me(w,F,j,!0),w=null),C.patchFlag===-2&&(z=!1,C.dynamicChildren=null);const{type:H,ref:et,shapeFlag:Q}=C;switch(H){case er:D(w,C,N,B);break;case ke:O(w,C,N,B);break;case xs:w==null&&$(C,N,B,W);break;case Ee:S(w,C,N,B,F,j,W,q,z);break;default:Q&1?L(w,C,N,B,F,j,W,q,z):Q&6?v(w,C,N,B,F,j,W,q,z):(Q&64||Q&128)&&H.process(w,C,N,B,F,j,W,q,z,un)}et!=null&&F?kr(et,w&&w.ref,j,C||w,!C):et==null&&w&&w.ref!=null&&kr(w.ref,null,j,w,!0)},D=(w,C,N,B)=>{if(w==null)r(C.el=l(C.children),N,B);else{const F=C.el=w.el;C.children!==w.children&&f(F,C.children)}},O=(w,C,N,B)=>{w==null?r(C.el=c(C.children||""),N,B):C.el=w.el},$=(w,C,N,B)=>{[w.el,w.anchor]=I(w.children,C,N,B,w.el,w.anchor)},P=({el:w,anchor:C},N,B)=>{let F;for(;w&&w!==C;)F=g(w),r(w,N,B),w=F;r(C,N,B)},V=({el:w,anchor:C})=>{let N;for(;w&&w!==C;)N=g(w),s(w),w=N;s(C)},L=(w,C,N,B,F,j,W,q,z)=>{if(C.type==="svg"?W="svg":C.type==="math"&&(W="mathml"),w==null)G(C,N,B,F,j,W,q,z);else{const H=w.el&&w.el._isVueCE?w.el:null;try{H&&H._beginPatch(),E(w,C,F,j,W,q,z)}finally{H&&H._endPatch()}}},G=(w,C,N,B,F,j,W,q)=>{let z,H;const{props:et,shapeFlag:Q,transition:X,dirs:st}=w;if(z=w.el=o(w.type,j,et&&et.is,et),Q&8?h(z,w.children):Q&16&&y(w.children,z,null,B,F,Ea(w,j),W,q),st&&Le(w,null,B,"created"),b(z,w,w.scopeId,W,B),et){for(const vt in et)vt!=="value"&&!Yn(vt)&&i(z,vt,null,et[vt],j,B);"value"in et&&i(z,"value",null,et.value,j),(H=et.onVnodeBeforeMount)&&we(H,B,w)}st&&Le(w,null,B,"beforeMount");const ht=Md(F,X);ht&&X.beforeEnter(z),r(z,C,N),((H=et&&et.onVnodeMounted)||ht||st)&&de(()=>{H&&we(H,B,w),ht&&X.enter(z),st&&Le(w,null,B,"mounted")},F)},b=(w,C,N,B,F)=>{if(N&&_(w,N),B)for(let j=0;j<B.length;j++)_(w,B[j]);if(F){let j=F.subTree;if(C===j||jd(j.type)&&(j.ssContent===C||j.ssFallback===C)){const W=F.vnode;b(w,W,W.scopeId,W.slotScopeIds,F.parent)}}},y=(w,C,N,B,F,j,W,q,z=0)=>{for(let H=z;H<w.length;H++){const et=w[H]=q?En(w[H]):ve(w[H]);R(null,et,C,N,B,F,j,W,q)}},E=(w,C,N,B,F,j,W)=>{const q=C.el=w.el;let{patchFlag:z,dynamicChildren:H,dirs:et}=C;z|=w.patchFlag&16;const Q=w.props||Rt,X=C.props||Rt;let st;if(N&&qn(N,!1),(st=X.onVnodeBeforeUpdate)&&we(st,N,C,w),et&&Le(C,w,N,"beforeUpdate"),N&&qn(N,!0),(Q.innerHTML&&X.innerHTML==null||Q.textContent&&X.textContent==null)&&h(q,""),H?T(w.dynamicChildren,H,q,N,B,Ea(C,F),j):W||Y(w,C,q,null,N,B,Ea(C,F),j,!1),z>0){if(z&16)A(q,Q,X,N,F);else if(z&2&&Q.class!==X.class&&i(q,"class",null,X.class,F),z&4&&i(q,"style",Q.style,X.style,F),z&8){const ht=C.dynamicProps;for(let vt=0;vt<ht.length;vt++){const yt=ht[vt],re=Q[yt],$t=X[yt];($t!==re||yt==="value")&&i(q,yt,re,$t,F,N)}}z&1&&w.children!==C.children&&h(q,C.children)}else!W&&H==null&&A(q,Q,X,N,F);((st=X.onVnodeUpdated)||et)&&de(()=>{st&&we(st,N,C,w),et&&Le(C,w,N,"updated")},B)},T=(w,C,N,B,F,j,W)=>{for(let q=0;q<C.length;q++){const z=w[q],H=C[q],et=z.el&&(z.type===Ee||!Tn(z,H)||z.shapeFlag&198)?p(z.el):N;R(z,H,et,null,B,F,j,W,!0)}},A=(w,C,N,B,F)=>{if(C!==N){if(C!==Rt)for(const j in C)!Yn(j)&&!(j in N)&&i(w,j,C[j],null,F,B);for(const j in N){if(Yn(j))continue;const W=N[j],q=C[j];W!==q&&j!=="value"&&i(w,j,q,W,F,B)}"value"in N&&i(w,"value",C.value,N.value,F)}},S=(w,C,N,B,F,j,W,q,z)=>{const H=C.el=w?w.el:l(""),et=C.anchor=w?w.anchor:l("");let{patchFlag:Q,dynamicChildren:X,slotScopeIds:st}=C;st&&(q=q?q.concat(st):st),w==null?(r(H,N,B),r(et,N,B),y(C.children||[],N,et,F,j,W,q,z)):Q>0&&Q&64&&X&&w.dynamicChildren&&w.dynamicChildren.length===X.length?(T(w.dynamicChildren,X,N,F,j,W,q),(C.key!=null||F&&C===F.subTree)&&Ld(w,C,!0)):Y(w,C,N,et,F,j,W,q,z)},v=(w,C,N,B,F,j,W,q,z)=>{C.slotScopeIds=q,w==null?C.shapeFlag&512?F.ctx.activate(C,N,B,W,z):pt(C,N,B,F,j,W,z):Ct(w,C,z)},pt=(w,C,N,B,F,j,W)=>{const q=w.component=xy(w,B,F);if(ql(w)&&(q.ctx.renderer=un),Vy(q,!1,W),q.asyncDep){if(F&&F.registerDep(q,tt,W),!w.el){const z=q.subTree=kt(ke);O(null,z,C,N),w.placeholder=z.el}}else tt(q,w,C,N,F,j,W)},Ct=(w,C,N)=>{const B=C.component=w.component;if(ly(w,C,N))if(B.asyncDep&&!B.asyncResolved){ct(B,C,N);return}else B.next=C,B.update();else C.el=w.el,B.vnode=C},tt=(w,C,N,B,F,j,W)=>{const q=()=>{if(w.isMounted){let{next:Q,bu:X,u:st,parent:ht,vnode:vt}=w;{const qt=Fd(w);if(qt){Q&&(Q.el=vt.el,ct(w,Q,W)),qt.asyncDep.then(()=>{w.isUnmounted||q()});return}}let yt=Q,re;qn(w,!1),Q?(Q.el=vt.el,ct(w,Q,W)):Q=vt,X&&ha(X),(re=Q.props&&Q.props.onVnodeBeforeUpdate)&&we(re,ht,Q,vt),qn(w,!0);const $t=ya(w),fe=w.subTree;w.subTree=$t,R(fe,$t,p(fe.el),cn(fe),w,F,j),Q.el=$t.el,yt===null&&Do(w,$t.el),st&&de(st,F),(re=Q.props&&Q.props.onVnodeUpdated)&&de(()=>we(re,ht,Q,vt),F)}else{let Q;const{el:X,props:st}=C,{bm:ht,m:vt,parent:yt,root:re,type:$t}=w,fe=Dr(C);if(qn(w,!1),ht&&ha(ht),!fe&&(Q=st&&st.onVnodeBeforeMount)&&we(Q,yt,C),qn(w,!0),X&&gr){const qt=()=>{w.subTree=ya(w),gr(X,w.subTree,w,F,null)};fe&&$t.__asyncHydrate?$t.__asyncHydrate(X,w,qt):qt()}else{re.ce&&re.ce._def.shadowRoot!==!1&&re.ce._injectChildStyle($t);const qt=w.subTree=ya(w);R(null,qt,N,B,w,F,j),C.el=qt.el}if(vt&&de(vt,F),!fe&&(Q=st&&st.onVnodeMounted)){const qt=C;de(()=>we(Q,yt,qt),F)}(C.shapeFlag&256||yt&&Dr(yt.vnode)&&yt.vnode.shapeFlag&256)&&w.a&&de(w.a,F),w.isMounted=!0,C=N=B=null}};w.scope.on();const z=w.effect=new Hf(q);w.scope.off();const H=w.update=z.run.bind(z),et=w.job=z.runIfDirty.bind(z);et.i=w,et.id=w.uid,z.scheduler=()=>Ul(et),qn(w,!0),H()},ct=(w,C,N)=>{C.component=w;const B=w.vnode.props;w.vnode=C,w.next=null,uy(w,C.props,B,N),py(w,C.children,N),nn(),Vu(w),rn()},Y=(w,C,N,B,F,j,W,q,z=!1)=>{const H=w&&w.children,et=w?w.shapeFlag:0,Q=C.children,{patchFlag:X,shapeFlag:st}=C;if(X>0){if(X&128){dr(H,Q,N,B,F,j,W,q,z);return}else if(X&256){bt(H,Q,N,B,F,j,W,q,z);return}}st&8?(et&16&&Qe(H,F,j),Q!==H&&h(N,Q)):et&16?st&16?dr(H,Q,N,B,F,j,W,q,z):Qe(H,F,j,!0):(et&8&&h(N,""),st&16&&y(Q,N,B,F,j,W,q,z))},bt=(w,C,N,B,F,j,W,q,z)=>{w=w||Pr,C=C||Pr;const H=w.length,et=C.length,Q=Math.min(H,et);let X;for(X=0;X<Q;X++){const st=C[X]=z?En(C[X]):ve(C[X]);R(w[X],st,N,null,F,j,W,q,z)}H>et?Qe(w,F,j,!0,!1,Q):y(C,N,B,F,j,W,q,z,Q)},dr=(w,C,N,B,F,j,W,q,z)=>{let H=0;const et=C.length;let Q=w.length-1,X=et-1;for(;H<=Q&&H<=X;){const st=w[H],ht=C[H]=z?En(C[H]):ve(C[H]);if(Tn(st,ht))R(st,ht,N,null,F,j,W,q,z);else break;H++}for(;H<=Q&&H<=X;){const st=w[Q],ht=C[X]=z?En(C[X]):ve(C[X]);if(Tn(st,ht))R(st,ht,N,null,F,j,W,q,z);else break;Q--,X--}if(H>Q){if(H<=X){const st=X+1,ht=st<et?C[st].el:B;for(;H<=X;)R(null,C[H]=z?En(C[H]):ve(C[H]),N,ht,F,j,W,q,z),H++}}else if(H>X)for(;H<=Q;)me(w[H],F,j,!0),H++;else{const st=H,ht=H,vt=new Map;for(H=ht;H<=X;H++){const Mt=C[H]=z?En(C[H]):ve(C[H]);Mt.key!=null&&vt.set(Mt.key,H)}let yt,re=0;const $t=X-ht+1;let fe=!1,qt=0;const Je=new Array($t);for(H=0;H<$t;H++)Je[H]=0;for(H=st;H<=Q;H++){const Mt=w[H];if(re>=$t){me(Mt,F,j,!0);continue}let _e;if(Mt.key!=null)_e=vt.get(Mt.key);else for(yt=ht;yt<=X;yt++)if(Je[yt-ht]===0&&Tn(Mt,C[yt])){_e=yt;break}_e===void 0?me(Mt,F,j,!0):(Je[_e-ht]=H+1,_e>=qt?qt=_e:fe=!0,R(Mt,C[_e],N,null,F,j,W,q,z),re++)}const mr=fe?_y(Je):Pr;for(yt=mr.length-1,H=$t-1;H>=0;H--){const Mt=ht+H,_e=C[Mt],Un=C[Mt+1],is=Mt+1<et?Un.el||Ud(Un):B;Je[H]===0?R(null,_e,N,is,F,j,W,q,z):fe&&(yt<0||H!==mr[yt]?De(_e,N,is,2):yt--)}}},De=(w,C,N,B,F=null)=>{const{el:j,type:W,transition:q,children:z,shapeFlag:H}=w;if(H&6){De(w.component.subTree,C,N,B);return}if(H&128){w.suspense.move(C,N,B);return}if(H&64){W.move(w,C,N,un);return}if(W===Ee){r(j,C,N);for(let Q=0;Q<z.length;Q++)De(z[Q],C,N,B);r(w.anchor,C,N);return}if(W===xs){P(w,C,N);return}if(B!==2&&H&1&&q)if(B===0)q.beforeEnter(j),r(j,C,N),de(()=>q.enter(j),F);else{const{leave:Q,delayLeave:X,afterLeave:st}=q,ht=()=>{w.ctx.isUnmounted?s(j):r(j,C,N)},vt=()=>{j._isLeaving&&j[D_](!0),Q(j,()=>{ht(),st&&st()})};X?X(j,ht,vt):vt()}else r(j,C,N)},me=(w,C,N,B=!1,F=!1)=>{const{type:j,props:W,ref:q,children:z,dynamicChildren:H,shapeFlag:et,patchFlag:Q,dirs:X,cacheIndex:st}=w;if(Q===-2&&(F=!1),q!=null&&(nn(),kr(q,null,N,w,!0),rn()),st!=null&&(C.renderCache[st]=void 0),et&256){C.ctx.deactivate(w);return}const ht=et&1&&X,vt=!Dr(w);let yt;if(vt&&(yt=W&&W.onVnodeBeforeUnmount)&&we(yt,C,w),et&6)ns(w.component,N,B);else{if(et&128){w.suspense.unmount(N,B);return}ht&&Le(w,null,C,"beforeUnmount"),et&64?w.type.remove(w,C,N,un,B):H&&!H.hasOnce&&(j!==Ee||Q>0&&Q&64)?Qe(H,C,N,!1,!0):(j===Ee&&Q&384||!F&&et&16)&&Qe(z,C,N),B&&es(w)}(vt&&(yt=W&&W.onVnodeUnmounted)||ht)&&de(()=>{yt&&we(yt,C,w),ht&&Le(w,null,C,"unmounted")},N)},es=w=>{const{type:C,el:N,anchor:B,transition:F}=w;if(C===Ee){pr(N,B);return}if(C===xs){V(w);return}const j=()=>{s(N),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(w.shapeFlag&1&&F&&!F.persisted){const{leave:W,delayLeave:q}=F,z=()=>W(N,j);q?q(w.el,j,z):z()}else j()},pr=(w,C)=>{let N;for(;w!==C;)N=g(w),s(w),w=N;s(C)},ns=(w,C,N)=>{const{bum:B,scope:F,job:j,subTree:W,um:q,m:z,a:H}=w;$u(z),$u(H),B&&ha(B),F.stop(),j&&(j.flags|=8,me(W,w,C,N)),q&&de(q,C),de(()=>{w.isUnmounted=!0},C)},Qe=(w,C,N,B=!1,F=!1,j=0)=>{for(let W=j;W<w.length;W++)me(w[W],C,N,B,F)},cn=w=>{if(w.shapeFlag&6)return cn(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const C=g(w.anchor||w.el),N=C&&C[V_];return N?g(N):C};let Fn=!1;const rs=(w,C,N)=>{let B;w==null?C._vnode&&(me(C._vnode,null,null,!0),B=C._vnode.component):R(C._vnode||null,w,C,null,null,null,N),C._vnode=w,Fn||(Fn=!0,Vu(B),Qi(),Fn=!1)},un={p:R,um:me,m:De,r:es,mt:pt,mc:y,pc:Y,pbc:T,n:cn,o:e};let ss,gr;return t&&([ss,gr]=t(un)),{render:rs,hydrate:ss,createApp:ey(rs,ss)}}function Ea({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function qn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Md(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ld(e,t,n=!1){const r=e.children,s=t.children;if(at(r)&&at(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=En(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Ld(o,l)),l.type===er&&(l.patchFlag!==-1?l.el=o.el:l.__elIndex=i+(e.type===Ee?1:0)),l.type===ke&&!l.el&&(l.el=o.el)}}function _y(e){const t=e.slice(),n=[0];let r,s,i,o,l;const c=e.length;for(r=0;r<c;r++){const f=e[r];if(f!==0){if(s=n[n.length-1],e[s]<f){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<f?i=l+1:o=l;f<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Fd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Fd(t)}function $u(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Ud(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Ud(t.subTree):null}const jd=e=>e.__isSuspense;let Ga=0;const yy={name:"Suspense",__isSuspense:!0,process(e,t,n,r,s,i,o,l,c,f){if(e==null)vy(t,n,r,s,i,o,l,c,f);else{if(i&&i.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}Ty(e,t,n,r,s,o,l,c,f)}},hydrate:wy,normalize:by},Ey=yy;function $s(e,t){const n=e.props&&e.props[t];it(n)&&n()}function vy(e,t,n,r,s,i,o,l,c){const{p:f,o:{createElement:h}}=c,p=h("div"),g=e.suspense=Bd(e,s,r,t,p,n,i,o,l,c);f(null,g.pendingBranch=e.ssContent,p,null,r,g,i,o),g.deps>0?($s(e,"onPending"),$s(e,"onFallback"),f(null,e.ssFallback,t,n,r,null,i,o),Nr(g,e.ssFallback)):g.resolve(!1,!0)}function Ty(e,t,n,r,s,i,o,l,{p:c,um:f,o:{createElement:h}}){const p=t.suspense=e.suspense;p.vnode=t,t.el=e.el;const g=t.ssContent,_=t.ssFallback,{activeBranch:I,pendingBranch:R,isInFallback:D,isHydrating:O}=p;if(R)p.pendingBranch=g,Tn(R,g)?(c(R,g,p.hiddenContainer,null,s,p,i,o,l),p.deps<=0?p.resolve():D&&(O||(c(I,_,n,r,s,null,i,o,l),Nr(p,_)))):(p.pendingId=Ga++,O?(p.isHydrating=!1,p.activeBranch=R):f(R,s,p),p.deps=0,p.effects.length=0,p.hiddenContainer=h("div"),D?(c(null,g,p.hiddenContainer,null,s,p,i,o,l),p.deps<=0?p.resolve():(c(I,_,n,r,s,null,i,o,l),Nr(p,_))):I&&Tn(I,g)?(c(I,g,n,r,s,p,i,o,l),p.resolve(!0)):(c(null,g,p.hiddenContainer,null,s,p,i,o,l),p.deps<=0&&p.resolve()));else if(I&&Tn(I,g))c(I,g,n,r,s,p,i,o,l),Nr(p,g);else if($s(t,"onPending"),p.pendingBranch=g,g.shapeFlag&512?p.pendingId=g.component.suspenseId:p.pendingId=Ga++,c(null,g,p.hiddenContainer,null,s,p,i,o,l),p.deps<=0)p.resolve();else{const{timeout:$,pendingId:P}=p;$>0?setTimeout(()=>{p.pendingId===P&&p.fallback(_)},$):$===0&&p.fallback(_)}}function Bd(e,t,n,r,s,i,o,l,c,f,h=!1){const{p,m:g,um:_,n:I,o:{parentNode:R,remove:D}}=f;let O;const $=Iy(e);$&&t&&t.pendingBranch&&(O=t.pendingId,t.deps++);const P=e.props?jm(e.props.timeout):void 0,V=i,L={vnode:e,parent:t,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Ga++,timeout:typeof P=="number"?P:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(G=!1,b=!1){const{vnode:y,activeBranch:E,pendingBranch:T,pendingId:A,effects:S,parentComponent:v,container:pt,isInFallback:Ct}=L;let tt=!1;L.isHydrating?L.isHydrating=!1:G||(tt=E&&T.transition&&T.transition.mode==="out-in",tt&&(E.transition.afterLeave=()=>{A===L.pendingId&&(g(T,pt,i===V?I(E):i,0),$a(S),Ct&&y.ssFallback&&(y.ssFallback.el=null))}),E&&(R(E.el)===pt&&(i=I(E)),_(E,v,L,!0),!tt&&Ct&&y.ssFallback&&de(()=>y.ssFallback.el=null,L)),tt||g(T,pt,i,0)),Nr(L,T),L.pendingBranch=null,L.isInFallback=!1;let ct=L.parent,Y=!1;for(;ct;){if(ct.pendingBranch){ct.effects.push(...S),Y=!0;break}ct=ct.parent}!Y&&!tt&&$a(S),L.effects=[],$&&t&&t.pendingBranch&&O===t.pendingId&&(t.deps--,t.deps===0&&!b&&t.resolve()),$s(y,"onResolve")},fallback(G){if(!L.pendingBranch)return;const{vnode:b,activeBranch:y,parentComponent:E,container:T,namespace:A}=L;$s(b,"onFallback");const S=I(y),v=()=>{L.isInFallback&&(p(null,G,T,S,E,null,A,l,c),Nr(L,G))},pt=G.transition&&G.transition.mode==="out-in";pt&&(y.transition.afterLeave=v),L.isInFallback=!0,_(y,E,null,!0),pt||v()},move(G,b,y){L.activeBranch&&g(L.activeBranch,G,b,y),L.container=G},next(){return L.activeBranch&&I(L.activeBranch)},registerDep(G,b,y){const E=!!L.pendingBranch;E&&L.deps++;const T=G.vnode.el;G.asyncDep.catch(A=>{Qr(A,G,0)}).then(A=>{if(G.isUnmounted||L.isUnmounted||L.pendingId!==G.suspenseId)return;G.asyncResolved=!0;const{vnode:S}=G;Ja(G,A),T&&(S.el=T);const v=!T&&G.subTree.el;b(G,S,R(T||G.subTree.el),T?null:I(G.subTree),L,o,y),v&&(S.placeholder=null,D(v)),Do(G,S.el),E&&--L.deps===0&&L.resolve()})},unmount(G,b){L.isUnmounted=!0,L.activeBranch&&_(L.activeBranch,n,G,b),L.pendingBranch&&_(L.pendingBranch,n,G,b)}};return L}function wy(e,t,n,r,s,i,o,l,c){const f=t.suspense=Bd(t,r,n,e.parentNode,document.createElement("div"),null,s,i,o,l,!0),h=c(e,f.pendingBranch=t.ssContent,n,f,i,o);return f.deps===0&&f.resolve(!1,!0),h}function by(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=qu(r?n.default:n),e.ssFallback=r?qu(n.fallback):kt(ke)}function qu(e){let t;if(it(e)){const n=Br&&e._c;n&&(e._d=!1,Jt()),e=e(),n&&(e._d=!0,t=ge,$d())}return at(e)&&(e=iy(e)),e=ve(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Hd(e,t){t&&t.pendingBranch?at(e)?t.effects.push(...e):t.effects.push(e):$a(e)}function Nr(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Do(r,s))}function Iy(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Ee=Symbol.for("v-fgt"),er=Symbol.for("v-txt"),ke=Symbol.for("v-cmt"),xs=Symbol.for("v-stc"),Vs=[];let ge=null;function Jt(e=!1){Vs.push(ge=e?null:[])}function $d(){Vs.pop(),ge=Vs[Vs.length-1]||null}let Br=1;function Zi(e,t=!1){Br+=e,e<0&&ge&&t&&(ge.hasOnce=!0)}function qd(e){return e.dynamicChildren=Br>0?ge||Pr:null,$d(),Br>0&&ge&&ge.push(e),e}function Ue(e,t,n,r,s,i){return qd(jt(e,t,n,r,s,i,!0))}function Qn(e,t,n,r,s){return qd(kt(e,t,n,r,s,!0))}function qs(e){return e?e.__v_isVNode===!0:!1}function Tn(e,t){return e.type===t.type&&e.key===t.key}const Wd=({key:e})=>e??null,Li=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Dt(e)||Ft(e)||it(e)?{i:Se,r:e,k:t,f:!!n}:e:null);function jt(e,t=null,n=null,r=0,s=null,i=e===Ee?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wd(t),ref:t&&Li(t),scopeId:ud,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Se};return l?(Kl(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Dt(n)?8:16),Br>0&&!o&&ge&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&ge.push(c),c}const kt=Ay;function Ay(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Td)&&(e=ke),qs(e)){const l=tn(e,t,!0);return n&&Kl(l,n),Br>0&&!i&&ge&&(l.shapeFlag&6?ge[ge.indexOf(e)]=l:ge.push(l)),l.patchFlag=-2,l}if(My(e)&&(e=e.__vccOpts),t){t=zd(t);let{class:l,style:c}=t;l&&!Dt(l)&&(t.class=So(l)),St(c)&&(Po(c)&&!at(c)&&(c=ee({},c)),t.style=ri(c))}const o=Dt(e)?1:jd(e)?128:k_(e)?64:St(e)?4:it(e)?2:0;return jt(e,t,n,r,s,o,i,!0)}function zd(e){return e?Po(e)||Pd(e)?ee({},e):e:null}function tn(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=e,f=t?Sy(s||{},t):s,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Wd(f),ref:t&&t.ref?n&&i?at(i)?i.concat(Li(t)):[i,Li(t)]:Li(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ee?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&tn(e.ssContent),ssFallback:e.ssFallback&&tn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Bl(h,c.clone(h)),h}function Kd(e=" ",t=0){return kt(er,null,e,t)}function Gd(e,t){const n=kt(xs,null,e);return n.staticCount=t,n}function Ry(e="",t=!1){return t?(Jt(),Qn(ke,null,e)):kt(ke,null,e)}function ve(e){return e==null||typeof e=="boolean"?kt(ke):at(e)?kt(Ee,null,e.slice()):qs(e)?En(e):kt(er,null,String(e))}function En(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:tn(e)}function Kl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(at(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Kl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Pd(t)?t._ctx=Se:s===3&&Se&&(Se.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else it(t)?(t={default:t,_ctx:Se},n=32):(t=String(t),r&64?(n=16,t=[Kd(t)]):n=8);e.children=t,e.shapeFlag|=n}function Sy(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=So([t.class,r.class]));else if(s==="style")t.style=ri([t.style,r.style]);else if(ni(s)){const i=t[s],o=r[s];o&&i!==o&&!(at(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function we(e,t,n,r=null){We(e,t,7,[n,r])}const Cy=Ad();let Py=0;function xy(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Cy,i={uid:Py++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vd(r,s),emitsOptions:Rd(r,s),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:r.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ry.bind(null,i),e.ce&&e.ce(i),i}let Zt=null;const ii=()=>Zt||Se;let to,Qa;{const e=Ro(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};to=t("__VUE_INSTANCE_SETTERS__",n=>Zt=n),Qa=t("__VUE_SSR_SETTERS__",n=>Hr=n)}const oi=e=>{const t=Zt;return to(e),e.scope.on(),()=>{e.scope.off(),to(t)}},Wu=()=>{Zt&&Zt.scope.off(),to(null)};function Qd(e){return e.vnode.shapeFlag&4}let Hr=!1;function Vy(e,t=!1,n=!1){t&&Qa(t);const{props:r,children:s}=e.vnode,i=Qd(e);cy(e,r,i,t),dy(e,s,n||t);const o=i?ky(e,t):void 0;return t&&Qa(!1),o}function ky(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,G_);const{setup:r}=n;if(r){nn();const s=e.setupContext=r.length>1?Ny(e):null,i=oi(e),o=si(r,e,0,[e.props,s]),l=Vl(o);if(rn(),i(),(l||e.sp)&&!Dr(e)&&$l(e),l){if(o.then(Wu,Wu),t)return o.then(c=>{Ja(e,c)}).catch(c=>{Qr(c,e,0)});e.asyncDep=o}else Ja(e,o)}else Jd(e)}function Ja(e,t,n){it(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:St(t)&&(e.setupState=sd(t)),Jd(e)}function Jd(e,t,n){const r=e.type;e.render||(e.render=r.render||je);{const s=oi(e);nn();try{Q_(e)}finally{rn(),s()}}}const Dy={get(e,t){return ae(e,"get",""),e[t]}};function Ny(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Dy),slots:e.slots,emit:e.emit,expose:t}}function Gl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sd(g_(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ps)return Ps[n](e)},has(t,n){return n in t||n in Ps}})):e.proxy}function Oy(e,t=!0){return it(e)?e.displayName||e.name:e.name||t&&e.__name}function My(e){return it(e)&&"__vccOpts"in e}const Ql=(e,t)=>w_(e,t,Hr);function nr(e,t,n){try{Zi(-1);const r=arguments.length;return r===2?St(t)&&!at(t)?qs(t)?kt(e,null,[t]):kt(e,t):kt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&qs(n)&&(n=[n]),kt(e,t,n))}finally{Zi(1)}}const Ly="3.5.27";let Ya;const zu=typeof window<"u"&&window.trustedTypes;if(zu)try{Ya=zu.createPolicy("vue",{createHTML:e=>e})}catch{}const Yd=Ya?e=>Ya.createHTML(e):e=>e,Fy="http://www.w3.org/2000/svg",Uy="http://www.w3.org/1998/Math/MathML",Xe=typeof document<"u"?document:null,Ku=Xe&&Xe.createElement("template"),jy={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Xe.createElementNS(Fy,e):t==="mathml"?Xe.createElementNS(Uy,e):n?Xe.createElement(e,{is:n}):Xe.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Xe.createTextNode(e),createComment:e=>Xe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Ku.innerHTML=Yd(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=Ku.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},By=Symbol("_vtc");function Hy(e,t,n){const r=e[By];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Gu=Symbol("_vod"),$y=Symbol("_vsh"),qy=Symbol(""),Wy=/(?:^|;)\s*display\s*:/;function zy(e,t,n){const r=e.style,s=Dt(n);let i=!1;if(n&&!s){if(t)if(Dt(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Fi(r,l,"")}else for(const o in t)n[o]==null&&Fi(r,o,"");for(const o in n)o==="display"&&(i=!0),Fi(r,o,n[o])}else if(s){if(t!==n){const o=r[qy];o&&(n+=";"+o),r.cssText=n,i=Wy.test(n)}}else t&&e.removeAttribute("style");Gu in e&&(e[Gu]=i?r.display:"",e[$y]&&(r.display="none"))}const Qu=/\s*!important$/;function Fi(e,t,n){if(at(n))n.forEach(r=>Fi(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Ky(e,t);Qu.test(n)?e.setProperty(ar(r),n.replace(Qu,""),"important"):e[r]=n}}const Ju=["Webkit","Moz","ms"],va={};function Ky(e,t){const n=va[t];if(n)return n;let r=Re(t);if(r!=="filter"&&r in e)return va[t]=r;r=Ao(r);for(let s=0;s<Ju.length;s++){const i=Ju[s]+r;if(i in e)return va[t]=i}return t}const Yu="http://www.w3.org/1999/xlink";function Xu(e,t,n,r,s,i=Km(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Yu,t.slice(6,t.length)):e.setAttributeNS(Yu,t,n):n==null||i&&!Ff(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Ln(n)?String(n):n)}function Zu(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Yd(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Ff(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function Gy(e,t,n,r){e.addEventListener(t,n,r)}function Qy(e,t,n,r){e.removeEventListener(t,n,r)}const th=Symbol("_vei");function Jy(e,t,n,r,s=null){const i=e[th]||(e[th]={}),o=i[t];if(r&&o)o.value=r;else{const[l,c]=Yy(t);if(r){const f=i[t]=tE(r,s);Gy(e,l,f,c)}else o&&(Qy(e,l,o,c),i[t]=void 0)}}const eh=/(?:Once|Passive|Capture)$/;function Yy(e){let t;if(eh.test(e)){t={};let r;for(;r=e.match(eh);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ar(e.slice(2)),t]}let Ta=0;const Xy=Promise.resolve(),Zy=()=>Ta||(Xy.then(()=>Ta=0),Ta=Date.now());function tE(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;We(eE(r,n.value),t,5,[r])};return n.value=e,n.attached=Zy(),n}function eE(e,t){if(at(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const nh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,nE=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?Hy(e,r,o):t==="style"?zy(e,n,r):ni(t)?Pl(t)||Jy(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):rE(e,t,r,o))?(Zu(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Xu(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Dt(r))?Zu(e,Re(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Xu(e,t,r,o))};function rE(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&nh(t)&&it(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return nh(t)&&Dt(n)?!1:t in e}const Xd=ee({patchProp:nE},jy);let ks,rh=!1;function sE(){return ks||(ks=gy(Xd))}function iE(){return ks=rh?ks:my(Xd),rh=!0,ks}const oE=((...e)=>{const t=sE().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=tp(r);if(!s)return;const i=t._component;!it(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Zd(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t}),aE=((...e)=>{const t=iE().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=tp(r);if(s)return n(s,!0,Zd(s))},t});function Zd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function tp(e){return Dt(e)?document.querySelector(e):e}const lE=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,cE=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,uE=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function hE(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){fE(e);return}return t}function fE(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function eo(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!uE.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(lE.test(e)||cE.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,hE)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}const dE=/#/g,pE=/&/g,gE=/\//g,mE=/=/g,Jl=/\+/g,_E=/%5e/gi,yE=/%60/gi,EE=/%7c/gi,vE=/%20/gi;function TE(e){return encodeURI(""+e).replace(EE,"|")}function Xa(e){return TE(typeof e=="string"?e:JSON.stringify(e)).replace(Jl,"%2B").replace(vE,"+").replace(dE,"%23").replace(pE,"%26").replace(yE,"`").replace(_E,"^").replace(gE,"%2F")}function wa(e){return Xa(e).replace(mE,"%3D")}function no(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function wE(e){return no(e.replace(Jl," "))}function bE(e){return no(e.replace(Jl," "))}function Yl(e=""){const t=Object.create(null);e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=wE(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=bE(r[2]||"");t[s]===void 0?t[s]=i:Array.isArray(t[s])?t[s].push(i):t[s]=[t[s],i]}return t}function IE(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${wa(e)}=${Xa(n)}`).join("&"):`${wa(e)}=${Xa(t)}`:wa(e)}function ep(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>IE(t,e[t])).filter(Boolean).join("&")}const AE=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,np=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,RE=/^([/\\]\s*){2,}[^/\\]/,SE=/^[\s\0]*(blob|data|javascript|vbscript):$/i,CE=/\/$|\/\?|\/#/,PE=/^\.?\//;function lr(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?AE.test(e):np.test(e)||(t.acceptRelative?RE.test(e):!1)}function xE(e){return!!e&&SE.test(e)}function Za(e="",t){return t?CE.test(e):e.endsWith("/")}function rp(e="",t){if(!t)return(Za(e)?e.slice(0,-1):e)||"/";if(!Za(e,!0))return e||"/";let n=e,r="";const s=e.indexOf("#");s!==-1&&(n=e.slice(0,s),r=e.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function tl(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(Za(e,!0))return e||"/";let n=e,r="";const s=e.indexOf("#");if(s!==-1&&(n=e.slice(0,s),r=e.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function VE(e=""){return e.startsWith("/")}function sh(e=""){return VE(e)?e:"/"+e}function kE(e,t){if(ip(t)||lr(e))return e;const n=rp(t);if(e.startsWith(n)){const r=e[n.length];if(!r||r==="/"||r==="?")return e}return No(n,e)}function DE(e,t){if(ip(t))return e;const n=rp(t);if(!e.startsWith(n))return e;const r=e[n.length];if(r&&r!=="/"&&r!=="?")return e;const s=e.slice(n.length);return s[0]==="/"?s:"/"+s}function sp(e,t){const n=lp(e),r={...Yl(n.search),...t};return n.search=ep(r),cp(n)}function ip(e){return!e||e==="/"}function NE(e){return e&&e!=="/"}function No(e,...t){let n=e||"";for(const r of t.filter(s=>NE(s)))if(n){const s=r.replace(PE,"");n=tl(n)+s}else n=r;return n}function op(...e){const t=/\/(?!\/)/,n=e.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[l,c]of o.split(t).entries())if(!(!c||c===".")){if(c===".."){if(r.length===1&&lr(r[0]))continue;r.pop(),s--;continue}if(l===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+c;continue}r.push(c),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function OE(e){return ME(e,"https://")}function ME(e,t){let n=e.match(np);return n||(n=e.match(/^\/{2,}/)),n?t+e.slice(n[0].length):t+e}function LE(e,t,n={}){return n.trailingSlash||(e=tl(e),t=tl(t)),n.leadingSlash||(e=sh(e),t=sh(t)),n.encoding||(e=no(e),t=no(t)),e===t}const ap=Symbol.for("ufo:protocolRelative");function lp(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,g=""]=n;return{protocol:p.toLowerCase(),pathname:g,href:p+g,auth:"",host:"",search:"",hash:""}}if(!lr(e,{acceptRelative:!0}))return ih(e);const[,r="",s,i=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",l=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:f,hash:h}=ih(l);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:c,search:f,hash:h,[ap]:!r}}function ih(e=""){const[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function cp(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",r=e.hash||"",s=e.auth?e.auth+"@":"",i=e.host||"";return(e.protocol||e[ap]?(e.protocol||"")+"//":"")+s+i+t+n+r}class FE extends Error{constructor(t,n){super(t,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function UE(e){const t=e.error?.message||e.error?.toString()||"",n=e.request?.method||e.options?.method||"GET",r=e.request?.url||String(e.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=`${s}: ${i}${t?` ${t}`:""}`,l=new FE(o,e.error?{cause:e.error}:void 0);for(const c of["request","options","response"])Object.defineProperty(l,c,{get(){return e[c]}});for(const[c,f]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(l,c,{get(){return e.response&&e.response[f]}});return l}const jE=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function oh(e="GET"){return jE.has(e.toUpperCase())}function BE(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer||e instanceof FormData||e instanceof URLSearchParams?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const HE=new Set(["image/svg","application/xml","application/xhtml","application/html"]),$E=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function qE(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return $E.test(t)?"json":t==="text/event-stream"?"stream":HE.has(t)||t.startsWith("text/")?"text":"blob"}function WE(e,t,n,r){const s=zE(t?.headers??e?.headers,n?.headers,r);let i;return(n?.query||n?.params||t?.params||t?.query)&&(i={...n?.params,...n?.query,...t?.params,...t?.query}),{...n,...t,query:i,params:i,headers:s}}function zE(e,t,n){if(!t)return new n(e);const r=new n(t);if(e)for(const[s,i]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))r.set(s,i);return r}async function Ci(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const KE=new Set([408,409,425,429,500,502,503,504]),GE=new Set([101,204,205,304]);function up(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=e;async function s(l){const c=l.error&&l.error.name==="AbortError"&&!l.options.timeout||!1;if(l.options.retry!==!1&&!c){let h;typeof l.options.retry=="number"?h=l.options.retry:h=oh(l.options.method)?0:1;const p=l.response&&l.response.status||500;if(h>0&&(Array.isArray(l.options.retryStatusCodes)?l.options.retryStatusCodes.includes(p):KE.has(p))){const g=typeof l.options.retryDelay=="function"?l.options.retryDelay(l):l.options.retryDelay||0;return g>0&&await new Promise(_=>setTimeout(_,g)),i(l.request,{...l.options,retry:h-1})}}const f=UE(l);throw Error.captureStackTrace&&Error.captureStackTrace(f,i),f}const i=async function(c,f={}){const h={request:c,options:WE(c,f,e.defaults,n),response:void 0,error:void 0};if(h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&(await Ci(h,h.options.onRequest),h.options.headers instanceof n||(h.options.headers=new n(h.options.headers||{}))),typeof h.request=="string"&&(h.options.baseURL&&(h.request=kE(h.request,h.options.baseURL)),h.options.query&&(h.request=sp(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&oh(h.options.method))if(BE(h.options.body)){const _=h.options.headers.get("content-type");typeof h.options.body!="string"&&(h.options.body=_==="application/x-www-form-urlencoded"?new URLSearchParams(h.options.body).toString():JSON.stringify(h.options.body)),_||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")}else("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half"));let p;if(!h.options.signal&&h.options.timeout){const _=new r;p=setTimeout(()=>{const I=new Error("[TimeoutError]: The operation was aborted due to timeout");I.name="TimeoutError",I.code=23,_.abort(I)},h.options.timeout),h.options.signal=_.signal}try{h.response=await t(h.request,h.options)}catch(_){return h.error=_,h.options.onRequestError&&await Ci(h,h.options.onRequestError),await s(h)}finally{p&&clearTimeout(p)}if((h.response.body||h.response._bodyInit)&&!GE.has(h.response.status)&&h.options.method!=="HEAD"){const _=(h.options.parseResponse?"json":h.options.responseType)||qE(h.response.headers.get("content-type")||"");switch(_){case"json":{const I=await h.response.text(),R=h.options.parseResponse||eo;h.response._data=R(I);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[_]()}}return h.options.onResponse&&await Ci(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await Ci(h,h.options.onResponseError),await s(h)):h.response},o=async function(c,f){return(await i(c,f))._data};return o.raw=i,o.native=(...l)=>t(...l),o.create=(l={},c={})=>up({...e,...c,defaults:{...e.defaults,...c.defaults,...l}}),o}const ro=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),QE=ro.fetch?(...e)=>ro.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),JE=ro.Headers,YE=ro.AbortController,XE=up({fetch:QE,Headers:JE,AbortController:YE}),ZE=XE,tv=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,Xl=()=>tv().app,ev=()=>Xl().baseURL,nv=()=>Xl().buildAssetsDir,Zl=(...e)=>op(hp(),nv(),...e),hp=(...e)=>{const t=Xl(),n=t.cdnURL||t.baseURL;return e.length?op(n,...e):n};globalThis.__buildAssetsURL=Zl,globalThis.__publicAssetsURL=hp;globalThis.$fetch||(globalThis.$fetch=ZE.create({baseURL:ev()}));"global"in globalThis||(globalThis.global=globalThis);function el(e,t={},n){for(const r in e){const s=e[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?el(s,t,i):typeof s=="function"&&(t[i]=s)}return t}const rv={run:e=>e()},sv=()=>rv,fp=typeof console.createTask<"u"?console.createTask:sv;function iv(e,t){const n=t.shift(),r=fp(n);return e.reduce((s,i)=>s.then(()=>r.run(()=>i(...t))),Promise.resolve())}function ov(e,t){const n=t.shift(),r=fp(n);return Promise.all(e.map(s=>r.run(()=>s(...t))))}function ba(e,t){for(const n of[...e])n(t)}let av=class{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const s=t;let i;for(;this._deprecatedHooks[t];)i=this._deprecatedHooks[t],t=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(t,s),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const s of r)this.hook(t,s)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=el(t),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(t){const n=el(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(iv,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(ov,t,...n)}callHookWith(t,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&ba(this._before,s);const i=t(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&ba(this._after,s)}):(this._after&&s&&ba(this._after,s),i)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}};function lv(){return new av}function cv(e={}){let t,n=!1;const r=o=>{if(t&&t!==o)throw new Error("Context conflict")};let s;if(e.asyncContext){const o=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return t};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,l)=>{l||r(o),t=o,n=!0},unset:()=>{t=void 0,n=!1},call:(o,l)=>{r(o),t=o;try{return s?s.run(o,l):l()}finally{n||(t=void 0)}},async callAsync(o,l){t=o;const c=()=>{t=o},f=()=>t===o?c:void 0;nl.add(f);try{const h=s?s.run(o,l):l();return n||(t=void 0),await h}finally{nl.delete(f)}}}}function uv(e={}){const t={};return{get(n,r={}){return t[n]||(t[n]=cv({...e,...r})),t[n]}}}const so=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},ah="__unctx__",hv=so[ah]||(so[ah]=uv()),fv=(e,t={})=>hv.get(e,t),lh="__unctx_async_handlers__",nl=so[lh]||(so[lh]=new Set);function dv(e){const t=[];for(const s of nl){const i=s();i&&t.push(i)}const n=()=>{for(const s of t)s()};let r=e();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const ch={id:"__nuxt-loader"},XR={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},pv="#__nuxt",dp="nuxt-app",uh=36e5,gv="vite:preloadError";function pp(e=dp){return fv(e,{asyncContext:!1})}const mv="__nuxt_plugin";function _v(e){let t=0;const n={_id:e.id||dp||"nuxt-app",_scope:Gm(),provide:void 0,versions:{get nuxt(){return"4.3.0"},get vue(){return n.vueApp.version}},payload:Sr({...e.ssrContext?.payload||{},data:Sr({}),state:xn({}),once:new Set,_errors:Sr({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!kl()?n._scope.run(()=>hh(n,s)):hh(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};t++;let s=!1;return()=>{if(!s&&(s=!0,t--,t===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:Sr({}),_payloadRevivers:{},...e};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=lv(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;Pi(n,o,i),Pi(n.vueApp.config.globalProperties,o,i)},Pi(n.vueApp,"$nuxt",n),Pi(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(gv,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=Ht;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function yv(e,t){t.hooks&&e.hooks.addHooks(t.hooks)}async function Ev(e,t){if(typeof t=="function"){const{provide:n}=await e.runWithContext(()=>t(e))||{};if(n&&typeof n=="object")for(const r in n)e.provide(r,n[r])}}async function vv(e,t){const n=new Set,r=[],s=[];let i,o=0;async function l(c){const f=c.dependsOn?.filter(h=>t.some(p=>p._name===h)&&!n.has(h))??[];if(f.length>0)r.push([new Set(f),c]);else{const h=Ev(e,c).then(async()=>{c._name&&(n.add(c._name),await Promise.all(r.map(async([p,g])=>{p.has(c._name)&&(p.delete(c._name),p.size===0&&(o++,await l(g)))})))}).catch(p=>{if(!c.parallel&&!e.payload.error)throw p;i||=p});c.parallel?s.push(h):await h}}for(const c of t)yv(e,c);for(const c of t)await l(c);if(await Promise.all(s),o)for(let c=0;c<o;c++)await Promise.all(s);if(i)throw e.payload.error||i}function Ge(e){if(typeof e=="function")return e;const t=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[mv]:!0,_name:t})}function hh(e,t,n){const r=()=>t();return pp(e._id).set(e),e.vueApp.runWithContext(r)}function Tv(e){let t;return xo()&&(t=ii()?.appContext.app.$nuxt),t||=pp(e).tryUse(),t||null}function Ht(e){const t=Tv(e);if(!t)throw new Error("[nuxt] instance unavailable");return t}function $r(e){return Ht().$config}function Pi(e,t,n){Object.defineProperty(e,t,{get:()=>n})}function Ia(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function rl(e,t,n=".",r){if(!Ia(t))return rl(e,{},n,r);const s=Object.assign({},t);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const o=e[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Ia(o)&&Ia(s[i])?s[i]=rl(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function wv(e){return(...t)=>t.reduce((n,r)=>rl(n,r,"",e),{})}const bv=wv();function Iv(e,t){try{return t in e}catch{return!1}}class fh extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(t,n={}){super(t,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const t={message:this.message,statusCode:sl(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=gp(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}function Av(e){if(typeof e=="string")return new fh(e);if(Rv(e))return e;const t=new fh(e.message??e.statusMessage??"",{cause:e.cause||e});if(Iv(e,"stack"))try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=sl(e.statusCode,t.statusCode):e.status&&(t.statusCode=sl(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const n=t.statusMessage;gp(t.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function Rv(e){return e?.constructor?.__h3_error__===!0}const Sv=/[^\u0009\u0020-\u007E]/g;function gp(e=""){return e.replace(Sv,"")}function sl(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}const mp=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const rr=()=>Ht()?.$router,tc=()=>xo()?Zn(mp,Ht()._route):Ht()._route;const Cv=()=>{try{if(Ht()._processingMiddleware)return!0}catch{return!1}return!1},Pv=(e,t)=>{e||="/";const n=typeof e=="string"?e:"path"in e?xv(e):rr().resolve(e).href;if(t?.open){const{target:c="_blank",windowFeatures:f={}}=t.open,h=[];for(const[p,g]of Object.entries(f))g!==void 0&&h.push(`${p.toLowerCase()}=${g}`);return open(n,c,h.join(", ")),Promise.resolve()}const r=lr(n,{acceptRelative:!0}),s=t?.external||r;if(s){if(!t?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:c}=new URL(n,window.location.href);if(c&&xE(c))throw new Error(`Cannot navigate to a URL with '${c}' protocol.`)}const i=Cv();if(!s&&i){if(t?.replace){if(typeof e=="string"){const{pathname:c,search:f,hash:h}=lp(e);return{path:c,...f&&{query:Yl(f)},...h&&{hash:h},replace:!0}}return{...e,replace:!0}}return e}const o=rr(),l=Ht();return s?(l._scope.stop(),t?.replace?location.replace(n):location.href=n,i?l.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):t?.replace?o.replace(e):o.push(e)};function xv(e){return sp(e.path||"",e.query||{})+(e.hash||"")}const _p="__nuxt_error",ec=()=>id(Ht().payload,"error"),Vv=e=>{const t=nc(e);try{const n=ec();Ht().hooks.callHook("app:error",t),n.value||=t}catch{throw t}return t},kv=async(e={})=>{const t=Ht(),n=ec();t.callHook("app:error:cleared",e),e.redirect&&await rr().replace(e.redirect),n.value=void 0},Dv=e=>!!e&&typeof e=="object"&&_p in e,nc=e=>{typeof e!="string"&&e.statusText&&(e.message??=e.statusText);const t=Av(e);return Object.defineProperty(t,_p,{value:!0,configurable:!1,writable:!1}),t};function Nv(e){const t=Mv(e),n=new ArrayBuffer(t.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,t.charCodeAt(s));return n}const Ov="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Mv(e){e.length%4===0&&(e=e.replace(/==?$/,""));let t="",n=0,r=0;for(let s=0;s<e.length;s++)n<<=6,n|=Ov.indexOf(e[s]),r+=6,r===24&&(t+=String.fromCharCode((n&16711680)>>16),t+=String.fromCharCode((n&65280)>>8),t+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,t+=String.fromCharCode(n)):r===18&&(n>>=2,t+=String.fromCharCode((n&65280)>>8),t+=String.fromCharCode(n&255)),t}const Lv=-1,Fv=-2,Uv=-3,jv=-4,Bv=-5,Hv=-6;function $v(e,t){return qv(JSON.parse(e),t)}function qv(e,t){if(typeof e=="number")return i(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const n=e,r=Array(n.length);let s=null;function i(o,l=!1){if(o===Lv)return;if(o===Uv)return NaN;if(o===jv)return 1/0;if(o===Bv)return-1/0;if(o===Hv)return-0;if(l||typeof o!="number")throw new Error("Invalid input");if(o in r)return r[o];const c=n[o];if(!c||typeof c!="object")r[o]=c;else if(Array.isArray(c))if(typeof c[0]=="string"){const f=c[0],h=t&&Object.hasOwn(t,f)?t[f]:void 0;if(h){let p=c[1];if(typeof p!="number"&&(p=n.push(c[1])-1),s??=new Set,s.has(p))throw new Error("Invalid circular reference");return s.add(p),r[o]=h(i(p)),s.delete(p),r[o]}switch(f){case"Date":r[o]=new Date(c[1]);break;case"Set":const p=new Set;r[o]=p;for(let I=1;I<c.length;I+=1)p.add(i(c[I]));break;case"Map":const g=new Map;r[o]=g;for(let I=1;I<c.length;I+=2)g.set(i(c[I]),i(c[I+1]));break;case"RegExp":r[o]=new RegExp(c[1],c[2]);break;case"Object":r[o]=Object(c[1]);break;case"BigInt":r[o]=BigInt(c[1]);break;case"null":const _=Object.create(null);r[o]=_;for(let I=1;I<c.length;I+=2)_[c[I]]=i(c[I+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{if(n[c[1]][0]!=="ArrayBuffer")throw new Error("Invalid data");const I=globalThis[f],R=i(c[1]),D=new I(R);r[o]=c[2]!==void 0?D.subarray(c[2],c[3]):D;break}case"ArrayBuffer":{const I=c[1];if(typeof I!="string")throw new Error("Invalid ArrayBuffer encoding");const R=Nv(I);r[o]=R;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const I=f.slice(9);r[o]=Temporal[I].from(c[1]);break}case"URL":{const I=new URL(c[1]);r[o]=I;break}case"URLSearchParams":{const I=new URLSearchParams(c[1]);r[o]=I;break}default:throw new Error(`Unknown type ${f}`)}}else{const f=new Array(c.length);r[o]=f;for(let h=0;h<c.length;h+=1){const p=c[h];p!==Fv&&(f[h]=i(p))}}else{const f={};r[o]=f;for(const h in c){if(h==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const p=c[h];f[h]=i(p)}}return r[o]}return i(0)}const Wv=new Set(["link","style","script","noscript"]),zv=new Set(["title","titleTemplate","script","style","noscript"]),dh=new Set(["base","meta","link","style","script","noscript"]),Kv=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Gv=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Qv=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Jv=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Yv=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function il(e,t={},n){for(const r in e){const s=e[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?il(s,t,i):typeof s=="function"&&(t[i]=s)}return t}const yp=(()=>{if(console.createTask)return console.createTask;const e={run:t=>t()};return()=>e})();function Ep(e,t,n,r){for(let s=n;s<e.length;s+=1)try{const i=r?r.run(()=>e[s](...t)):e[s](...t);if(i instanceof Promise)return i.then(()=>Ep(e,t,s+1,r))}catch(i){return Promise.reject(i)}}function Xv(e,t,n){if(e.length>0)return Ep(e,t,0,yp(n))}function Zv(e,t,n){if(e.length>0){const r=yp(n);return Promise.all(e.map(s=>r.run(()=>s(...t))))}}function Aa(e,t){for(const n of[...e])n(t)}var tT=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,n={}){if(!e||typeof t!="function")return()=>{};const r=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!n.allowDeprecated){let i=s.message;i||(i=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let n,r=(...s)=>(typeof n=="function"&&n(),n=void 0,r=void 0,t(...s));return n=this.hook(e,r),n}removeHook(e,t){const n=this._hooks[e];if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1),n.length===0&&(this._hooks[e]=void 0)}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const n=this._hooks[e]||[];this._hooks[e]=void 0;for(const r of n)this.hook(e,r)}deprecateHooks(e){for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=il(e),n=Object.keys(t).map(r=>this.hook(r,t[r]));return()=>{for(const r of n)r();n.length=0}}removeHooks(e){const t=il(e);for(const n in t)this.removeHook(n,t[n])}removeAllHooks(){this._hooks={}}callHook(e,...t){return this.callHookWith(Xv,e,t)}callHookParallel(e,...t){return this.callHookWith(Zv,e,t)}callHookWith(e,t,n){const r=this._before||this._after?{name:t,args:n,context:{}}:void 0;this._before&&Aa(this._before,r);const s=e(this._hooks[t]?[...this._hooks[t]]:[],n,t);return s instanceof Promise?s.finally(()=>{this._after&&r&&Aa(this._after,r)}):(this._after&&r&&Aa(this._after,r),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}};function eT(){return new tT}const nT=["name","property","http-equiv"],rT=new Set(["viewport","description","keywords","robots"]);function vp(e){const t=e.split(":");return t.length?Yv.has(t[1]):!1}function ol(e){const{props:t,tag:n}=e;if(Gv.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(n==="link"&&t.rel==="alternate")return`alternate:${t.hreflang||t.type||"x-default"}:${t.href||""}`;if(t.charset)return"charset";if(e.tag==="meta"){for(const r of nT)if(t[r]!==void 0){const s=t[r],i=s&&typeof s=="string"&&s.includes(":"),o=s&&rT.has(s),c=!(i||o)&&e.key?`:key:${e.key}`:"";return`${n}:${s}${c}`}}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(zv.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function ph(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function io(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());const s=t?t(n,e):e;if(Array.isArray(s))return s.map(i=>io(i,t));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=io(s[o],t,o);return i}return s}function sT(e,t){const n=e==="style"?new Map:new Set;function r(s){if(s==null||s===void 0)return;const i=String(s).trim();if(i)if(e==="style"){const[o,...l]=i.split(":").map(c=>c?c.trim():"");o&&l.length&&n.set(o,l.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(s=>r(s)):t&&typeof t=="object"&&Object.entries(t).forEach(([s,i])=>{i&&i!=="false"&&(e==="style"?n.set(String(s).trim(),String(i)):r(s))}),n}function Tp(e,t){return e.props=e.props||{},t?e.tag==="templateParams"?(e.props=t,e):(Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=sT(n,r);return}if(Qv.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let l=t.type;if(t.type||(l="application/json"),!l?.endsWith("json")&&l!=="speculationrules")return;t.type=l,e.props.type=l,e[n]=JSON.stringify(r)}else e[n]=r;return}const s=String(r),i=n.startsWith("data-"),o=e.tag==="meta"&&n==="content";s==="true"||s===""?e.props[n]=i||o?s:!0:!r&&i&&s==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e):e}function iT(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=Tp({tag:e,props:{}},n);return r.key&&Wv.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function oT(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(s,i)=>{for(let o=0;o<t.length;o++)i=t[o](s,i);return i};e=n(void 0,e);const r=[];return e=io(e,n),Object.entries(e||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(iT(s,o))}),r.flat()}const gh=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,mh={base:-10,title:10},aT={critical:-8,high:-1,low:2},_h={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},lT=/@import/,Ts=e=>e===""||e===!0;function cT(e,t){if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=aT[t.tagPriority]||0,s=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:_h;if(t.tag in mh)n=mh[t.tag];else if(t.tag==="meta"){const i=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;i&&(n=_h.meta[i])}else if(t.tag==="link"&&t.props.rel)n=s.link[t.props.rel];else if(t.tag==="script"){const i=String(t.props.type);Ts(t.props.async)?n=s.script.async:t.props.src&&!Ts(t.props.defer)&&!Ts(t.props.async)&&i!=="module"&&!i.endsWith("json")||t.innerHTML&&!i.endsWith("json")?n=s.script.sync:(Ts(t.props.defer)&&t.props.src&&!Ts(t.props.async)||i==="module")&&(n=s.script.defer)}else t.tag==="style"&&(n=t.innerHTML&&lT.test(t.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function yh(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function uT(e={}){const t=eT();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:l=>yh(o,l),push(l,c){const f={...c||{}};delete f.head;const h=f._index??o._entryCount++,p={_i:h,input:l,options:f},g={_poll(_=!1){o.dirty=!0,!_&&i.add(h),t.callHook("entries:updated",o)},dispose(){r.delete(h)&&o.invalidate()},patch(_){(!f.mode||f.mode==="server"&&n||f.mode==="client"&&!n)&&(p.input=_,r.set(h,p),g._poll())}};return g.patch(l),g},async resolveTags(){const l={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await t.callHook("entries:resolve",l);i.size;){const g=i.values().next().value;i.delete(g);const _=r.get(g);if(_){const I={tags:oT(_.input,e.propResolvers||[]).map(R=>Object.assign(R,_.options)),entry:_};await t.callHook("entries:normalize",I),_._tags=I.tags.map((R,D)=>(R._w=cT(o,R),R._p=(_._i<<10)+D,R._d=ol(R),R))}}let c=!1;l.entries.flatMap(g=>(g._tags||[]).map(_=>({..._,props:{..._.props}}))).sort(gh).reduce((g,_)=>{const I=String(_._d||_._p);if(!g.has(I))return g.set(I,_);const R=g.get(I);if((_?.tagDuplicateStrategy||(Jv.has(_.tag)?"merge":null)||(_.key&&_.key===R.key?"merge":null))==="merge"){const O={...R.props};Object.entries(_.props).forEach(([$,P])=>O[$]=$==="style"?new Map([...R.props.style||new Map,...P]):$==="class"?new Set([...R.props.class||new Set,...P]):P),g.set(I,{..._,props:O})}else _._p>>10===R._p>>10&&_.tag==="meta"&&vp(I)?(g.set(I,Object.assign([...Array.isArray(R)?R:[R],_],_)),c=!0):(_._w===R._w?_._p>R._p:_?._w<R?._w)&&g.set(I,_);return g},l.tagMap);const f=l.tagMap.get("title"),h=l.tagMap.get("titleTemplate");if(o._title=f?.textContent,h){const g=h?.textContent;if(o._titleTemplate=g,g){let _=typeof g=="function"?g(f?.textContent):g;typeof _=="string"&&!o.plugins.has("template-params")&&(_=_.replace("%s",f?.textContent||"")),f?_===null?l.tagMap.delete("title"):l.tagMap.set("title",{...f,textContent:_}):(h.tag="title",h.textContent=_)}}l.tags=Array.from(l.tagMap.values()),c&&(l.tags=l.tags.flat().sort(gh)),await t.callHook("tags:beforeResolve",l),await t.callHook("tags:resolve",l),await t.callHook("tags:afterResolve",l);const p=[];for(const g of l.tags){const{innerHTML:_,tag:I,props:R}=g;if(Kv.has(I)&&!(Object.keys(R).length===0&&!g.innerHTML&&!g.textContent)&&!(I==="meta"&&!R.content&&!R["http-equiv"]&&!R.charset)){if(I==="script"&&_){if(String(R.type).endsWith("json")){const D=typeof _=="string"?_:JSON.stringify(_);g.innerHTML=D.replace(/</g,"\\u003C")}else typeof _=="string"&&(g.innerHTML=_.replace(new RegExp(`</${I}`,"g"),`<\\/${I}`));g._d=ol(g)}p.push(g)}}return p},invalidate(){for(const l of r.values())i.add(l._i);o.dirty=!0,t.callHook("entries:updated",o)}};return(e?.plugins||[]).forEach(l=>yh(o,l)),o.hooks.callHook("init",o),e.init?.forEach(l=>l&&o.push(l)),o}const hT=(e,t)=>Ft(t)?rd(t):t,rc="usehead";function fT(e){return{install(n){n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(rc,e)}}.install}function dT(){if(xo()){const e=Zn(rc);if(e)return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function pT(e,t={}){const n=t.head||dT();return n.ssr?n.push(e||{},t):gT(n,e,t)}function gT(e,t,n={}){const r=be(!1);let s;return P_(()=>{const o=r.value?{}:io(t,hT);s?s.patch(o):s=e.push(o,n)}),ii()&&(_d(()=>{s.dispose()}),gd(()=>{r.value=!0}),pd(()=>{r.value=!1})),s}function wp(e){const t=e||Ht();return t.ssrContext?.head||t.runWithContext(()=>{if(xo()){const n=Zn(rc);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function ZR(e,t={}){const n=t.head||wp(t.nuxt);return pT(e,{head:n,...t})}const mT=(()=>{const e={};return(t,n)=>{let r=[];return n.charCodeAt(n.length-1)===47&&(n=n.slice(0,-1)||"/"),n==="/__sitemap__/style.xsl"&&r.unshift({data:e}),n==="/sitemap.xml"&&r.unshift({data:e}),n==="/_nuxt"&&r.unshift({data:e}),r}})(),_T=e=>bv({},...mT("",e).map(t=>t.data).reverse()),yT=_T;let Ui;function ET(){return Ui=$fetch(Zl(`builds/meta/${$r().app.buildId}.json`),{responseType:"json"}),Ui.catch(e=>{console.error("[nuxt] Error fetching app manifest.",e)}),Ui}function sc(){return Ui||ET()}function Oo(e){const t=typeof e=="string"?e:e.path;try{return yT(t)}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function Eh(e,t={}){if(await wT(e)){const n=await TT(e,t);return await bp(n)||null}return null}const vT="_payload.json";async function TT(e,t={}){const n=new URL(e,"http://localhost");if(n.host!=="localhost"||lr(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const r=$r(),s=t.hash||(t.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await bT(e)?i:r.app.baseURL;return No(o,n.pathname,vT+(s?`?${s}`:""))}async function bp(e){const t=fetch(e,{cache:"force-cache"}).then(n=>n.text().then(Rp));try{return await t}catch(n){console.warn("[nuxt] Cannot load payload ",e,n)}return null}function Ip(e){if(e.redirect)return!1;if(e.prerender)return!0}async function Ap(e){return e=e==="/"?e:e.replace(/\/$/,""),(await sc()).prerendered.includes(e)}async function wT(e=tc().path){const t=Oo({path:e}),n=Ip(t);return n!==void 0?n:t.payload?!0:await Ap(e)}async function bT(e=tc().path){const t=Ip(Oo({path:e}));return t!==void 0?t:await Ap(e)}let Wn=null;async function IT(){if(Wn)return Wn;const e=document.getElementById("__NUXT_DATA__");if(!e)return{};const t=await Rp(e.textContent||""),n=e.dataset.src?await bp(e.dataset.src):void 0;return Wn={...t,...n,...window.__NUXT__},Wn.config?.public&&(Wn.config.public=xn(Wn.config.public)),Wn}async function Rp(e){return await $v(e,Ht()._payloadRevivers)}function AT(e,t){Ht()._payloadRevivers[e]=t}const RT=[["NuxtError",e=>nc(e)],["EmptyShallowRef",e=>js(e==="_"?void 0:e==="0n"?BigInt(0):eo(e))],["EmptyRef",e=>be(e==="_"?void 0:e==="0n"?BigInt(0):eo(e))],["ShallowRef",e=>js(e)],["ShallowReactive",e=>Sr(e)],["Ref",e=>be(e)],["Reactive",e=>xn(e)]],ST=Ge({name:"nuxt:revive-payload:client",order:-30,async setup(e){let t,n;for(const[r,s]of RT)AT(r,s);Object.assign(e.payload,([t,n]=dv(()=>e.runWithContext(IT)),t=await t,n(),t)),delete window.__NUXT__}});async function ic(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(_=>{e.resolveTags().then(I=>{_(I.map(R=>{const D=i.get(R._d)||0,O={tag:R,id:(D?`${R._d}:${D}`:R._d)||ph(R),shouldRender:!0};return R._d&&vp(R._d)&&i.set(R._d,D+1),O}))})});let l=e._dom;if(!l){l={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const _ of["body","head"]){const I=n[_]?.children;for(const R of I){const D=R.tagName.toLowerCase();if(!dh.has(D))continue;const O=Tp({tag:D,props:{}},{innerHTML:R.innerHTML,...R.getAttributeNames().reduce(($,P)=>($[P]=R.getAttribute(P),$),{})||{}});if(O.key=R.getAttribute("data-hid")||void 0,O._d=ol(O)||ph(O),l.elMap.has(O._d)){let $=1,P=O._d;for(;l.elMap.has(P);)P=`${O._d}:${$++}`;l.elMap.set(P,R)}else l.elMap.set(O._d,R)}}}l.pendingSideEffects={...l.sideEffects},l.sideEffects={};function c(_,I,R){const D=`${_}:${I}`;l.sideEffects[D]=R,delete l.pendingSideEffects[D]}function f({id:_,$el:I,tag:R}){const D=R.tag.endsWith("Attrs");l.elMap.set(_,I),D||(R.textContent&&R.textContent!==I.textContent&&(I.textContent=R.textContent),R.innerHTML&&R.innerHTML!==I.innerHTML&&(I.innerHTML=R.innerHTML),c(_,"el",()=>{I?.remove(),l.elMap.delete(_)}));for(const O in R.props){if(!Object.prototype.hasOwnProperty.call(R.props,O))continue;const $=R.props[O];if(O.startsWith("on")&&typeof $=="function"){const V=I?.dataset;if(V&&V[`${O}fired`]){const L=O.slice(0,-5);$.call(I,new Event(L.substring(2)))}I.getAttribute(`data-${O}`)!==""&&((R.tag==="bodyAttrs"?n.defaultView:I).addEventListener(O.substring(2),$.bind(I)),I.setAttribute(`data-${O}`,""));continue}const P=`attr:${O}`;if(O==="class"){if(!$)continue;for(const V of $)D&&c(_,`${P}:${V}`,()=>I.classList.remove(V)),!I.classList.contains(V)&&I.classList.add(V)}else if(O==="style"){if(!$)continue;for(const[V,L]of $)c(_,`${P}:${V}`,()=>{I.style.removeProperty(V)}),I.style.setProperty(V,L)}else $!==!1&&$!==null&&(I.getAttribute(O)!==$&&I.setAttribute(O,$===!0?"":String($)),D&&c(_,P,()=>I.removeAttribute(O)))}}const h=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0},g=await o;for(const _ of g){const{tag:I,shouldRender:R,id:D}=_;if(R){if(I.tag==="title"){n.title=I.textContent,c("title","",()=>n.title=l.title);continue}_.$el=_.$el||l.elMap.get(D),_.$el?f(_):dh.has(I.tag)&&h.push(_)}}for(const _ of h){const I=_.tag.tagPosition||"head";_.$el=n.createElement(_.tag.tag),f(_),p[I]=p[I]||n.createDocumentFragment(),p[I].appendChild(_.$el)}for(const _ of g)await e.hooks.callHook("dom:renderTag",_,n,c);p.head&&n.head.appendChild(p.head),p.bodyOpen&&n.body.insertBefore(p.bodyOpen,n.body.firstChild),p.bodyClose&&n.body.appendChild(p.bodyClose);for(const _ in l.pendingSideEffects)l.pendingSideEffects[_]();e._dom=l,await e.hooks.callHook("dom:rendered",{renders:g}),s()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function CT(e={}){const t=e.domOptions?.render||ic;e.document=e.document||(typeof window<"u"?document:void 0);const n=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return uT({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function PT(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}function xT(e={}){const t=CT({domOptions:{render:PT(()=>ic(t),n=>setTimeout(n,0))},...e});return t.install=fT(t),t}const VT={disableDefaults:!0},kT=Ge({name:"nuxt:head",enforce:"pre",setup(e){const t=xT(VT);e.vueApp.use(t);{let n=!0;const r=async()=>{n=!1,await ic(t)};t.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),e.hooks.hook("page:start",()=>{n=!0}),e.hooks.hook("page:finish",()=>{e.isHydrating||r()}),e.hooks.hook("app:error",r),e.hooks.hook("app:suspense:resolve",r)}}}),DT=e=>{const t=Oo({path:e.path});if(t.redirect){const n=t.redirect.includes("#")?t.redirect:t.redirect+e.hash;return lr(n,{acceptRelative:!0})?(window.location.href=n,!1):n}},NT=[DT];function Ra(e){const t=e&&typeof e=="object"?e:{};typeof e=="object"&&(e=cp({pathname:e.path||"",search:ep(e.query||{}),hash:e.hash||""}));const n=new URL(e.toString(),window.location.href);return{path:n.pathname,fullPath:e,query:Yl(n.search),hash:n.hash,params:t.params||{},name:void 0,matched:t.matched||[],redirectedFrom:void 0,meta:t.meta||{},href:e}}const OT=Ge({name:"nuxt:router",enforce:"pre",setup(e){const t=DE(window.location.pathname,$r().app.baseURL)+window.location.search+window.location.hash,n=[],r={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},s=(g,_)=>(r[g].push(_),()=>r[g].splice(r[g].indexOf(_),1)),i=$r().app.baseURL,o=xn(Ra(t));async function l(g,_){try{const I=Ra(g);for(const R of r["navigate:before"]){const D=await R(I,o);if(D===!1||D instanceof Error)return;if(typeof D=="string"&&D.length)return l(D,!0)}for(const R of r["resolve:before"])await R(I,o);Object.assign(o,I),window.history[_?"replaceState":"pushState"]({},"",No(i,I.fullPath)),e.isHydrating||await e.runWithContext(kv);for(const R of r["navigate:after"])await R(I,o)}catch(I){for(const R of r.error)await R(I)}}const f={currentRoute:Ql(()=>o),isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:g=>l(g,!1),replace:g=>l(g,!0),back:()=>window.history.go(-1),go:g=>window.history.go(g),forward:()=>window.history.go(1),beforeResolve:g=>s("resolve:before",g),beforeEach:g=>s("navigate:before",g),afterEach:g=>s("navigate:after",g),onError:g=>s("error",g),resolve:Ra,addRoute:(g,_)=>{n.push(_)},getRoutes:()=>n,hasRoute:g=>n.some(_=>_.name===g),removeRoute:g=>{const _=n.findIndex(I=>I.name===g);_!==-1&&n.splice(_,1)}};e.vueApp.component("RouterLink",Hl({functional:!0,props:{to:{type:String,required:!0},custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(g,{slots:_})=>{const I=()=>l(g.to,g.replace);return()=>{const R=f.resolve(g.to);return g.custom?_.default?.({href:g.to,navigate:I,route:R}):nr("a",{href:g.to,onClick:D=>(D.preventDefault(),I())},_)}}})),window.addEventListener("popstate",g=>{const _=g.target.location;f.replace(_.href.replace(_.origin,""))}),e._route=o,e._middleware||={global:[],named:{}};const h=e.payload.state._layout,p=e.payload.state._layoutProps;return e.hooks.hookOnce("app:created",async()=>{f.beforeEach(async(g,_)=>{g.meta=xn(g.meta||{}),e.isHydrating&&h&&!qe(g.meta.layout)&&(g.meta.layout=h,g.meta.layoutProps=p),e._processingMiddleware=!0;{const I=new Set([...NT,...e._middleware.global]),R=Oo({path:g.path});if(R.appMiddleware)for(const D in R.appMiddleware){const O=e._middleware.named[D];O&&(R.appMiddleware[D]?I.add(O):I.delete(O))}for(const D of I){const O=await e.runWithContext(()=>D(g,_));if(O!==!0&&(O||O===!1))return O}}}),f.afterEach(()=>{delete e._processingMiddleware}),await f.replace(t),LE(o.fullPath,t)||await e.runWithContext(()=>Pv(o.fullPath))}),{provide:{route:o,router:f}}}});function MT(e,t=!1){if(e){if(e.nodeName==="#comment"&&e.nodeValue==="[")return Sp(e,[],t);if(t){const n=e.cloneNode(!0);return n.querySelectorAll("[data-island-slot]").forEach(r=>{r.innerHTML=""}),[n.outerHTML]}return[e.outerHTML]}}function Sp(e,t=[],n=!1){if(e&&e.nodeName){if(FT(e))return t;if(!LT(e)){const r=e.cloneNode(!0);n&&r.querySelectorAll?.("[data-island-slot]").forEach(s=>{s.innerHTML=""}),t.push(r.outerHTML)}Sp(e.nextSibling,t,n)}return t}function Sa(e,t){const n=e?MT(e):[t];return n?Gd(n.join(""),n.length):nr("div")}function LT(e){return e.nodeName==="#comment"&&e.nodeValue==="["}function FT(e){return e.nodeName==="#comment"&&e.nodeValue==="]"}const xi="<div></div>",Ca=new WeakMap;function UT(e){if(Ca.has(e))return Ca.get(e);const t={...e};return t.render?t.render=(n,r,s,i,o,l)=>{if(i.mounted$??n.mounted$){const c=e.render?.bind(n)(n,r,s,i,o,l);return c.children===null||typeof c.children=="string"?tn(c):nr(c)}return Sa(n._.vnode.el,xi)}:t.template&&=`
      <template v-if="mounted$">${e.template}</template>
      <template v-else>${xi}</template>
    `,t.setup=(n,r)=>{const s=Ht(),i=js(s.isHydrating===!1),o=ii();if(s.isHydrating){const c={...o.attrs},f=jT(o);for(const h in c)delete o.attrs[h];Hs(()=>{Object.assign(o.attrs,c),o.vnode.dirs=f})}Hs(()=>{i.value=!0});const l=e.setup?.(n,r)||{};return Vl(l)?Promise.resolve(l).then(c=>typeof c!="function"?(c||={},c.mounted$=i,c):(...f)=>{if(i.value||!s.isHydrating){const h=c(...f);return h.children===null||typeof h.children=="string"?tn(h):nr(h)}return Sa(o?.vnode.el,xi)}):typeof l=="function"?(...c)=>{if(i.value){const f=l(...c),h=t.inheritAttrs!==!1?r.attrs:void 0;return f.children===null||typeof f.children=="string"?tn(f,h):nr(f,h)}return Sa(o?.vnode.el,xi)}:Object.assign(l,{mounted$:i})},Ca.set(e,t),t}function jT(e){if(!e||!e.vnode.dirs)return null;const t=e.vnode.dirs;return e.vnode.dirs=null,t}const vh=globalThis.requestIdleCallback||(e=>{const t=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))};return setTimeout(()=>{e(n)},1)}),tS=globalThis.cancelIdleCallback||(e=>{clearTimeout(e)}),oc=e=>{const t=Ht();t.isHydrating?t.hooks.hookOnce("app:suspense:resolve",()=>{vh(()=>e())}):vh(()=>e())},BT="$s";function HT(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);const[n,r]=e;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const s=BT+n,i=Ht(),o=id(i.payload.state,s);if(o.value===void 0&&r){const l=r();if(Ft(l))return i.payload.state[s]=l,l;o.value=l}return o}function $T(e={}){const t=e.path||window.location.pathname;let n={};try{n=eo(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||n?.path!==t||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Ht().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}function qT(e={}){const t=js(""),n=js(e.politeness||"polite"),r=wp();function s(f="",h="polite"){t.value=f,n.value=h}function i(f){return s(f,"polite")}function o(f){return s(f,"assertive")}function l(){s(document?.title?.trim(),n.value)}function c(){r?.hooks?.removeHook("dom:rendered",l)}return l(),r?.hooks?.hook("dom:rendered",()=>{l()}),{_cleanup:c,message:t,politeness:n,set:s,polite:i,assertive:o}}function WT(e={}){const t=Ht(),n=t._routeAnnouncer||=qT(e);return e.politeness!==n.politeness.value&&(n.politeness.value=e.politeness||"polite"),kl()&&(t._routeAnnouncerDeps||=0,t._routeAnnouncerDeps++,Qm(()=>{t._routeAnnouncerDeps--,t._routeAnnouncerDeps===0&&(n._cleanup(),delete t._routeAnnouncer)})),n}function zT(e){typeof e.indexable<"u"&&(e.indexable=String(e.indexable)!=="false"),typeof e.trailingSlash<"u"&&!e.trailingSlash&&(e.trailingSlash=String(e.trailingSlash)!=="false"),e.url&&!lr(String(e.url),{acceptRelative:!0,strict:!1})&&(e.url=OE(String(e.url)));const t=Object.keys(e).sort((r,s)=>r.localeCompare(s)),n={};for(const r of t)n[r]=e[r];return n}function KT(e){const n=[];function r(i){if(!i||typeof i!="object"||Object.keys(i).length===0)return()=>{};i._context;const o={};for(const l in i){const c=i[l];typeof c<"u"&&c!==""&&(o[l]=c)}return Object.keys(o).filter(l=>!l.startsWith("_")).length===0?()=>{}:(n.push(o),()=>{const l=n.indexOf(o);l!==-1&&n.splice(l,1)})}function s(i){const o={};i?.debug&&(o._context={}),o._priority={};for(const l in n.sort((c,f)=>(c._priority||0)-(f._priority||0)))for(const c in n[l]){const f=c,h=i?.resolveRefs?rd(n[l][c]):n[l][c];!c.startsWith("_")&&typeof h<"u"&&h!==""&&(o[c]=h,typeof n[l]._priority<"u"&&n[l]._priority!==-1&&(o._priority[f]=n[l]._priority),i?.debug&&(o._context[f]=n[l]._context?.[f]||n[l]._context||"anonymous"))}return i?.skipNormalize?o:zT(o)}return{stack:n,push:r,get:s}}const GT=Ge({name:"nuxt-site-config:init",enforce:"pre",async setup(e){const t=KT(),n=HT("site-config");{const r=n.value||window.__NUXT_SITE_CONFIG__||{};for(const s in r)s[0]!=="_"&&t.push({[s]:r[s],_priority:r._priority?.[s]||-1})}return{provide:{nuxtSiteConfig:t}}}}),QT=Ge({name:"nuxt:payload",setup(e){const t=new Set;rr().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await Eh(n.path);if(s){for(const i of t)delete e.static.data[i];for(const i in s.data)i in e.static.data||t.add(i),e.static.data[i]=s.data[i]}}),oc(()=>{e.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await Eh(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(sc,1e3)})}}),JT=Ge(()=>{const e=rr();oc(()=>{e.beforeResolve(async()=>{await new Promise(t=>{setTimeout(t,100),requestAnimationFrame(()=>{setTimeout(t,0)})})})})}),YT=Ge(e=>{let t;async function n(){let r;try{r=await sc()}catch(s){const i=s;if(!("status"in i&&(i.status===404||i.status===403)))throw i}t&&clearTimeout(t),t=setTimeout(n,uh);try{const s=await $fetch(Zl("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(e.hooks.callHook("app:manifest:update",s),t&&clearTimeout(t))}catch{}}oc(()=>{t=setTimeout(n,uh)})}),XT=Ge({name:"nuxt:chunk-reload",setup(e){const t=rr(),n=$r(),r=new Set;t.beforeEach(()=>{r.clear()}),e.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=No(n.app.baseURL,i.fullPath);$T({path:o,persistState:!0})}e.hook("app:manifest:update",()=>{t.beforeResolve(s)}),t.onError((i,o)=>{r.has(i)&&s(o)})}}),ZT=Ge({name:"nuxt:global-components"}),tw=()=>{};var Th={};const Cp=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},ew=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Pp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,f=c?e[s+2]:0,h=i>>2,p=(i&3)<<4|l>>4;let g=(l&15)<<2|f>>6,_=f&63;c||(_=64,o||(g=64)),r.push(n[h],n[p],n[g],n[_])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ew(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||f==null||p==null)throw new nw;const g=i<<2|l>>4;if(r.push(g),f!==64){const _=l<<4&240|f>>2;if(r.push(_),p!==64){const I=f<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rw=function(e){const t=Cp(e);return Pp.encodeByteArray(t,!0)},oo=function(e){return rw(e).replace(/\./g,"")},sw=function(e){try{return Pp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function iw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ow=()=>iw().__FIREBASE_DEFAULTS__,aw=()=>{if(typeof process>"u"||typeof Th>"u")return;const e=Th.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sw(e[1]);return t&&JSON.parse(t)},ac=()=>{try{return tw()||ow()||aw()||lw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},cw=e=>ac()?.emulatorHosts?.[e],uw=e=>{const t=cw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xp=()=>ac()?.config;class hw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function lc(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fw(e){return(await fetch(e,{credentials:"include"})).ok}function dw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[oo(JSON.stringify(n)),oo(JSON.stringify(o)),""].join(".")}const Ds={};function pw(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ds))Ds[t]?e.emulator.push(t):e.prod.push(t);return e}function gw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let wh=!1;function mw(e,t){if(typeof window>"u"||typeof document>"u"||!lc(window.location.host)||Ds[e]===t||Ds[e]||wh)return;Ds[e]=t;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=pw().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{wh=!0,o()},g}function h(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=gw(r),_=n("text"),I=document.getElementById(_)||document.createElement("span"),R=n("learnmore"),D=document.getElementById(R)||document.createElement("a"),O=n("preprendIcon"),$=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;l(P),h(D,R);const V=f();c($,O),P.append($,I,D,V),document.body.appendChild(P)}i?(I.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function _w(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yw(){const e=ac()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ew(){return!yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vw(){try{return typeof indexedDB=="object"}catch{return!1}}function Tw(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}const ww="FirebaseError";class Jr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ww,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vp.prototype.create)}}class Vp{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?bw(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Jr(s,l,r)}}function bw(e,t){return e.replace(Iw,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Iw=/\{\$([^}]+)}/g;function ao(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(bh(i)&&bh(o)){if(!ao(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bh(e){return e!==null&&typeof e=="object"}function Ws(e){return e&&e._delegate?e._delegate:e}class zs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gn="[DEFAULT]";class Aw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new hw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Sw(t))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Gn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gn){return this.instances.has(t)}getOptions(t=Gn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Rw(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gn){return this.component?this.component.multipleInstances?t:Gn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rw(e){return e===Gn?void 0:e}function Sw(e){return e.instantiationMode==="EAGER"}class Cw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Aw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var _t;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_t||(_t={}));const Pw={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},xw=_t.INFO,Vw={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},kw=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Vw[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kp{constructor(t){this.name=t,this._logLevel=xw,this._logHandler=kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Pw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...t),this._logHandler(this,_t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...t),this._logHandler(this,_t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...t),this._logHandler(this,_t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...t),this._logHandler(this,_t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...t),this._logHandler(this,_t.ERROR,...t)}}const Dw=(e,t)=>t.some(n=>e instanceof n);let Ih,Ah;function Nw(){return Ih||(Ih=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ow(){return Ah||(Ah=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dp=new WeakMap,al=new WeakMap,Np=new WeakMap,Pa=new WeakMap,cc=new WeakMap;function Mw(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(An(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Dp.set(n,e)}).catch(()=>{}),cc.set(t,e),t}function Lw(e){if(al.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});al.set(e,t)}let ll={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return al.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Np.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Fw(e){ll=e(ll)}function Uw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(xa(this),t,...n);return Np.set(r,t.sort?t.sort():[t]),An(r)}:Ow().includes(e)?function(...t){return e.apply(xa(this),t),An(Dp.get(this))}:function(...t){return An(e.apply(xa(this),t))}}function jw(e){return typeof e=="function"?Uw(e):(e instanceof IDBTransaction&&Lw(e),Dw(e,Nw())?new Proxy(e,ll):e)}function An(e){if(e instanceof IDBRequest)return Mw(e);if(Pa.has(e))return Pa.get(e);const t=jw(e);return t!==e&&(Pa.set(e,t),cc.set(t,e)),t}const xa=e=>cc.get(e);function Bw(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),l=An(o);return r&&o.addEventListener("upgradeneeded",c=>{r(An(o.result),c.oldVersion,c.newVersion,An(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Hw=["get","getKey","getAll","getAllKeys","count"],$w=["put","add","delete","clear"],Va=new Map;function Rh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Va.get(t))return Va.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=$w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Hw.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),s&&c.done]))[0]};return Va.set(t,i),i}Fw(e=>({...e,get:(t,n,r)=>Rh(t,n)||e.get(t,n,r),has:(t,n)=>!!Rh(t,n)||e.has(t,n)}));class qw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ww(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ww(e){return e.getComponent()?.type==="VERSION"}const cl="@firebase/app",Sh="0.14.8";const sn=new kp("@firebase/app"),zw="@firebase/app-compat",Kw="@firebase/analytics-compat",Gw="@firebase/analytics",Qw="@firebase/app-check-compat",Jw="@firebase/app-check",Yw="@firebase/auth",Xw="@firebase/auth-compat",Zw="@firebase/database",tb="@firebase/data-connect",eb="@firebase/database-compat",nb="@firebase/functions",rb="@firebase/functions-compat",sb="@firebase/installations",ib="@firebase/installations-compat",ob="@firebase/messaging",ab="@firebase/messaging-compat",lb="@firebase/performance",cb="@firebase/performance-compat",ub="@firebase/remote-config",hb="@firebase/remote-config-compat",fb="@firebase/storage",db="@firebase/storage-compat",pb="@firebase/firestore",gb="@firebase/ai",mb="@firebase/firestore-compat",_b="firebase",yb="12.9.0";const ul="[DEFAULT]",Eb={[cl]:"fire-core",[zw]:"fire-core-compat",[Gw]:"fire-analytics",[Kw]:"fire-analytics-compat",[Jw]:"fire-app-check",[Qw]:"fire-app-check-compat",[Yw]:"fire-auth",[Xw]:"fire-auth-compat",[Zw]:"fire-rtdb",[tb]:"fire-data-connect",[eb]:"fire-rtdb-compat",[nb]:"fire-fn",[rb]:"fire-fn-compat",[sb]:"fire-iid",[ib]:"fire-iid-compat",[ob]:"fire-fcm",[ab]:"fire-fcm-compat",[lb]:"fire-perf",[cb]:"fire-perf-compat",[ub]:"fire-rc",[hb]:"fire-rc-compat",[fb]:"fire-gcs",[db]:"fire-gcs-compat",[pb]:"fire-fst",[mb]:"fire-fst-compat",[gb]:"fire-vertex","fire-js":"fire-js",[_b]:"fire-js-all"};const lo=new Map,vb=new Map,hl=new Map;function Ch(e,t){try{e.container.addComponent(t)}catch(n){sn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function co(e){const t=e.name;if(hl.has(t))return sn.debug(`There were multiple attempts to register component ${t}.`),!1;hl.set(t,e);for(const n of lo.values())Ch(n,e);for(const n of vb.values())Ch(n,e);return!0}function Tb(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wb(e){return e==null?!1:e.settings!==void 0}const bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rn=new Vp("app","Firebase",bb);class Ib{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Ab=yb;function Op(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:ul,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw Rn.create("bad-app-name",{appName:String(s)});if(n||(n=xp()),!n)throw Rn.create("no-options");const i=lo.get(s);if(i){if(ao(n,i.options)&&ao(r,i.config))return i;throw Rn.create("duplicate-app",{appName:s})}const o=new Cw(s);for(const c of hl.values())o.addComponent(c);const l=new Ib(n,r,o);return lo.set(s,l),l}function Rb(e=ul){const t=lo.get(e);if(!t&&e===ul&&xp())return Op();if(!t)throw Rn.create("no-app",{appName:e});return t}function Or(e,t,n){let r=Eb[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sn.warn(o.join(" "));return}co(new zs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Sb="firebase-heartbeat-database",Cb=1,Ks="firebase-heartbeat-store";let ka=null;function Mp(){return ka||(ka=Bw(Sb,Cb,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ks)}catch(n){console.warn(n)}}}}).catch(e=>{throw Rn.create("idb-open",{originalErrorMessage:e.message})})),ka}async function Pb(e){try{const n=(await Mp()).transaction(Ks),r=await n.objectStore(Ks).get(Lp(e));return await n.done,r}catch(t){if(t instanceof Jr)sn.warn(t.message);else{const n=Rn.create("idb-get",{originalErrorMessage:t?.message});sn.warn(n.message)}}}async function Ph(e,t){try{const r=(await Mp()).transaction(Ks,"readwrite");await r.objectStore(Ks).put(t,Lp(e)),await r.done}catch(n){if(n instanceof Jr)sn.warn(n.message);else{const r=Rn.create("idb-set",{originalErrorMessage:n?.message});sn.warn(r.message)}}}function Lp(e){return`${e.name}!${e.options.appId}`}const xb=1024,Vb=30;class kb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xh();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Vb){const s=Ob(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){sn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=xh(),{heartbeatsToSend:n,unsentEntries:r}=Db(this._heartbeatsCache.heartbeats),s=oo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return sn.warn(t),""}}}function xh(){return new Date().toISOString().substring(0,10)}function Db(e,t=xb){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Vh(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Nb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vw()?Tw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Pb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ph(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ph(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Vh(e){return oo(JSON.stringify({version:2,heartbeats:e})).length}function Ob(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Mb(e){co(new zs("platform-logger",t=>new qw(t),"PRIVATE")),co(new zs("heartbeat",t=>new kb(t),"PRIVATE")),Or(cl,Sh,e),Or(cl,Sh,"esm2020"),Or("fire-js","")}Mb("");var Lb="firebase",Fb="12.9.0";Or(Lb,Fb,"app");var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sn,Fp;(function(){var e;function t(b,y){function E(){}E.prototype=y.prototype,b.F=y.prototype,b.prototype=new E,b.prototype.constructor=b,b.D=function(T,A,S){for(var v=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)v[pt-2]=arguments[pt];return y.prototype[A].apply(T,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,y,E){E||(E=0);const T=Array(16);if(typeof y=="string")for(var A=0;A<16;++A)T[A]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(A=0;A<16;++A)T[A]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=b.g[0],E=b.g[1],A=b.g[2];let S=b.g[3],v;v=y+(S^E&(A^S))+T[0]+3614090360&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(A^y&(E^A))+T[1]+3905402710&4294967295,S=y+(v<<12&4294967295|v>>>20),v=A+(E^S&(y^E))+T[2]+606105819&4294967295,A=S+(v<<17&4294967295|v>>>15),v=E+(y^A&(S^y))+T[3]+3250441966&4294967295,E=A+(v<<22&4294967295|v>>>10),v=y+(S^E&(A^S))+T[4]+4118548399&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(A^y&(E^A))+T[5]+1200080426&4294967295,S=y+(v<<12&4294967295|v>>>20),v=A+(E^S&(y^E))+T[6]+2821735955&4294967295,A=S+(v<<17&4294967295|v>>>15),v=E+(y^A&(S^y))+T[7]+4249261313&4294967295,E=A+(v<<22&4294967295|v>>>10),v=y+(S^E&(A^S))+T[8]+1770035416&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(A^y&(E^A))+T[9]+2336552879&4294967295,S=y+(v<<12&4294967295|v>>>20),v=A+(E^S&(y^E))+T[10]+4294925233&4294967295,A=S+(v<<17&4294967295|v>>>15),v=E+(y^A&(S^y))+T[11]+2304563134&4294967295,E=A+(v<<22&4294967295|v>>>10),v=y+(S^E&(A^S))+T[12]+1804603682&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(A^y&(E^A))+T[13]+4254626195&4294967295,S=y+(v<<12&4294967295|v>>>20),v=A+(E^S&(y^E))+T[14]+2792965006&4294967295,A=S+(v<<17&4294967295|v>>>15),v=E+(y^A&(S^y))+T[15]+1236535329&4294967295,E=A+(v<<22&4294967295|v>>>10),v=y+(A^S&(E^A))+T[1]+4129170786&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^A&(y^E))+T[6]+3225465664&4294967295,S=y+(v<<9&4294967295|v>>>23),v=A+(y^E&(S^y))+T[11]+643717713&4294967295,A=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(A^S))+T[0]+3921069994&4294967295,E=A+(v<<20&4294967295|v>>>12),v=y+(A^S&(E^A))+T[5]+3593408605&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^A&(y^E))+T[10]+38016083&4294967295,S=y+(v<<9&4294967295|v>>>23),v=A+(y^E&(S^y))+T[15]+3634488961&4294967295,A=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(A^S))+T[4]+3889429448&4294967295,E=A+(v<<20&4294967295|v>>>12),v=y+(A^S&(E^A))+T[9]+568446438&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^A&(y^E))+T[14]+3275163606&4294967295,S=y+(v<<9&4294967295|v>>>23),v=A+(y^E&(S^y))+T[3]+4107603335&4294967295,A=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(A^S))+T[8]+1163531501&4294967295,E=A+(v<<20&4294967295|v>>>12),v=y+(A^S&(E^A))+T[13]+2850285829&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^A&(y^E))+T[2]+4243563512&4294967295,S=y+(v<<9&4294967295|v>>>23),v=A+(y^E&(S^y))+T[7]+1735328473&4294967295,A=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(A^S))+T[12]+2368359562&4294967295,E=A+(v<<20&4294967295|v>>>12),v=y+(E^A^S)+T[5]+4294588738&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^A)+T[8]+2272392833&4294967295,S=y+(v<<11&4294967295|v>>>21),v=A+(S^y^E)+T[11]+1839030562&4294967295,A=S+(v<<16&4294967295|v>>>16),v=E+(A^S^y)+T[14]+4259657740&4294967295,E=A+(v<<23&4294967295|v>>>9),v=y+(E^A^S)+T[1]+2763975236&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^A)+T[4]+1272893353&4294967295,S=y+(v<<11&4294967295|v>>>21),v=A+(S^y^E)+T[7]+4139469664&4294967295,A=S+(v<<16&4294967295|v>>>16),v=E+(A^S^y)+T[10]+3200236656&4294967295,E=A+(v<<23&4294967295|v>>>9),v=y+(E^A^S)+T[13]+681279174&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^A)+T[0]+3936430074&4294967295,S=y+(v<<11&4294967295|v>>>21),v=A+(S^y^E)+T[3]+3572445317&4294967295,A=S+(v<<16&4294967295|v>>>16),v=E+(A^S^y)+T[6]+76029189&4294967295,E=A+(v<<23&4294967295|v>>>9),v=y+(E^A^S)+T[9]+3654602809&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^A)+T[12]+3873151461&4294967295,S=y+(v<<11&4294967295|v>>>21),v=A+(S^y^E)+T[15]+530742520&4294967295,A=S+(v<<16&4294967295|v>>>16),v=E+(A^S^y)+T[2]+3299628645&4294967295,E=A+(v<<23&4294967295|v>>>9),v=y+(A^(E|~S))+T[0]+4096336452&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~A))+T[7]+1126891415&4294967295,S=y+(v<<10&4294967295|v>>>22),v=A+(y^(S|~E))+T[14]+2878612391&4294967295,A=S+(v<<15&4294967295|v>>>17),v=E+(S^(A|~y))+T[5]+4237533241&4294967295,E=A+(v<<21&4294967295|v>>>11),v=y+(A^(E|~S))+T[12]+1700485571&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~A))+T[3]+2399980690&4294967295,S=y+(v<<10&4294967295|v>>>22),v=A+(y^(S|~E))+T[10]+4293915773&4294967295,A=S+(v<<15&4294967295|v>>>17),v=E+(S^(A|~y))+T[1]+2240044497&4294967295,E=A+(v<<21&4294967295|v>>>11),v=y+(A^(E|~S))+T[8]+1873313359&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~A))+T[15]+4264355552&4294967295,S=y+(v<<10&4294967295|v>>>22),v=A+(y^(S|~E))+T[6]+2734768916&4294967295,A=S+(v<<15&4294967295|v>>>17),v=E+(S^(A|~y))+T[13]+1309151649&4294967295,E=A+(v<<21&4294967295|v>>>11),v=y+(A^(E|~S))+T[4]+4149444226&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~A))+T[11]+3174756917&4294967295,S=y+(v<<10&4294967295|v>>>22),v=A+(y^(S|~E))+T[2]+718787259&4294967295,A=S+(v<<15&4294967295|v>>>17),v=E+(S^(A|~y))+T[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(A+(v<<21&4294967295|v>>>11))&4294967295,b.g[2]=b.g[2]+A&4294967295,b.g[3]=b.g[3]+S&4294967295}r.prototype.v=function(b,y){y===void 0&&(y=b.length);const E=y-this.blockSize,T=this.C;let A=this.h,S=0;for(;S<y;){if(A==0)for(;S<=E;)s(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<y;)if(T[A++]=b.charCodeAt(S++),A==this.blockSize){s(this,T),A=0;break}}else for(;S<y;)if(T[A++]=b[S++],A==this.blockSize){s(this,T),A=0;break}}this.h=A,this.o+=y},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;y=this.o*8;for(var E=b.length-8;E<b.length;++E)b[E]=y&255,y/=256;for(this.v(b),b=Array(16),y=0,E=0;E<4;++E)for(let T=0;T<32;T+=8)b[y++]=this.g[E]>>>T&255;return b};function i(b,y){var E=l;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=y(b)}function o(b,y){this.h=y;const E=[];let T=!0;for(let A=b.length-1;A>=0;A--){const S=b[A]|0;T&&S==y||(E[A]=S,T=!1)}this.g=E}var l={};function c(b){return-128<=b&&b<128?i(b,function(y){return new o([y|0],y<0?-1:0)}):new o([b|0],b<0?-1:0)}function f(b){if(isNaN(b)||!isFinite(b))return p;if(b<0)return D(f(-b));const y=[];let E=1;for(let T=0;b>=E;T++)y[T]=b/E|0,E*=4294967296;return new o(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return D(h(b.substring(1),y));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=f(Math.pow(y,8));let T=p;for(let S=0;S<b.length;S+=8){var A=Math.min(8,b.length-S);const v=parseInt(b.substring(S,S+A),y);A<8?(A=f(Math.pow(y,A)),T=T.j(A).add(f(v))):(T=T.j(E),T=T.add(f(v)))}return T}var p=c(0),g=c(1),_=c(16777216);e=o.prototype,e.m=function(){if(R(this))return-D(this).m();let b=0,y=1;for(let E=0;E<this.g.length;E++){const T=this.i(E);b+=(T>=0?T:4294967296+T)*y,y*=4294967296}return b},e.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I(this))return"0";if(R(this))return"-"+D(this).toString(b);const y=f(Math.pow(b,6));var E=this;let T="";for(;;){const A=V(E,y).g;E=O(E,A.j(y));let S=((E.g.length>0?E.g[0]:E.h)>>>0).toString(b);if(E=A,I(E))return S+T;for(;S.length<6;)S="0"+S;T=S+T}},e.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function I(b){if(b.h!=0)return!1;for(let y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function R(b){return b.h==-1}e.l=function(b){return b=O(this,b),R(b)?-1:I(b)?0:1};function D(b){const y=b.g.length,E=[];for(let T=0;T<y;T++)E[T]=~b.g[T];return new o(E,~b.h).add(g)}e.abs=function(){return R(this)?D(this):this},e.add=function(b){const y=Math.max(this.g.length,b.g.length),E=[];let T=0;for(let A=0;A<=y;A++){let S=T+(this.i(A)&65535)+(b.i(A)&65535),v=(S>>>16)+(this.i(A)>>>16)+(b.i(A)>>>16);T=v>>>16,S&=65535,v&=65535,E[A]=v<<16|S}return new o(E,E[E.length-1]&-2147483648?-1:0)};function O(b,y){return b.add(D(y))}e.j=function(b){if(I(this)||I(b))return p;if(R(this))return R(b)?D(this).j(D(b)):D(D(this).j(b));if(R(b))return D(this.j(D(b)));if(this.l(_)<0&&b.l(_)<0)return f(this.m()*b.m());const y=this.g.length+b.g.length,E=[];for(var T=0;T<2*y;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(let A=0;A<b.g.length;A++){const S=this.i(T)>>>16,v=this.i(T)&65535,pt=b.i(A)>>>16,Ct=b.i(A)&65535;E[2*T+2*A]+=v*Ct,$(E,2*T+2*A),E[2*T+2*A+1]+=S*Ct,$(E,2*T+2*A+1),E[2*T+2*A+1]+=v*pt,$(E,2*T+2*A+1),E[2*T+2*A+2]+=S*pt,$(E,2*T+2*A+2)}for(b=0;b<y;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=y;b<2*y;b++)E[b]=0;return new o(E,0)};function $(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function P(b,y){this.g=b,this.h=y}function V(b,y){if(I(y))throw Error("division by zero");if(I(b))return new P(p,p);if(R(b))return y=V(D(b),y),new P(D(y.g),D(y.h));if(R(y))return y=V(b,D(y)),new P(D(y.g),y.h);if(b.g.length>30){if(R(b)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var E=g,T=y;T.l(b)<=0;)E=L(E),T=L(T);var A=G(E,1),S=G(T,1);for(T=G(T,2),E=G(E,2);!I(T);){var v=S.add(T);v.l(b)<=0&&(A=A.add(E),S=v),T=G(T,1),E=G(E,1)}return y=O(b,A.j(y)),new P(A,y)}for(A=p;b.l(y)>=0;){for(E=Math.max(1,Math.floor(b.m()/y.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),S=f(E),v=S.j(y);R(v)||v.l(b)>0;)E-=T,S=f(E),v=S.j(y);I(S)&&(S=g),A=A.add(S),b=O(b,v)}return new P(A,b)}e.B=function(b){return V(this,b).h},e.and=function(b){const y=Math.max(this.g.length,b.g.length),E=[];for(let T=0;T<y;T++)E[T]=this.i(T)&b.i(T);return new o(E,this.h&b.h)},e.or=function(b){const y=Math.max(this.g.length,b.g.length),E=[];for(let T=0;T<y;T++)E[T]=this.i(T)|b.i(T);return new o(E,this.h|b.h)},e.xor=function(b){const y=Math.max(this.g.length,b.g.length),E=[];for(let T=0;T<y;T++)E[T]=this.i(T)^b.i(T);return new o(E,this.h^b.h)};function L(b){const y=b.g.length+1,E=[];for(let T=0;T<y;T++)E[T]=b.i(T)<<1|b.i(T-1)>>>31;return new o(E,b.h)}function G(b,y){const E=y>>5;y%=32;const T=b.g.length-E,A=[];for(let S=0;S<T;S++)A[S]=y>0?b.i(S+E)>>>y|b.i(S+E+1)<<32-y:b.i(S+E);return new o(A,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Fp=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,Sn=o}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});var Vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Up,Is,jp,ji,fl,Bp,Hp,$p;(function(){var e,t=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vi=="object"&&Vi];for(var u=0;u<a.length;++u){var d=a[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function s(a,u){if(u)t:{var d=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var x=a[m];if(!(x in d))break t;d=d[x]}a=a[a.length-1],m=d[a],u=u(m),u!=m&&u!=null&&t(d,a,{configurable:!0,writable:!0,value:u})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(u){var d=[],m;for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&d.push([m,u[m]]);return d}});var i=i||{},o=this||self;function l(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function c(a,u,d){return a.call.apply(a.bind,arguments)}function f(a,u,d){return f=c,f.apply(null,arguments)}function h(a,u){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function p(a,u){function d(){}d.prototype=u.prototype,a.Z=u.prototype,a.prototype=new d,a.prototype.constructor=a,a.Ob=function(m,x,k){for(var K=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)K[ut-2]=arguments[ut];return u.prototype[x].apply(m,K)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function _(a){const u=a.length;if(u>0){const d=Array(u);for(let m=0;m<u;m++)d[m]=a[m];return d}return[]}function I(a,u){for(let m=1;m<arguments.length;m++){const x=arguments[m];var d=typeof x;if(d=d!="object"?d:x?Array.isArray(x)?"array":d:"null",d=="array"||d=="object"&&typeof x.length=="number"){d=a.length||0;const k=x.length||0;a.length=d+k;for(let K=0;K<k;K++)a[d+K]=x[K]}else a.push(x)}}class R{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function D(a){o.setTimeout(()=>{throw a},0)}function O(){var a=b;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class ${constructor(){this.h=this.g=null}add(u,d){const m=P.get();m.set(u,d),this.h?this.h.next=m:this.g=m,this.h=m}}var P=new R(()=>new V,a=>a.reset());class V{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let L,G=!1,b=new $,y=()=>{const a=Promise.resolve(void 0);L=()=>{a.then(E)}};function E(){for(var a;a=O();){try{a.h.call(a.g)}catch(d){D(d)}var u=P;u.j(a),u.h<100&&(u.h++,a.next=u.g,u.g=a)}G=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};o.addEventListener("test",d,u),o.removeEventListener("test",d,u)}catch{}return a})();function v(a){return/^[\s\xa0]*$/.test(a)}function pt(a,u){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,u)}p(pt,A),pt.prototype.init=function(a,u){const d=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget,u||(d=="mouseover"?u=a.fromElement:d=="mouseout"&&(u=a.toElement)),this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&pt.Z.h.call(this)},pt.prototype.h=function(){pt.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ct="closure_listenable_"+(Math.random()*1e6|0),tt=0;function ct(a,u,d,m,x){this.listener=a,this.proxy=null,this.src=u,this.type=d,this.capture=!!m,this.ha=x,this.key=++tt,this.da=this.fa=!1}function Y(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function bt(a,u,d){for(const m in a)u.call(d,a[m],m,a)}function dr(a,u){for(const d in a)u.call(void 0,a[d],d,a)}function De(a){const u={};for(const d in a)u[d]=a[d];return u}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function es(a,u){let d,m;for(let x=1;x<arguments.length;x++){m=arguments[x];for(d in m)a[d]=m[d];for(let k=0;k<me.length;k++)d=me[k],Object.prototype.hasOwnProperty.call(m,d)&&(a[d]=m[d])}}function pr(a){this.src=a,this.g={},this.h=0}pr.prototype.add=function(a,u,d,m,x){const k=a.toString();a=this.g[k],a||(a=this.g[k]=[],this.h++);const K=Qe(a,u,m,x);return K>-1?(u=a[K],d||(u.fa=!1)):(u=new ct(u,this.src,k,!!m,x),u.fa=d,a.push(u)),u};function ns(a,u){const d=u.type;if(d in a.g){var m=a.g[d],x=Array.prototype.indexOf.call(m,u,void 0),k;(k=x>=0)&&Array.prototype.splice.call(m,x,1),k&&(Y(u),a.g[d].length==0&&(delete a.g[d],a.h--))}}function Qe(a,u,d,m){for(let x=0;x<a.length;++x){const k=a[x];if(!k.da&&k.listener==u&&k.capture==!!d&&k.ha==m)return x}return-1}var cn="closure_lm_"+(Math.random()*1e6|0),Fn={};function rs(a,u,d,m,x){if(Array.isArray(u)){for(let k=0;k<u.length;k++)rs(a,u[k],d,m,x);return null}return d=j(d),a&&a[Ct]?a.J(u,d,l(m)?!!m.capture:!1,x):un(a,u,d,!1,m,x)}function un(a,u,d,m,x,k){if(!u)throw Error("Invalid event type");const K=l(x)?!!x.capture:!!x;let ut=B(a);if(ut||(a[cn]=ut=new pr(a)),d=ut.add(u,d,m,K,k),d.proxy)return d;if(m=ss(),d.proxy=m,m.src=a,m.listener=d,a.addEventListener)S||(x=K),x===void 0&&(x=!1),a.addEventListener(u.toString(),m,x);else if(a.attachEvent)a.attachEvent(C(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function ss(){function a(d){return u.call(a.src,a.listener,d)}const u=N;return a}function gr(a,u,d,m,x){if(Array.isArray(u))for(var k=0;k<u.length;k++)gr(a,u[k],d,m,x);else m=l(m)?!!m.capture:!!m,d=j(d),a&&a[Ct]?(a=a.i,k=String(u).toString(),k in a.g&&(u=a.g[k],d=Qe(u,d,m,x),d>-1&&(Y(u[d]),Array.prototype.splice.call(u,d,1),u.length==0&&(delete a.g[k],a.h--)))):a&&(a=B(a))&&(u=a.g[u.toString()],a=-1,u&&(a=Qe(u,d,m,x)),(d=a>-1?u[a]:null)&&w(d))}function w(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[Ct])ns(u.i,a);else{var d=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(d,m,a.capture):u.detachEvent?u.detachEvent(C(d),m):u.addListener&&u.removeListener&&u.removeListener(m),(d=B(u))?(ns(d,a),d.h==0&&(d.src=null,u[cn]=null)):Y(a)}}}function C(a){return a in Fn?Fn[a]:Fn[a]="on"+a}function N(a,u){if(a.da)a=!0;else{u=new pt(u,this);const d=a.listener,m=a.ha||a.src;a.fa&&w(a),a=d.call(m,u)}return a}function B(a){return a=a[cn],a instanceof pr?a:null}var F="__closure_events_fn_"+(Math.random()*1e9>>>0);function j(a){return typeof a=="function"?a:(a[F]||(a[F]=function(u){return a.handleEvent(u)}),a[F])}function W(){T.call(this),this.i=new pr(this),this.M=this,this.G=null}p(W,T),W.prototype[Ct]=!0,W.prototype.removeEventListener=function(a,u,d,m){gr(this,a,u,d,m)};function q(a,u){var d,m=a.G;if(m)for(d=[];m;m=m.G)d.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new A(u,a);else if(u instanceof A)u.target=u.target||a;else{var x=u;u=new A(m,a),es(u,x)}x=!0;let k,K;if(d)for(K=d.length-1;K>=0;K--)k=u.g=d[K],x=z(k,m,!0,u)&&x;if(k=u.g=a,x=z(k,m,!0,u)&&x,x=z(k,m,!1,u)&&x,d)for(K=0;K<d.length;K++)k=u.g=d[K],x=z(k,m,!1,u)&&x}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var a=this.i;for(const u in a.g){const d=a.g[u];for(let m=0;m<d.length;m++)Y(d[m]);delete a.g[u],a.h--}}this.G=null},W.prototype.J=function(a,u,d,m){return this.i.add(String(a),u,!1,d,m)},W.prototype.K=function(a,u,d,m){return this.i.add(String(a),u,!0,d,m)};function z(a,u,d,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();let x=!0;for(let k=0;k<u.length;++k){const K=u[k];if(K&&!K.da&&K.capture==d){const ut=K.listener,Wt=K.ha||K.src;K.fa&&ns(a.i,K),x=ut.call(Wt,m)!==!1&&x}}return x&&!m.defaultPrevented}function H(a,u){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=f(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:o.setTimeout(a,u||0)}function et(a){a.g=H(()=>{a.g=null,a.i&&(a.i=!1,et(a))},a.l);const u=a.h;a.h=null,a.m.apply(null,u)}class Q extends T{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function X(a){T.call(this),this.h=a,this.g={}}p(X,T);var st=[];function ht(a){bt(a.g,function(u,d){this.g.hasOwnProperty(d)&&w(u)},a),a.g={}}X.prototype.N=function(){X.Z.N.call(this),ht(this)},X.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=o.JSON.stringify,yt=o.JSON.parse,re=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function $t(){}function fe(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){A.call(this,"d")}p(Je,A);function mr(){A.call(this,"c")}p(mr,A);var Mt={},_e=null;function Un(){return _e=_e||new W}Mt.Ia="serverreachability";function is(a){A.call(this,Mt.Ia,a)}p(is,A);function os(a){const u=Un();q(u,new is(u))}Mt.STAT_EVENT="statevent";function Bc(a,u){A.call(this,Mt.STAT_EVENT,a),this.stat=u}p(Bc,A);function ce(a){const u=Un();q(u,new Bc(u,a))}Mt.Ja="timingevent";function Hc(a,u){A.call(this,Mt.Ja,a),this.size=u}p(Hc,A);function as(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},u)}function ls(){this.g=!0}ls.prototype.ua=function(){this.g=!1};function dm(a,u,d,m,x,k){a.info(function(){if(a.g)if(k){var K="",ut=k.split("&");for(let It=0;It<ut.length;It++){var Wt=ut[It].split("=");if(Wt.length>1){const Gt=Wt[0];Wt=Wt[1];const Oe=Gt.split("_");K=Oe.length>=2&&Oe[1]=="type"?K+(Gt+"="+Wt+"&"):K+(Gt+"=redacted&")}}}else K=null;else K=k;return"XMLHTTP REQ ("+m+") [attempt "+x+"]: "+u+`
`+d+`
`+K})}function pm(a,u,d,m,x,k,K){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+x+"]: "+u+`
`+d+`
`+k+" "+K})}function _r(a,u,d,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+mm(a,d)+(m?" "+m:"")})}function gm(a,u){a.info(function(){return"TIMEOUT: "+u})}ls.prototype.info=function(){};function mm(a,u){if(!a.g)return u;if(!u)return null;try{const k=JSON.parse(u);if(k){for(a=0;a<k.length;a++)if(Array.isArray(k[a])){var d=k[a];if(!(d.length<2)){var m=d[1];if(Array.isArray(m)&&!(m.length<1)){var x=m[0];if(x!="noop"&&x!="stop"&&x!="close")for(let K=1;K<m.length;K++)m[K]=""}}}}return vt(k)}catch{return u}}var fi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$c={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qc;function Jo(){}p(Jo,$t),Jo.prototype.g=function(){return new XMLHttpRequest},qc=new Jo;function cs(a){return encodeURIComponent(String(a))}function _m(a){var u=1;a=a.split(":");const d=[];for(;u>0&&a.length;)d.push(a.shift()),u--;return a.length&&d.push(a.join(":")),d}function hn(a,u,d,m){this.j=a,this.i=u,this.l=d,this.S=m||1,this.V=new X(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wc}function Wc(){this.i=null,this.g="",this.h=!1}var zc={},Yo={};function Xo(a,u,d){a.M=1,a.A=pi(Ne(u)),a.u=d,a.R=!0,Kc(a,null)}function Kc(a,u){a.F=Date.now(),di(a),a.B=Ne(a.A);var d=a.B,m=a.S;Array.isArray(m)||(m=[String(m)]),ou(d.i,"t",m),a.C=0,d=a.j.L,a.h=new Wc,a.g=Iu(a.j,d?u:null,!a.u),a.P>0&&(a.O=new Q(f(a.Y,a,a.g),a.P)),u=a.V,d=a.g,m=a.ba;var x="readystatechange";Array.isArray(x)||(x&&(st[0]=x.toString()),x=st);for(let k=0;k<x.length;k++){const K=rs(d,x[k],m||u.handleEvent,!1,u.h||u);if(!K)break;u.g[K.key]=K}u=a.J?De(a.J):{},a.u?(a.v||(a.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,u)):(a.v="GET",a.g.ea(a.B,a.v,null,u)),os(),dm(a.i,a.v,a.B,a.l,a.S,a.u)}hn.prototype.ba=function(a){a=a.target;const u=this.O;u&&pn(a)==3?u.j():this.Y(a)},hn.prototype.Y=function(a){try{if(a==this.g)t:{const ut=pn(this.g),Wt=this.g.ya(),It=this.g.ca();if(!(ut<3)&&(ut!=3||this.g&&(this.h.h||this.g.la()||du(this.g)))){this.K||ut!=4||Wt==7||(Wt==8||It<=0?os(3):os(2)),Zo(this);var u=this.g.ca();this.X=u;var d=ym(this);if(this.o=u==200,pm(this.i,this.v,this.B,this.l,this.S,ut,u),this.o){if(this.U&&!this.L){e:{if(this.g){var m,x=this.g;if((m=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(m)){var k=m;break e}}k=null}if(a=k)_r(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ta(this,a);else{this.o=!1,this.m=3,ce(12),jn(this),us(this);break t}}if(this.R){a=!0;let Gt;for(;!this.K&&this.C<d.length;)if(Gt=Em(this,d),Gt==Yo){ut==4&&(this.m=4,ce(14),a=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==zc){this.m=4,ce(15),_r(this.i,this.l,d,"[Invalid Chunk]"),a=!1;break}else _r(this.i,this.l,Gt,null),ta(this,Gt);if(Gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||d.length!=0||this.h.h||(this.m=1,ce(16),a=!1),this.o=this.o&&a,!a)_r(this.i,this.l,d,"[Invalid Chunked Response]"),jn(this),us(this);else if(d.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),la(K),K.P=!0,ce(11))}}else _r(this.i,this.l,d,null),ta(this,d);ut==4&&jn(this),this.o&&!this.K&&(ut==4?vu(this.j,this):(this.o=!1,di(this)))}else Dm(this.g),u==400&&d.indexOf("Unknown SID")>0?(this.m=3,ce(12)):(this.m=0,ce(13)),jn(this),us(this)}}}catch{}};function ym(a){if(!Gc(a))return a.g.la();const u=du(a.g);if(u==="")return"";let d="";const m=u.length,x=pn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return jn(a),us(a),"";a.h.i=new o.TextDecoder}for(let k=0;k<m;k++)a.h.h=!0,d+=a.h.i.decode(u[k],{stream:!(x&&k==m-1)});return u.length=0,a.h.g+=d,a.C=0,a.h.g}function Gc(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function Em(a,u){var d=a.C,m=u.indexOf(`
`,d);return m==-1?Yo:(d=Number(u.substring(d,m)),isNaN(d)?zc:(m+=1,m+d>u.length?Yo:(u=u.slice(m,m+d),a.C=m+d,u)))}hn.prototype.cancel=function(){this.K=!0,jn(this)};function di(a){a.T=Date.now()+a.H,Qc(a,a.H)}function Qc(a,u){if(a.D!=null)throw Error("WatchDog timer not null");a.D=as(f(a.aa,a),u)}function Zo(a){a.D&&(o.clearTimeout(a.D),a.D=null)}hn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(gm(this.i,this.B),this.M!=2&&(os(),ce(17)),jn(this),this.m=2,us(this)):Qc(this,this.T-a)};function us(a){a.j.I==0||a.K||vu(a.j,a)}function jn(a){Zo(a);var u=a.O;u&&typeof u.dispose=="function"&&u.dispose(),a.O=null,ht(a.V),a.g&&(u=a.g,a.g=null,u.abort(),u.dispose())}function ta(a,u){try{var d=a.j;if(d.I!=0&&(d.g==a||ea(d.h,a))){if(!a.L&&ea(d.h,a)&&d.I==3){try{var m=d.Ba.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var x=m;if(x[0]==0){t:if(!d.v){if(d.g)if(d.g.F+3e3<a.F)Ei(d),_i(d);else break t;aa(d),ce(18)}}else d.xa=x[1],0<d.xa-d.K&&x[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=as(f(d.Va,d),6e3));Xc(d.h)<=1&&d.ta&&(d.ta=void 0)}else Hn(d,11)}else if((a.L||d.g==a)&&Ei(d),!v(u))for(x=d.Ba.g.parse(u),u=0;u<x.length;u++){let It=x[u];const Gt=It[0];if(!(Gt<=d.K))if(d.K=Gt,It=It[1],d.I==2)if(It[0]=="c"){d.M=It[1],d.ba=It[2];const Oe=It[3];Oe!=null&&(d.ka=Oe,d.j.info("VER="+d.ka));const $n=It[4];$n!=null&&(d.za=$n,d.j.info("SVER="+d.za));const gn=It[5];gn!=null&&typeof gn=="number"&&gn>0&&(m=1.5*gn,d.O=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;const mn=a.g;if(mn){const Ti=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var k=m.h;k.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(na(k,k.h),k.h=null))}if(m.G){const ca=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(m.wa=ca,Pt(m.J,m.G,ca))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-a.F,d.j.info("Handshake RTT: "+d.T+"ms")),m=d;var K=a;if(m.na=bu(m,m.L?m.ba:null,m.W),K.L){Zc(m.h,K);var ut=K,Wt=m.O;Wt&&(ut.H=Wt),ut.D&&(Zo(ut),di(ut)),m.g=K}else yu(m);d.i.length>0&&yi(d)}else It[0]!="stop"&&It[0]!="close"||Hn(d,7);else d.I==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Hn(d,7):oa(d):It[0]!="noop"&&d.l&&d.l.qa(It),d.A=0)}}os(4)}catch{}}var vm=class{constructor(a,u){this.g=a,this.map=u}};function Jc(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yc(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Xc(a){return a.h?1:a.g?a.g.size:0}function ea(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function na(a,u){a.g?a.g.add(u):a.h=u}function Zc(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}Jc.prototype.cancel=function(){if(this.i=tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function tu(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let u=a.i;for(const d of a.g.values())u=u.concat(d.G);return u}return _(a.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tm(a,u){if(a){a=a.split("&");for(let d=0;d<a.length;d++){const m=a[d].indexOf("=");let x,k=null;m>=0?(x=a[d].substring(0,m),k=a[d].substring(m+1)):x=a[d],u(x,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function fn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;a instanceof fn?(this.l=a.l,hs(this,a.j),this.o=a.o,this.g=a.g,fs(this,a.u),this.h=a.h,ra(this,au(a.i)),this.m=a.m):a&&(u=String(a).match(eu))?(this.l=!1,hs(this,u[1]||"",!0),this.o=ds(u[2]||""),this.g=ds(u[3]||"",!0),fs(this,u[4]),this.h=ds(u[5]||"",!0),ra(this,u[6]||"",!0),this.m=ds(u[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}fn.prototype.toString=function(){const a=[];var u=this.j;u&&a.push(ps(u,nu,!0),":");var d=this.g;return(d||u=="file")&&(a.push("//"),(u=this.o)&&a.push(ps(u,nu,!0),"@"),a.push(cs(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&a.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(ps(d,d.charAt(0)=="/"?Im:bm,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",ps(d,Rm)),a.join("")},fn.prototype.resolve=function(a){const u=Ne(this);let d=!!a.j;d?hs(u,a.j):d=!!a.o,d?u.o=a.o:d=!!a.g,d?u.g=a.g:d=a.u!=null;var m=a.h;if(d)fs(u,a.u);else if(d=!!a.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var x=u.h.lastIndexOf("/");x!=-1&&(m=u.h.slice(0,x+1)+m)}if(x=m,x==".."||x==".")m="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){m=x.lastIndexOf("/",0)==0,x=x.split("/");const k=[];for(let K=0;K<x.length;){const ut=x[K++];ut=="."?m&&K==x.length&&k.push(""):ut==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),m&&K==x.length&&k.push("")):(k.push(ut),m=!0)}m=k.join("/")}else m=x}return d?u.h=m:d=a.i.toString()!=="",d?ra(u,au(a.i)):d=!!a.m,d&&(u.m=a.m),u};function Ne(a){return new fn(a)}function hs(a,u,d){a.j=d?ds(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function fs(a,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);a.u=u}else a.u=null}function ra(a,u,d){u instanceof gs?(a.i=u,Sm(a.i,a.l)):(d||(u=ps(u,Am)),a.i=new gs(u,a.l))}function Pt(a,u,d){a.i.set(u,d)}function pi(a){return Pt(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function ds(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ps(a,u,d){return typeof a=="string"?(a=encodeURI(a).replace(u,wm),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function wm(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var nu=/[#\/\?@]/g,bm=/[#\?:]/g,Im=/[#\?]/g,Am=/[#\?@]/g,Rm=/#/g;function gs(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Bn(a){a.g||(a.g=new Map,a.h=0,a.i&&Tm(a.i,function(u,d){a.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}e=gs.prototype,e.add=function(a,u){Bn(this),this.i=null,a=yr(this,a);let d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(u),this.h+=1,this};function ru(a,u){Bn(a),u=yr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function su(a,u){return Bn(a),u=yr(a,u),a.g.has(u)}e.forEach=function(a,u){Bn(this),this.g.forEach(function(d,m){d.forEach(function(x){a.call(u,x,m,this)},this)},this)};function iu(a,u){Bn(a);let d=[];if(typeof u=="string")su(a,u)&&(d=d.concat(a.g.get(yr(a,u))));else for(a=Array.from(a.g.values()),u=0;u<a.length;u++)d=d.concat(a[u]);return d}e.set=function(a,u){return Bn(this),this.i=null,a=yr(this,a),su(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},e.get=function(a,u){return a?(a=iu(this,a),a.length>0?String(a[0]):u):u};function ou(a,u,d){ru(a,u),d.length>0&&(a.i=null,a.g.set(yr(a,u),_(d)),a.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],u=Array.from(this.g.keys());for(let m=0;m<u.length;m++){var d=u[m];const x=cs(d);d=iu(this,d);for(let k=0;k<d.length;k++){let K=x;d[k]!==""&&(K+="="+cs(d[k])),a.push(K)}}return this.i=a.join("&")};function au(a){const u=new gs;return u.i=a.i,a.g&&(u.g=new Map(a.g),u.h=a.h),u}function yr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function Sm(a,u){u&&!a.j&&(Bn(a),a.i=null,a.g.forEach(function(d,m){const x=m.toLowerCase();m!=x&&(ru(this,m),ou(this,x,d))},a)),a.j=u}function Cm(a,u){const d=new ls;if(o.Image){const m=new Image;m.onload=h(dn,d,"TestLoadImage: loaded",!0,u,m),m.onerror=h(dn,d,"TestLoadImage: error",!1,u,m),m.onabort=h(dn,d,"TestLoadImage: abort",!1,u,m),m.ontimeout=h(dn,d,"TestLoadImage: timeout",!1,u,m),o.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function Pm(a,u){const d=new ls,m=new AbortController,x=setTimeout(()=>{m.abort(),dn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(k=>{clearTimeout(x),k.ok?dn(d,"TestPingServer: ok",!0,u):dn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(x),dn(d,"TestPingServer: error",!1,u)})}function dn(a,u,d,m,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),m(d)}catch{}}function xm(){this.g=new re}function sa(a){this.i=a.Sb||null,this.h=a.ab||!1}p(sa,$t),sa.prototype.g=function(){return new gi(this.i,this.h)};function gi(a,u){W.call(this),this.H=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(gi,W),e=gi.prototype,e.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=u,this.readyState=1,_s(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(u.body=a),(this.H||o).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},e.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lu(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function lu(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}e.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?ms(this):_s(this),this.readyState==3&&lu(this)}},e.Oa=function(a){this.g&&(this.response=this.responseText=a,ms(this))},e.Na=function(a){this.g&&(this.response=a,ms(this))},e.ga=function(){this.g&&ms(this)};function ms(a){a.readyState=4,a.l=null,a.j=null,a.B=null,_s(a)}e.setRequestHeader=function(a,u){this.A.append(a,u)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=u.next();return a.join(`\r
`)};function _s(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function cu(a){let u="";return bt(a,function(d,m){u+=m,u+=":",u+=d,u+=`\r
`}),u}function ia(a,u,d){t:{for(m in d){var m=!1;break t}m=!0}m||(d=cu(d),typeof a=="string"?d!=null&&cs(d):Pt(a,u,d))}function Ot(a){W.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ot,W);var Vm=/^https?$/i,km=["POST","PUT"];e=Ot.prototype,e.Fa=function(a){this.H=a},e.ea=function(a,u,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qc.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(k){uu(this,k);return}if(a=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var x in m)d.set(x,m[x]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const k of m.keys())d.set(k,m.get(k));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(k=>k.toLowerCase()=="content-type"),x=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(km,u,void 0)>=0)||m||x||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,K]of d)this.g.setRequestHeader(k,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(k){uu(this,k)}};function uu(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.o=5,hu(a),mi(a)}function hu(a){a.A||(a.A=!0,q(a,"complete"),q(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,q(this,"complete"),q(this,"abort"),mi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Ot.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?fu(this):this.Xa())},e.Xa=function(){fu(this)};function fu(a){if(a.h&&typeof i<"u"){if(a.v&&pn(a)==4)setTimeout(a.Ca.bind(a),0);else if(q(a,"readystatechange"),pn(a)==4){a.h=!1;try{const k=a.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var d;if(!(d=u)){var m;if(m=k===0){let K=String(a.D).match(eu)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),m=!Vm.test(K?K.toLowerCase():"")}d=m}if(d)q(a,"complete"),q(a,"success");else{a.o=6;try{var x=pn(a)>2?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.ca()+"]",hu(a)}}finally{mi(a)}}}}function mi(a,u){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const d=a.g;a.g=null,u||q(a,"ready");try{d.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function pn(a){return a.g?a.g.readyState:0}e.ca=function(){try{return pn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),yt(u)}};function du(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Dm(a){const u={};a=(a.g&&pn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(v(a[m]))continue;var d=_m(a[m]);const x=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const k=u[x]||[];u[x]=k,k.push(d)}dr(u,function(m){return m.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(a,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||u}function pu(a){this.za=0,this.i=[],this.j=new ls,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,a),this.Za=ys("retryDelaySeedMs",1e4,a),this.Ta=ys("forwardChannelMaxRetries",2,a),this.va=ys("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Jc(a&&a.concurrentRequestLimit),this.Ba=new xm,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=pu.prototype,e.ka=8,e.I=1,e.connect=function(a,u,d,m){ce(0),this.W=a,this.H=u||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.J=bu(this,null,this.W),yi(this)};function oa(a){if(gu(a),a.I==3){var u=a.V++,d=Ne(a.J);if(Pt(d,"SID",a.M),Pt(d,"RID",u),Pt(d,"TYPE","terminate"),Es(a,d),u=new hn(a,a.j,u),u.M=2,u.A=pi(Ne(d)),d=!1,o.navigator&&o.navigator.sendBeacon)try{d=o.navigator.sendBeacon(u.A.toString(),"")}catch{}!d&&o.Image&&(new Image().src=u.A,d=!0),d||(u.g=Iu(u.j,null),u.g.ea(u.A)),u.F=Date.now(),di(u)}wu(a)}function _i(a){a.g&&(la(a),a.g.cancel(),a.g=null)}function gu(a){_i(a),a.v&&(o.clearTimeout(a.v),a.v=null),Ei(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function yi(a){if(!Yc(a.h)&&!a.m){a.m=!0;var u=a.Ea;L||y(),G||(L(),G=!0),b.add(u,a),a.D=0}}function Nm(a,u){return Xc(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=u.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=as(f(a.Ea,a,u),Tu(a,a.D)),a.D++,!0)}e.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const x=new hn(this,this.j,a);let k=this.o;if(this.U&&(k?(k=De(k),es(k,this.U)):k=this.U),this.u!==null||this.R||(x.J=k,k=null),this.S)t:{for(var u=0,d=0;d<this.i.length;d++){e:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(u+=m,u>4096){u=d;break t}if(u===4096||d===this.i.length-1){u=d+1;break t}}u=1e3}else u=1e3;u=_u(this,x,u),d=Ne(this.J),Pt(d,"RID",a),Pt(d,"CVER",22),this.G&&Pt(d,"X-HTTP-Session-Id",this.G),Es(this,d),k&&(this.R?u="headers="+cs(cu(k))+"&"+u:this.u&&ia(d,this.u,k)),na(this.h,x),this.Ra&&Pt(d,"TYPE","init"),this.S?(Pt(d,"$req",u),Pt(d,"SID","null"),x.U=!0,Xo(x,d,null)):Xo(x,d,u),this.I=2}}else this.I==3&&(a?mu(this,a):this.i.length==0||Yc(this.h)||mu(this))};function mu(a,u){var d;u?d=u.l:d=a.V++;const m=Ne(a.J);Pt(m,"SID",a.M),Pt(m,"RID",d),Pt(m,"AID",a.K),Es(a,m),a.u&&a.o&&ia(m,a.u,a.o),d=new hn(a,a.j,d,a.D+1),a.u===null&&(d.J=a.o),u&&(a.i=u.G.concat(a.i)),u=_u(a,d,1e3),d.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),na(a.h,d),Xo(d,m,u)}function Es(a,u){a.H&&bt(a.H,function(d,m){Pt(u,m,d)}),a.l&&bt({},function(d,m){Pt(u,m,d)})}function _u(a,u,d){d=Math.min(a.i.length,d);const m=a.l?f(a.l.Ka,a.l,a):null;t:{var x=a.i;let ut=-1;for(;;){const Wt=["count="+d];ut==-1?d>0?(ut=x[0].g,Wt.push("ofs="+ut)):ut=0:Wt.push("ofs="+ut);let It=!0;for(let Gt=0;Gt<d;Gt++){var k=x[Gt].g;const Oe=x[Gt].map;if(k-=ut,k<0)ut=Math.max(0,x[Gt].g-100),It=!1;else try{k="req"+k+"_"||"";try{var K=Oe instanceof Map?Oe:Object.entries(Oe);for(const[$n,gn]of K){let mn=gn;l(gn)&&(mn=vt(gn)),Wt.push(k+$n+"="+encodeURIComponent(mn))}}catch($n){throw Wt.push(k+"type="+encodeURIComponent("_badmap")),$n}}catch{m&&m(Oe)}}if(It){K=Wt.join("&");break t}}K=void 0}return a=a.i.splice(0,d),u.G=a,K}function yu(a){if(!a.g&&!a.v){a.Y=1;var u=a.Da;L||y(),G||(L(),G=!0),b.add(u,a),a.A=0}}function aa(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=as(f(a.Da,a),Tu(a,a.A)),a.A++,!0)}e.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=as(f(this.Wa,this),a)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ce(10),_i(this),Eu(this))};function la(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Eu(a){a.g=new hn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var u=Ne(a.na);Pt(u,"RID","rpc"),Pt(u,"SID",a.M),Pt(u,"AID",a.K),Pt(u,"CI",a.F?"0":"1"),!a.F&&a.ia&&Pt(u,"TO",a.ia),Pt(u,"TYPE","xmlhttp"),Es(a,u),a.u&&a.o&&ia(u,a.u,a.o),a.O&&(a.g.H=a.O);var d=a.g;a=a.ba,d.M=1,d.A=pi(Ne(u)),d.u=null,d.R=!0,Kc(d,a)}e.Va=function(){this.C!=null&&(this.C=null,_i(this),aa(this),ce(19))};function Ei(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function vu(a,u){var d=null;if(a.g==u){Ei(a),la(a),a.g=null;var m=2}else if(ea(a.h,u))d=u.G,Zc(a.h,u),m=1;else return;if(a.I!=0){if(u.o)if(m==1){d=u.u?u.u.length:0,u=Date.now()-u.F;var x=a.D;m=Un(),q(m,new Hc(m,d)),yi(a)}else yu(a);else if(x=u.m,x==3||x==0&&u.X>0||!(m==1&&Nm(a,u)||m==2&&aa(a)))switch(d&&d.length>0&&(u=a.h,u.i=u.i.concat(d)),x){case 1:Hn(a,5);break;case 4:Hn(a,10);break;case 3:Hn(a,6);break;default:Hn(a,2)}}}function Tu(a,u){let d=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(d*=2),d*u}function Hn(a,u){if(a.j.info("Error code "+u),u==2){var d=f(a.bb,a),m=a.Ua;const x=!m;m=new fn(m||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||hs(m,"https"),pi(m),x?Cm(m.toString(),d):Pm(m.toString(),d)}else ce(2);a.I=0,a.l&&a.l.pa(u),wu(a),gu(a)}e.bb=function(a){a?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function wu(a){if(a.I=0,a.ja=[],a.l){const u=tu(a.h);(u.length!=0||a.i.length!=0)&&(I(a.ja,u),I(a.ja,a.i),a.h.i.length=0,_(a.i),a.i.length=0),a.l.oa()}}function bu(a,u,d){var m=d instanceof fn?Ne(d):new fn(d);if(m.g!="")u&&(m.g=u+"."+m.g),fs(m,m.u);else{var x=o.location;m=x.protocol,u=u?u+"."+x.hostname:x.hostname,x=+x.port;const k=new fn(null);m&&hs(k,m),u&&(k.g=u),x&&fs(k,x),d&&(k.h=d),m=k}return d=a.G,u=a.wa,d&&u&&Pt(m,d,u),Pt(m,"VER",a.ka),Es(a,m),m}function Iu(a,u,d){if(u&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Aa&&!a.ma?new Ot(new sa({ab:d})):new Ot(a.ma),u.Fa(a.L),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}e=Au.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function vi(){}vi.prototype.g=function(a,u){return new ye(a,u)};function ye(a,u){W.call(this),this.g=new pu(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(a?a["X-WebChannel-Client-Profile"]=u.sa:a={"X-WebChannel-Client-Profile":u.sa}),this.g.U=a,(a=u&&u.Qb)&&!v(a)&&(this.g.u=a),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!v(u)&&(this.g.G=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new Er(this)}p(ye,W),ye.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ye.prototype.close=function(){oa(this.g)},ye.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.v&&(d={},d.__data__=vt(a),a=d);u.i.push(new vm(u.Ya++,a)),u.I==3&&yi(u)},ye.prototype.N=function(){this.g.l=null,delete this.j,oa(this.g),delete this.g,ye.Z.N.call(this)};function Ru(a){Je.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){t:{for(const d in u){a=d;break t}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}p(Ru,Je);function Su(){mr.call(this),this.status=1}p(Su,mr);function Er(a){this.g=a}p(Er,Au),Er.prototype.ra=function(){q(this.g,"a")},Er.prototype.qa=function(a){q(this.g,new Ru(a))},Er.prototype.pa=function(a){q(this.g,new Su)},Er.prototype.oa=function(){q(this.g,"b")},vi.prototype.createWebChannel=vi.prototype.g,ye.prototype.send=ye.prototype.o,ye.prototype.open=ye.prototype.m,ye.prototype.close=ye.prototype.close,$p=function(){return new vi},Hp=function(){return Un()},Bp=Mt,fl={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,ji=fi,$c.COMPLETE="complete",jp=$c,fe.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",W.prototype.listen=W.prototype.J,Is=fe,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,Up=Ot}).apply(typeof Vi<"u"?Vi:typeof self<"u"?self:typeof window<"u"?window:{});class oe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}oe.UNAUTHENTICATED=new oe(null),oe.GOOGLE_CREDENTIALS=new oe("google-credentials-uid"),oe.FIRST_PARTY=new oe("first-party-uid"),oe.MOCK_USER=new oe("mock-user");let Yr="12.9.0";function Ub(e){Yr=e}const sr=new kp("@firebase/firestore");function br(){return sr.logLevel}function J(e,...t){if(sr.logLevel<=_t.DEBUG){const n=t.map(uc);sr.debug(`Firestore (${Yr}): ${e}`,...n)}}function on(e,...t){if(sr.logLevel<=_t.ERROR){const n=t.map(uc);sr.error(`Firestore (${Yr}): ${e}`,...n)}}function ir(e,...t){if(sr.logLevel<=_t.WARN){const n=t.map(uc);sr.warn(`Firestore (${Yr}): ${e}`,...n)}}function uc(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function rt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,qp(e,r,n)}function qp(e,t,n){let r=`FIRESTORE (${Yr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw on(r),new Error(r)}function wt(e,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,e||qp(t,s,r)}function lt(e,t){return e}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Jr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cn{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Wp{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(oe.UNAUTHENTICATED)))}shutdown(){}}class Bb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Hb{constructor(t){this.t=t,this.currentUser=oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){wt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cn,t.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const c=i;t.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cn)}}),0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new Wp(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return wt(t===null||typeof t=="string",2055,{h:t}),new oe(t)}}class $b{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=oe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qb{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new $b(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(oe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dh{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wb{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){wt(this.o===void 0,3512);const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>r(i)))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dh(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dh(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zb(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class hc{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zb(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%62))}return r}}function ft(e,t){return e<t?-1:e>t?1:0}function dl(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=e.charAt(r),i=t.charAt(r);if(s!==i)return Da(s)===Da(i)?ft(s,i):Da(s)?1:-1}return ft(e.length,t.length)}const Kb=55296,Gb=57343;function Da(e){const t=e.charCodeAt(0);return t>=Kb&&t<=Gb}function qr(e,t,n){return e.length===t.length&&e.every(((r,s)=>n(r,t[s])))}const Nh="__name__";class Fe{constructor(t,n,r){n===void 0?n=0:n>t.length&&rt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&rt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Fe.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Fe?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=Fe.compareSegments(t.get(s),n.get(s));if(i!==0)return i}return ft(t.length,n.length)}static compareSegments(t,n){const r=Fe.isNumericId(t),s=Fe.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fe.extractNumericId(t).compare(Fe.extractNumericId(n)):dl(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Sn.fromString(t.substring(4,t.length-2))}}class xt extends Fe{construct(t,n,r){return new xt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Z(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const Qb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class te extends Fe{construct(t,n,r){return new te(t,n,r)}static isValidIdentifier(t){return Qb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),te.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nh}static keyField(){return new te([Nh])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new Z(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Z(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new te(n)}static emptyPath(){return new te([])}}class nt{constructor(t){this.path=t}static fromPath(t){return new nt(xt.fromString(t))}static fromName(t){return new nt(xt.fromString(t).popFirst(5))}static empty(){return new nt(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new xt(t.slice()))}}function zp(e,t,n){if(!n)throw new Z(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Jb(e,t,n,r){if(t===!0&&r===!0)throw new Z(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Oh(e){if(!nt.isDocumentKey(e))throw new Z(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Mh(e){if(nt.isDocumentKey(e))throw new Z(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Kp(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function fc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":rt(12329,{type:typeof e})}function Gs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Z(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fc(e);throw new Z(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Bt(e,t){const n={typeString:e};return t&&(n.value=t),n}function ai(e,t){if(!Kp(e))throw new Z(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z(U.INVALID_ARGUMENT,n);return!0}const Lh=-62135596800,Fh=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(t){return Vt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Fh);return new Vt(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Lh)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fh}_compareTo(t){return this.seconds===t.seconds?ft(this.nanoseconds,t.nanoseconds):ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ai(t,Vt._jsonSchema))return new Vt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Lh;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:Bt("string",Vt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class ot{static fromTimestamp(t){return new ot(t)}static min(){return new ot(new Vt(0,0))}static max(){return new ot(new Vt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qs=-1;function Yb(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=ot.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new Vn(s,nt.empty(),t)}function Xb(e){return new Vn(e.readTime,e.key,Qs)}class Vn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Vn(ot.min(),nt.empty(),Qs)}static max(){return new Vn(ot.max(),nt.empty(),Qs)}}function Zb(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=nt.comparator(e.documentKey,t.documentKey),n!==0?n:ft(e.largestBatchId,t.largestBatchId))}const t0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Xr(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==t0)throw e;J("LocalStore","Unexpectedly lost primary lease")}class M{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new M(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):M.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):M.reject(n)}static resolve(t){return new M(((n,r)=>{n(t)}))}static reject(t){return new M(((n,r)=>{r(t)}))}static waitFor(t){return new M(((n,r)=>{let s=0,i=0,o=!1;t.forEach((l=>{++s,l.next((()=>{++i,o&&i===s&&n()}),(c=>r(c)))})),o=!0,i===s&&n()}))}static or(t){let n=M.resolve(!1);for(const r of t)n=n.next((s=>s?M.resolve(s):r()));return n}static forEach(t,n){const r=[];return t.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(t,n){return new M(((r,s)=>{const i=t.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const f=c;n(t[f]).next((h=>{o[f]=h,++l,l===i&&r(o)}),(h=>s(h)))}}))}static doWhile(t,n){return new M(((r,s)=>{const i=()=>{t()===!0?n().next((()=>{i()}),s):r()};i()}))}}function n0(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zr(e){return e.name==="IndexedDbTransactionError"}class Mo{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mo.ce=-1;const dc=-1;function Lo(e){return e==null}function uo(e){return e===0&&1/e==-1/0}function r0(e){return typeof e=="number"&&Number.isInteger(e)&&!uo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Gp="";function s0(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Uh(t)),t=i0(e.get(n),t);return Uh(t)}function i0(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const i=e.charAt(s);switch(i){case"\0":n+="";break;case Gp:n+="";break;default:n+=i}}return n}function Uh(e){return e+Gp+""}function jh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Nt{constructor(t,n){this.comparator=t,this.root=n||Xt.EMPTY}insert(t,n){return new Nt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(t){return new Nt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ki(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ki(this.root,t,this.comparator,!1)}getReverseIterator(){return new ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ki(this.root,t,this.comparator,!0)}}class ki{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Xt.RED,this.left=s??Xt.EMPTY,this.right=i??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Xt(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Xt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw rt(27949);return t+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(t,n,r,s,i){return this}insert(t,n,r){return new Xt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(t){this.comparator=t,this.data=new Nt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bh(this.data.getIterator())}getIteratorFrom(t){return new Bh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Kt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Kt(this.comparator);return n.data=t,n}}class Bh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ce{constructor(t){this.fields=t,t.sort(te.comparator)}static empty(){return new Ce([])}unionWith(t){let n=new Kt(te.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ce(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qr(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Jp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ne{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Jp("Invalid base64 string: "+i):i}})(t);return new ne(n)}static fromUint8Array(t){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(t);return new ne(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ne.EMPTY_BYTE_STRING=new ne("");const o0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kn(e){if(wt(!!e,39018),typeof e=="string"){let t=0;const n=o0.exec(e);if(wt(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Lt(e.seconds),nanos:Lt(e.nanos)}}function Lt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Dn(e){return typeof e=="string"?ne.fromBase64String(e):ne.fromUint8Array(e)}const Yp="server_timestamp",Xp="__type__",Zp="__previous_value__",tg="__local_write_time__";function pc(e){return(e?.mapValue?.fields||{})[Xp]?.stringValue===Yp}function Fo(e){const t=e.mapValue.fields[Zp];return pc(t)?Fo(t):t}function Js(e){const t=kn(e.mapValue.fields[tg].timestampValue);return new Vt(t.seconds,t.nanos)}class a0{constructor(t,n,r,s,i,o,l,c,f,h,p){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const ho="(default)";class Ys{constructor(t,n){this.projectId=t,this.database=n||ho}static empty(){return new Ys("","")}get isDefaultDatabase(){return this.database===ho}isEqual(t){return t instanceof Ys&&t.projectId===this.projectId&&t.database===this.database}}function l0(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Z(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ys(e.options.projectId,t)}const eg="__type__",c0="__max__",Di={mapValue:{}},ng="__vector__",fo="value";function Nn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pc(e)?4:h0(e)?9007199254740991:u0(e)?10:11:rt(28295,{value:e})}function ze(e,t){if(e===t)return!0;const n=Nn(e);if(n!==Nn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Js(e).isEqual(Js(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=kn(s.timestampValue),l=kn(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(s,i){return Dn(s.bytesValue).isEqual(Dn(i.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(s,i){return Lt(s.geoPointValue.latitude)===Lt(i.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(i.geoPointValue.longitude)})(e,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Lt(s.integerValue)===Lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Lt(s.doubleValue),l=Lt(i.doubleValue);return o===l?uo(o)===uo(l):isNaN(o)&&isNaN(l)}return!1})(e,t);case 9:return qr(e.arrayValue.values||[],t.arrayValue.values||[],ze);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(jh(o)!==jh(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ze(o[c],l[c])))return!1;return!0})(e,t);default:return rt(52216,{left:e})}}function Xs(e,t){return(e.values||[]).find((n=>ze(n,t)))!==void 0}function Wr(e,t){if(e===t)return 0;const n=Nn(e),r=Nn(t);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(e.booleanValue,t.booleanValue);case 2:return(function(i,o){const l=Lt(i.integerValue||i.doubleValue),c=Lt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(e,t);case 3:return Hh(e.timestampValue,t.timestampValue);case 4:return Hh(Js(e),Js(t));case 5:return dl(e.stringValue,t.stringValue);case 6:return(function(i,o){const l=Dn(i),c=Dn(o);return l.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(i,o){const l=i.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=ft(l[f],c[f]);if(h!==0)return h}return ft(l.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(i,o){const l=ft(Lt(i.latitude),Lt(o.latitude));return l!==0?l:ft(Lt(i.longitude),Lt(o.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return $h(e.arrayValue,t.arrayValue);case 10:return(function(i,o){const l=i.fields||{},c=o.fields||{},f=l[fo]?.arrayValue,h=c[fo]?.arrayValue,p=ft(f?.values?.length||0,h?.values?.length||0);return p!==0?p:$h(f,h)})(e.mapValue,t.mapValue);case 11:return(function(i,o){if(i===Di.mapValue&&o===Di.mapValue)return 0;if(i===Di.mapValue)return 1;if(o===Di.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),f=o.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=dl(c[p],h[p]);if(g!==0)return g;const _=Wr(l[c[p]],f[h[p]]);if(_!==0)return _}return ft(c.length,h.length)})(e.mapValue,t.mapValue);default:throw rt(23264,{he:n})}}function Hh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ft(e,t);const n=kn(e),r=kn(t),s=ft(n.seconds,r.seconds);return s!==0?s:ft(n.nanos,r.nanos)}function $h(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Wr(n[s],r[s]);if(i)return i}return ft(n.length,r.length)}function zr(e){return pl(e)}function pl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=kn(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Dn(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return nt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=pl(i);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${pl(n.fields[o])}`;return s+"}"})(e.mapValue):rt(61005,{value:e})}function Bi(e){switch(Nn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fo(e);return t?16+Bi(t):16;case 5:return 2*e.stringValue.length;case 6:return Dn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Bi(i)),0)})(e.arrayValue);case 10:case 11:return(function(r){let s=0;return cr(r.fields,((i,o)=>{s+=i.length+Bi(o)})),s})(e.mapValue);default:throw rt(13486,{value:e})}}function gl(e){return!!e&&"integerValue"in e}function gc(e){return!!e&&"arrayValue"in e}function qh(e){return!!e&&"nullValue"in e}function Wh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hi(e){return!!e&&"mapValue"in e}function u0(e){return(e?.mapValue?.fields||{})[eg]?.stringValue===ng}function Ns(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return cr(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Ns(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ns(e.arrayValue.values[n]);return t}return{...e}}function h0(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===c0}class Ie{constructor(t){this.value=t}static empty(){return new Ie({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Hi(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ns(n)}setAll(t){let n=te.emptyPath(),r={},s=[];t.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ns(o):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Hi(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ze(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Hi(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){cr(n,((s,i)=>t[s]=i));for(const s of r)delete t[s]}clone(){return new Ie(Ns(this.value))}}function rg(e){const t=[];return cr(e.fields,((n,r)=>{const s=new te([n]);if(Hi(r)){const i=rg(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)})),new Ce(t)}class le{constructor(t,n,r,s,i,o,l){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(t){return new le(t,0,ot.min(),ot.min(),ot.min(),Ie.empty(),0)}static newFoundDocument(t,n,r,s){return new le(t,1,n,ot.min(),r,s,0)}static newNoDocument(t,n){return new le(t,2,n,ot.min(),ot.min(),Ie.empty(),0)}static newUnknownDocument(t,n){return new le(t,3,n,ot.min(),ot.min(),Ie.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ie.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ie.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof le&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class po{constructor(t,n){this.position=t,this.inclusive=n}}function zh(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=nt.comparator(nt.fromName(o.referenceValue),n.key):r=Wr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ze(e.position[n],t.position[n]))return!1;return!0}class go{constructor(t,n="asc"){this.field=t,this.dir=n}}function f0(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class sg{}class zt extends sg{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new p0(t,n,r):n==="array-contains"?new _0(t,r):n==="in"?new y0(t,r):n==="not-in"?new E0(t,r):n==="array-contains-any"?new v0(t,r):new zt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new g0(t,r):new m0(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wr(n,this.value)):n!==null&&Nn(this.value)===Nn(n)&&this.matchesComparison(Wr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ke extends sg{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ke(t,n)}matches(t){return ig(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ig(e){return e.op==="and"}function og(e){return d0(e)&&ig(e)}function d0(e){for(const t of e.filters)if(t instanceof Ke)return!1;return!0}function ml(e){if(e instanceof zt)return e.field.canonicalString()+e.op.toString()+zr(e.value);if(og(e))return e.filters.map((t=>ml(t))).join(",");{const t=e.filters.map((n=>ml(n))).join(",");return`${e.op}(${t})`}}function ag(e,t){return e instanceof zt?(function(r,s){return s instanceof zt&&r.op===s.op&&r.field.isEqual(s.field)&&ze(r.value,s.value)})(e,t):e instanceof Ke?(function(r,s){return s instanceof Ke&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,l)=>i&&ag(o,s.filters[l])),!0):!1})(e,t):void rt(19439)}function lg(e){return e instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${zr(n.value)}`})(e):e instanceof Ke?(function(n){return n.op.toString()+" {"+n.getFilters().map(lg).join(" ,")+"}"})(e):"Filter"}class p0 extends zt{constructor(t,n,r){super(t,n,r),this.key=nt.fromName(r.referenceValue)}matches(t){const n=nt.comparator(t.key,this.key);return this.matchesComparison(n)}}class g0 extends zt{constructor(t,n){super(t,"in",n),this.keys=cg("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class m0 extends zt{constructor(t,n){super(t,"not-in",n),this.keys=cg("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function cg(e,t){return(t.arrayValue?.values||[]).map((n=>nt.fromName(n.referenceValue)))}class _0 extends zt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gc(n)&&Xs(n.arrayValue,this.value)}}class y0 extends zt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xs(this.value.arrayValue,n)}}class E0 extends zt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xs(this.value.arrayValue,n)}}class v0 extends zt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xs(this.value.arrayValue,r)))}}class T0{constructor(t,n=null,r=[],s=[],i=null,o=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Gh(e,t=null,n=[],r=[],s=null,i=null,o=null){return new T0(e,t,n,r,s,i,o)}function mc(e){const t=lt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>ml(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Lo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>zr(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>zr(r))).join(",")),t.Te=n}return t.Te}function _c(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!f0(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ag(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kh(e.startAt,t.startAt)&&Kh(e.endAt,t.endAt)}function _l(e){return nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Uo{constructor(t,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function w0(e,t,n,r,s,i,o,l){return new Uo(e,t,n,r,s,i,o,l)}function ug(e){return new Uo(e)}function Qh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function b0(e){return nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function I0(e){return e.collectionGroup!==null}function Os(e){const t=lt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Kt(te.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(t).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new go(i,r))})),n.has(te.keyField().canonicalString())||t.Ie.push(new go(te.keyField(),r))}return t.Ie}function Be(e){const t=lt(e);return t.Ee||(t.Ee=A0(t,Os(e))),t.Ee}function A0(e,t){if(e.limitType==="F")return Gh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new go(s.field,i)}));const n=e.endAt?new po(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new po(e.startAt.position,e.startAt.inclusive):null;return Gh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function yl(e,t,n){return new Uo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jo(e,t){return _c(Be(e),Be(t))&&e.limitType===t.limitType}function hg(e){return`${mc(Be(e))}|lt:${e.limitType}`}function Ir(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>lg(s))).join(", ")}]`),Lo(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>zr(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>zr(s))).join(",")),`Target(${r})`})(Be(e))}; limitType=${e.limitType})`}function Bo(e,t){return t.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):nt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(e,t)&&(function(r,s){for(const i of Os(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(e,t)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(e,t)&&(function(r,s){return!(r.startAt&&!(function(o,l,c){const f=zh(o,l,c);return o.inclusive?f<=0:f<0})(r.startAt,Os(r),s)||r.endAt&&!(function(o,l,c){const f=zh(o,l,c);return o.inclusive?f>=0:f>0})(r.endAt,Os(r),s))})(e,t)}function R0(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fg(e){return(t,n)=>{let r=!1;for(const s of Os(e)){const i=S0(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function S0(e,t,n){const r=e.field.isKeyField()?nt.comparator(t.key,n.key):(function(i,o,l){const c=o.data.field(i),f=l.data.field(i);return c!==null&&f!==null?Wr(c,f):rt(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rt(19790,{direction:e.dir})}}class ur{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,((n,r)=>{for(const[s,i]of r)t(s,i)}))}isEmpty(){return Qp(this.inner)}size(){return this.innerSize}}const C0=new Nt(nt.comparator);function an(){return C0}const dg=new Nt(nt.comparator);function As(...e){let t=dg;for(const n of e)t=t.insert(n.key,n);return t}function pg(e){let t=dg;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Jn(){return Ms()}function gg(){return Ms()}function Ms(){return new ur((e=>e.toString()),((e,t)=>e.isEqual(t)))}const P0=new Nt(nt.comparator),x0=new Kt(nt.comparator);function dt(...e){let t=x0;for(const n of e)t=t.add(n);return t}const V0=new Kt(ft);function k0(){return V0}function yc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uo(t)?"-0":t}}function mg(e){return{integerValue:""+e}}function _g(e,t){return r0(t)?mg(t):yc(e,t)}class Ho{constructor(){this._=void 0}}function D0(e,t,n){return e instanceof mo?(function(s,i){const o={fields:{[Xp]:{stringValue:Yp},[tg]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&pc(i)&&(i=Fo(i)),i&&(o.fields[Zp]=i),{mapValue:o}})(n,t):e instanceof Zs?Eg(e,t):e instanceof ti?vg(e,t):(function(s,i){const o=yg(s,i),l=Jh(o)+Jh(s.Ae);return gl(o)&&gl(s.Ae)?mg(l):yc(s.serializer,l)})(e,t)}function N0(e,t,n){return e instanceof Zs?Eg(e,t):e instanceof ti?vg(e,t):n}function yg(e,t){return e instanceof ei?(function(r){return gl(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(t)?t:{integerValue:0}:null}class mo extends Ho{}class Zs extends Ho{constructor(t){super(),this.elements=t}}function Eg(e,t){const n=Tg(t);for(const r of e.elements)n.some((s=>ze(s,r)))||n.push(r);return{arrayValue:{values:n}}}class ti extends Ho{constructor(t){super(),this.elements=t}}function vg(e,t){let n=Tg(t);for(const r of e.elements)n=n.filter((s=>!ze(s,r)));return{arrayValue:{values:n}}}class ei extends Ho{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Jh(e){return Lt(e.integerValue||e.doubleValue)}function Tg(e){return gc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class O0{constructor(t,n){this.field=t,this.transform=n}}function M0(e,t){return e.field.isEqual(t.field)&&(function(r,s){return r instanceof Zs&&s instanceof Zs||r instanceof ti&&s instanceof ti?qr(r.elements,s.elements,ze):r instanceof ei&&s instanceof ei?ze(r.Ae,s.Ae):r instanceof mo&&s instanceof mo})(e.transform,t.transform)}class L0{constructor(t,n){this.version=t,this.transformResults=n}}class en{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new en}static exists(t){return new en(void 0,t)}static updateTime(t){return new en(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $i(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $o{}function wg(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ig(e.key,en.none()):new li(e.key,e.data,en.none());{const n=e.data,r=Ie.empty();let s=new Kt(te.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new hr(e.key,r,new Ce(s.toArray()),en.none())}}function F0(e,t,n){e instanceof li?(function(s,i,o){const l=s.value.clone(),c=Xh(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(e,t,n):e instanceof hr?(function(s,i,o){if(!$i(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Xh(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(bg(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(e,t,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,n)}function Ls(e,t,n,r){return e instanceof li?(function(i,o,l,c){if(!$i(i.precondition,o))return l;const f=i.value.clone(),h=Zh(i.fieldTransforms,c,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(e,t,n,r):e instanceof hr?(function(i,o,l,c){if(!$i(i.precondition,o))return l;const f=Zh(i.fieldTransforms,c,o),h=o.data;return h.setAll(bg(i)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(e,t,n,r):(function(i,o,l){return $i(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(e,t,n)}function U0(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=yg(r.transform,s||null);i!=null&&(n===null&&(n=Ie.empty()),n.set(r.field,i))}return n||null}function Yh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qr(r,s,((i,o)=>M0(i,o)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class li extends $o{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hr extends $o{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bg(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Xh(e,t,n){const r=new Map;wt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,l=t.data.field(i.field);r.set(i.field,N0(o,l,n[s]))}return r}function Zh(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,D0(i,o,t))}return r}class Ig extends $o{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j0 extends $o{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B0{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&F0(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ls(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ls(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=gg();return this.mutations.forEach((s=>{const i=t.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=wg(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ot.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),dt())}isEqual(t){return this.batchId===t.batchId&&qr(this.mutations,t.mutations,((n,r)=>Yh(n,r)))&&qr(this.baseMutations,t.baseMutations,((n,r)=>Yh(n,r)))}}class Ec{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){wt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return P0})();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ec(t,n,r,s)}}class H0{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $0{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ut,gt;function q0(e){switch(e){case U.OK:return rt(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return rt(15467,{code:e})}}function Ag(e){if(e===void 0)return on("GRPC error has no .code"),U.UNKNOWN;switch(e){case Ut.OK:return U.OK;case Ut.CANCELLED:return U.CANCELLED;case Ut.UNKNOWN:return U.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return U.INTERNAL;case Ut.UNAVAILABLE:return U.UNAVAILABLE;case Ut.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ut.NOT_FOUND:return U.NOT_FOUND;case Ut.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ut.ABORTED:return U.ABORTED;case Ut.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ut.DATA_LOSS:return U.DATA_LOSS;default:return rt(39323,{code:e})}}(gt=Ut||(Ut={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";function W0(){return new TextEncoder}const z0=new Sn([4294967295,4294967295],0);function tf(e){const t=W0().encode(e),n=new Fp;return n.update(t),new Uint8Array(n.digest())}function ef(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Sn([n,r],0),new Sn([s,i],0)]}class vc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rs(`Invalid padding: ${n}`);if(r<0)throw new Rs(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rs(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Rs(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Sn.fromNumber(this.ge)}ye(t,n,r){let s=t.add(n.multiply(Sn.fromNumber(r)));return s.compare(z0)===1&&(s=new Sn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=tf(t),[r,s]=ef(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new vc(i,s,n);return r.forEach((l=>o.insert(l))),o}insert(t){if(this.ge===0)return;const n=tf(t),[r,s]=ef(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Rs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qo{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,ci.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new qo(ot.min(),s,new Nt(ft),an(),dt())}}class ci{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ci(r,n,dt(),dt(),dt())}}class qi{constructor(t,n,r,s){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=s}}class Rg{constructor(t,n){this.targetId=t,this.Ce=n}}class Sg{constructor(t,n,r=ne.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class nf{constructor(){this.ve=0,this.Fe=rf(),this.Me=ne.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=dt(),n=dt(),r=dt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:rt(38017,{changeType:i})}})),new ci(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=rf()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class K0{constructor(t){this.Ge=t,this.ze=new Map,this.je=an(),this.He=Ni(),this.Je=Ni(),this.Ze=new Nt(ft)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:rt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,r=t.Ce.count,s=this.ot(n);if(s){const i=s.target;if(_l(i))if(r===0){const o=new nt(i.path);this.et(n,o,le.newNoDocument(o,ot.min()))}else wt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(t),c=l?this.ct(l,t,o):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Dn(r).toUint8Array()}catch(c){if(c instanceof Jp)return ir("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new vc(o,s,i)}catch(c){return ir(c instanceof Rs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&_l(l.target)){const c=new nt(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,le.newNoDocument(c,t))}i.Be&&(n.set(o,i.ke()),i.Ke())}}));let r=dt();this.Je.forEach(((i,o)=>{let l=!0;o.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(t)));const s=new qo(t,n,this.Ze,this.je,r);return this.je=an(),this.He=Ni(),this.Je=Ni(),this.Ze=new Nt(ft),s}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new nf,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Kt(ft),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Kt(ft),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||J("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new nf),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ni(){return new Nt(nt.comparator)}function rf(){return new Nt(nt.comparator)}const G0={asc:"ASCENDING",desc:"DESCENDING"},Q0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J0={and:"AND",or:"OR"};class Y0{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function El(e,t){return e.useProto3Json||Lo(t)?t:{value:t}}function _o(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function X0(e,t){return _o(e,t.toTimestamp())}function He(e){return wt(!!e,49232),ot.fromTimestamp((function(n){const r=kn(n);return new Vt(r.seconds,r.nanos)})(e))}function Tc(e,t){return vl(e,t).canonicalString()}function vl(e,t){const n=(function(s){return new xt(["projects",s.projectId,"databases",s.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Pg(e){const t=xt.fromString(e);return wt(Ng(t),10190,{key:t.toString()}),t}function Tl(e,t){return Tc(e.databaseId,t.path)}function Na(e,t){const n=Pg(t);if(n.get(1)!==e.databaseId.projectId)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nt(Vg(n))}function xg(e,t){return Tc(e.databaseId,t)}function Z0(e){const t=Pg(e);return t.length===4?xt.emptyPath():Vg(t)}function wl(e){return new xt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vg(e){return wt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function sf(e,t,n){return{name:Tl(e,t),fields:n.value.mapValue.fields}}function tI(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:rt(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(f,h){return f.useProto3Json?(wt(h===void 0||typeof h=="string",58123),ne.fromBase64String(h||"")):(wt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ne.fromUint8Array(h||new Uint8Array))})(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&(function(f){const h=f.code===void 0?U.UNKNOWN:Ag(f.code);return new Z(h,f.message||"")})(o);n=new Sg(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Na(e,r.document.name),i=He(r.document.updateTime),o=r.document.createTime?He(r.document.createTime):ot.min(),l=new Ie({mapValue:{fields:r.document.fields}}),c=le.newFoundDocument(s,i,o,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new qi(f,h,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Na(e,r.document),i=r.readTime?He(r.readTime):ot.min(),o=le.newNoDocument(s,i),l=r.removedTargetIds||[];n=new qi([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Na(e,r.document),i=r.removedTargetIds||[];n=new qi([],i,s,null)}else{if(!("filter"in t))return rt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new $0(s,i),l=r.targetId;n=new Rg(l,o)}}return n}function eI(e,t){let n;if(t instanceof li)n={update:sf(e,t.key,t.value)};else if(t instanceof Ig)n={delete:Tl(e,t.key)};else if(t instanceof hr)n={update:sf(e,t.key,t.data),updateMask:uI(t.fieldMask)};else{if(!(t instanceof j0))return rt(16599,{dt:t.type});n={verify:Tl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(i,o){const l=o.transform;if(l instanceof mo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Zs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ti)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ei)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw rt(20930,{transform:o.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:X0(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:rt(27497)})(e,t.precondition)),n}function nI(e,t){return e&&e.length>0?(wt(t!==void 0,14353),e.map((n=>(function(s,i){let o=s.updateTime?He(s.updateTime):He(i);return o.isEqual(ot.min())&&(o=He(i)),new L0(o,s.transformResults||[])})(n,t)))):[]}function rI(e,t){return{documents:[xg(e,t.path)]}}function sI(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xg(e,s);const i=(function(f){if(f.length!==0)return Dg(Ke.create(f,"and"))})(t.filters);i&&(n.structuredQuery.where=i);const o=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:Ar(g.field),direction:aI(g.dir)}})(h)))})(t.orderBy);o&&(n.structuredQuery.orderBy=o);const l=El(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{ft:n,parent:s}}function iI(e){let t=Z0(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:t=t.child(h.collectionId)}let i=[];n.where&&(i=(function(p){const g=kg(p);return g instanceof Ke&&og(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((g=>(function(I){return new go(Rr(I.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,Lo(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,_=p.values||[];return new po(_,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,_=p.values||[];return new po(_,g)})(n.endAt)),w0(t,s,o,i,l,"F",c,f)}function oI(e,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function kg(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rr(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Rr(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Rr(n.unaryFilter.field);return zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rr(n.unaryFilter.field);return zt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return zt.create(Rr(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ke.create(n.compositeFilter.filters.map((r=>kg(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return rt(1026)}})(n.compositeFilter.op))})(e):rt(30097,{filter:e})}function aI(e){return G0[e]}function lI(e){return Q0[e]}function cI(e){return J0[e]}function Ar(e){return{fieldPath:e.canonicalString()}}function Rr(e){return te.fromServerFormat(e.fieldPath)}function Dg(e){return e instanceof zt?(function(n){if(n.op==="=="){if(Wh(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NAN"}};if(qh(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wh(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NOT_NAN"}};if(qh(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ar(n.field),op:lI(n.op),value:n.value}}})(e):e instanceof Ke?(function(n){const r=n.getFilters().map((s=>Dg(s)));return r.length===1?r[0]:{compositeFilter:{op:cI(n.op),filters:r}}})(e):rt(54877,{filter:e})}function uI(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Ng(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function Og(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class wn{constructor(t,n,r,s,i=ot.min(),o=ot.min(),l=ne.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new wn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hI{constructor(t){this.yt=t}}function fI(e){const t=iI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?yl(t,t.limit,"L"):t}class dI{constructor(){this.Sn=new pI}addToCollectionParentIndex(t,n){return this.Sn.add(n),M.resolve()}getCollectionParents(t,n){return M.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return M.resolve()}deleteFieldIndex(t,n){return M.resolve()}deleteAllFieldIndexes(t){return M.resolve()}createTargetIndexes(t,n){return M.resolve()}getDocumentsMatchingTarget(t,n){return M.resolve(null)}getIndexType(t,n){return M.resolve(0)}getFieldIndexes(t,n){return M.resolve([])}getNextCollectionGroupToUpdate(t){return M.resolve(null)}getMinOffset(t,n){return M.resolve(Vn.min())}getMinOffsetFromCollectionGroup(t,n){return M.resolve(Vn.min())}updateCollectionGroup(t,n,r){return M.resolve()}updateIndexEntries(t,n){return M.resolve()}}class pI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Kt(xt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Kt(xt.comparator)).toArray()}}const of={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mg=41943040;class pe{static withCacheSize(t){return new pe(t,pe.DEFAULT_COLLECTION_PERCENTILE,pe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}pe.DEFAULT_COLLECTION_PERCENTILE=10,pe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pe.DEFAULT=new pe(Mg,pe.DEFAULT_COLLECTION_PERCENTILE,pe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pe.DISABLED=new pe(-1,0,0);class Kr{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Kr(0)}static ar(){return new Kr(-1)}}const af="LruGarbageCollector",gI=1048576;function lf([e,t],[n,r]){const s=ft(e,n);return s===0?ft(t,r):s}class mI{constructor(t){this.Pr=t,this.buffer=new Kt(lf),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lf(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _I{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){J(af,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zr(n)?J(af,"Ignoring IndexedDB error during garbage collection: ",n):await Xr(n)}await this.Ar(3e5)}))}}class yI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return M.resolve(Mo.ce);const r=new mI(n);return this.Vr.forEachTarget(t,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(t,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(of)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),of):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,s,i,o,l,c,f;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(t,s)))).next((p=>(r=p,l=Date.now(),this.removeTargets(t,r,n)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,r)))).next((p=>(f=Date.now(),br()<=_t.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function EI(e,t){return new yI(e,t)}class vI{constructor(){this.changes=new ur((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,le.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class TI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class wI{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(r!==null&&Ls(r.mutation,s,Ce.empty(),Vt.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,dt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=dt()){const s=Jn();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,r).next((i=>{let o=As();return i.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(t,n){const r=Jn();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,dt())))}populateOverlays(t,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(t,n,r,s){let i=an();const o=Ms(),l=(function(){return Ms()})();return n.forEach(((c,f)=>{const h=r.get(f.key);s.has(f.key)&&(h===void 0||h.mutation instanceof hr)?i=i.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),Ls(h.mutation,f,h.mutation.getFieldMask(),Vt.now())):o.set(f.key,Ce.empty())})),this.recalculateAndSaveOverlays(t,i).next((c=>(c.forEach(((f,h)=>o.set(f,h))),n.forEach(((f,h)=>l.set(f,new TI(h,o.get(f)??null)))),l)))}recalculateAndSaveOverlays(t,n){const r=Ms();let s=new Nt(((o,l)=>o-l)),i=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((o=>{for(const l of o)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Ce.empty();h=l.applyToLocalView(f,h),r.set(c,h);const p=(s.get(l.batchId)||dt()).add(c);s=s.insert(l.batchId,p)}))})).next((()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=gg();h.forEach((g=>{if(!i.has(g)){const _=wg(n.get(g),r.get(g));_!==null&&p.set(g,_),i=i.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(t,f,p))}return M.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,s){return b0(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):I0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):M.resolve(Jn());let l=Qs,c=i;return o.next((f=>M.forEach(f,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(h)?M.resolve():this.remoteDocumentCache.getEntry(t,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(t,f,i))).next((()=>this.computeViews(t,c,f,dt()))).next((h=>({batchId:l,changes:pg(h)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new nt(n)).next((r=>{let s=As();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=As();return this.indexManager.getCollectionParents(t,i).next((l=>M.forEach(l,(c=>{const f=(function(p,g){return new Uo(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,f,r,s).next((h=>{h.forEach(((p,g)=>{o=o.insert(p,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s)))).next((o=>{i.forEach(((c,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,le.newInvalidDocument(h)))}));let l=As();return o.forEach(((c,f)=>{const h=i.get(c);h!==void 0&&Ls(h.mutation,f,Ce.empty(),Vt.now()),Bo(n,f)&&(l=l.insert(c,f))})),l}))}}class bI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return M.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:He(s.createTime)}})(n)),M.resolve()}getNamedQuery(t,n){return M.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:fI(s.bundledQuery),readTime:He(s.readTime)}})(n)),M.resolve()}}class II{constructor(){this.overlays=new Nt(nt.comparator),this.Lr=new Map}getOverlay(t,n){return M.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jn();return M.forEach(n,(s=>this.getOverlay(t,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((s,i)=>{this.bt(t,n,i)})),M.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Lr.delete(r)),M.resolve()}getOverlaysForCollection(t,n,r){const s=Jn(),i=n.length+1,o=new nt(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return M.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Nt(((f,h)=>f-h));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=i.get(f.largestBatchId);h===null&&(h=Jn(),i=i.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Jn(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=s)););return M.resolve(l)}bt(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H0(n,r));let i=this.Lr.get(n);i===void 0&&(i=dt(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}class AI{constructor(){this.sessionToken=ne.EMPTY_BYTE_STRING}getSessionToken(t){return M.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,M.resolve()}}class wc{constructor(){this.kr=new Kt(Qt.Kr),this.qr=new Kt(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Qt(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Qt(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new nt(new xt([])),r=new Qt(n,t),s=new Qt(n,t+1),i=[];return this.qr.forEachInRange([r,s],(o=>{this.Wr(o),i.push(o.key)})),i}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new nt(new xt([])),r=new Qt(n,t),s=new Qt(n,t+1);let i=dt();return this.qr.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(t){const n=new Qt(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Qt{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return nt.comparator(t.key,n.key)||ft(t.Hr,n.Hr)}static Ur(t,n){return ft(t.Hr,n.Hr)||nt.comparator(t.key,n.key)}}class RI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Kt(Qt.Kr)}checkEmpty(t){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B0(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Jr=this.Jr.add(new Qt(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return M.resolve(o)}lookupMutationBatch(t,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?dc:this.Yn-1)}getAllMutationBatches(t){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Qt(n,0),s=new Qt(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],(o=>{const l=this.Zr(o.Hr);i.push(l)})),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Kt(ft);return n.forEach((s=>{const i=new Qt(s,0),o=new Qt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],(l=>{r=r.add(l.Hr)}))})),M.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;nt.isDocumentKey(i)||(i=i.child(""));const o=new Qt(new nt(i),0);let l=new Kt(ft);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(l=l.add(c.Hr)),!0)}),o),M.resolve(this.Yr(l))}Yr(t){const n=[];return t.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){wt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return M.forEach(n.mutations,(s=>{const i=new Qt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Qt(n,0),s=this.Jr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,M.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class SI{constructor(t){this.ti=t,this.docs=(function(){return new Nt(nt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():le.newInvalidDocument(n))}getEntries(t,n){let r=an();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():le.newInvalidDocument(s))})),M.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=an();const o=n.path,l=new nt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||Zb(Xb(h),r)<=0||(s.has(h.key)||Bo(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(t,n,r,s){rt(9500)}ni(t,n){return M.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new CI(this)}getSize(t){return M.resolve(this.size)}}class CI extends vI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(r)})),M.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class PI{constructor(t){this.persistence=t,this.ri=new ur((n=>mc(n)),_c),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.ii=0,this.si=new wc,this.targetCount=0,this.oi=Kr._r()}forEachTarget(t,n){return this.ri.forEach(((r,s)=>n(s))),M.resolve()}getLastRemoteSnapshotVersion(t){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return M.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),M.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Kr(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,M.resolve()}updateTargetData(t,n){return this.lr(n),M.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.ri.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)})),M.waitFor(i).next((()=>s))}getTargetCount(t){return M.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return M.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),M.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(t,o))})),M.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),M.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return M.resolve(r)}containsKey(t,n){return M.resolve(this.si.containsKey(n))}}class Lg{constructor(t,n){this._i={},this.overlays={},this.ai=new Mo(0),this.ui=!1,this.ui=!0,this.ci=new AI,this.referenceDelegate=t(this),this.li=new PI(this),this.indexManager=new dI,this.remoteDocumentCache=(function(s){return new SI(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new hI(n),this.Pi=new bI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new II,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new RI(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){J("MemoryPersistence","Starting transaction:",t);const s=new xI(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((i=>this.referenceDelegate.Ii(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ei(t,n){return M.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class xI extends e0{constructor(t){super(),this.currentSequenceNumber=t}}class bc{constructor(t){this.persistence=t,this.Ri=new wc,this.Ai=null}static Vi(t){return new bc(t)}get di(){if(this.Ai)return this.Ai;throw rt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),M.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),M.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),M.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((i=>this.di.add(i.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.di,(r=>{const s=nt.fromPath(r);return this.mi(t,s).next((i=>{i||n.removeEntry(s,ot.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return M.or([()=>M.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class yo{constructor(t,n){this.persistence=t,this.fi=new ur((r=>s0(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=EI(this,n)}static Vi(t,n){return new yo(t,n)}Ti(){}Ii(t){return M.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return M.forEach(this.fi,((r,s)=>this.wr(t,r,s).next((i=>i?M.resolve():n(s)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(t,(o=>this.wr(t,o,n).next((l=>{l||(r++,i.removeEntry(o,ot.min()))})))).next((()=>i.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),M.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),M.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),M.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),M.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Bi(t.data.value)),n}wr(t,n,r){return M.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.fi.get(n);return M.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ic{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=s}static Es(t,n){let r=dt(),s=dt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ic(t,n.fromCache,r,s)}}class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class kI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Ew()?8:n0(_w())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.gs(t,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ps(t,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new VI;return this.ys(t,n,o).next((l=>{if(i.result=l,this.As)return this.ws(t,n,o,l.size)}))})).next((()=>i.result))}ws(t,n,r,s){return r.documentReadCount<this.Vs?(br()<=_t.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Ir(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(br()<=_t.DEBUG&&J("QueryEngine","Query:",Ir(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(br()<=_t.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Ir(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Be(n))):M.resolve())}gs(t,n){if(Qh(n))return M.resolve(null);let r=Be(n);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=yl(n,null,"F"),r=Be(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((i=>{const o=dt(...i);return this.fs.getDocuments(t,o).next((l=>this.indexManager.getMinOffset(t,r).next((c=>{const f=this.bs(n,l);return this.Ss(n,f,o,c.readTime)?this.gs(t,yl(n,null,"F")):this.Ds(t,f,n,c)}))))})))))}ps(t,n,r,s){return Qh(n)||s.isEqual(ot.min())?M.resolve(null):this.fs.getDocuments(t,r).next((i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?M.resolve(null):(br()<=_t.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ir(n)),this.Ds(t,o,n,Yb(s,Qs)).next((l=>l)))}))}bs(t,n){let r=new Kt(fg(t));return n.forEach(((s,i)=>{Bo(t,i)&&(r=r.add(i))})),r}Ss(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(t,n,r){return br()<=_t.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Ir(n)),this.fs.getDocumentsMatchingQuery(t,n,Vn.min(),r)}Ds(t,n,r,s){return this.fs.getDocumentsMatchingQuery(t,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const Ac="LocalStore",DI=3e8;class NI{constructor(t,n,r,s){this.persistence=t,this.Cs=n,this.serializer=s,this.vs=new Nt(ft),this.Fs=new ur((i=>mc(i)),_c),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function OI(e,t,n,r){return new NI(e,t,n,r)}async function Fg(e,t){const n=lt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],l=[];let c=dt();for(const f of s){o.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of i){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:o,addedBatchIds:l})))}))}))}function MI(e,t){const n=lt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const p=f.batch,g=p.keys();let _=M.resolve();return g.forEach((I=>{_=_.next((()=>h.getEntry(c,I))).next((R=>{const D=f.docVersions.get(I);wt(D!==null,48541),R.version.compareTo(D)<0&&(p.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),h.addEntry(R)))}))})),_.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,t,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=dt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(t)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function Ug(e){const t=lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function LI(e,t){const n=lt(e),r=t.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const l=[];t.targetChanges.forEach(((h,p)=>{const g=s.get(p);if(!g)return;l.push(n.li.removeMatchingKeys(i,h.removedDocuments,p).next((()=>n.li.addMatchingKeys(i,h.addedDocuments,p))));let _=g.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?_=_.withResumeToken(ne.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),s=s.insert(p,_),(function(R,D,O){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=DI?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(g,_,h)&&l.push(n.li.updateTargetData(i,_))}));let c=an(),f=dt();if(t.documentUpdates.forEach((h=>{t.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),l.push(FI(i,o,t.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(ot.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next((p=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(h)}return M.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,f))).next((()=>c))})).then((i=>(n.vs=s,i)))}function FI(e,t,n){let r=dt(),s=dt();return n.forEach((i=>r=r.add(i))),t.getEntries(e,r).next((i=>{let o=an();return n.forEach(((l,c)=>{const f=i.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ot.min())?(t.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(c),o=o.insert(l,c)):J(Ac,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Bs:o,Ls:s}}))}function UI(e,t){const n=lt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=dc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function jI(e,t){const n=lt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,t).next((i=>i?(s=i,M.resolve(s)):n.li.allocateTargetId(r).next((o=>(s=new wn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function bl(e,t,n){const r=lt(e),s=r.vs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Zr(o))throw o;J(Ac,`Failed to update sequence numbers for target ${t}: ${o}`)}r.vs=r.vs.remove(t),r.Fs.delete(s.target)}function cf(e,t,n){const r=lt(e);let s=ot.min(),i=dt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,f,h){const p=lt(c),g=p.Fs.get(h);return g!==void 0?M.resolve(p.vs.get(g)):p.li.getTargetData(f,h)})(r,o,Be(t)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,l.targetId).next((c=>{i=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(o,t,n?s:ot.min(),n?i:dt()))).next((l=>(BI(r,R0(t),l),{documents:l,ks:i})))))}function BI(e,t,n){let r=e.Ms.get(t)||ot.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),e.Ms.set(t,r)}class uf{constructor(){this.activeTargetIds=k0()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HI{constructor(){this.vo=new uf,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new uf,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class $I{Mo(t){}shutdown(){}}const hf="ConnectivityMonitor";class ff{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){J(hf,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){J(hf,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oi=null;function Il(){return Oi===null?Oi=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oi++,"0x"+Oi.toString(16)}const Oa="RestConnection",qI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class WI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===ho?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(t,n,r,s,i){const o=Il(),l=this.Qo(t,n.toUriEncodedString());J(Oa,`Sending RPC '${t}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,s,i);const{host:f}=new URL(l),h=lc(f);return this.zo(t,l,c,r,h).then((p=>(J(Oa,`Received RPC '${t}' ${o}: `,p),p)),(p=>{throw ir(Oa,`RPC '${t}' ${o} failed with error: `,p,"url: ",l,"request:",r),p}))}jo(t,n,r,s,i,o){return this.Wo(t,n,r,s,i)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yr})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>t[i]=s)),r&&r.headers.forEach(((s,i)=>t[i]=s))}Qo(t,n){const r=qI[t];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class zI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const se="WebChannelConnection",ws=(e,t,n)=>{e.listen(t,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Mr extends WI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Mr.c_){const t=Hp();ws(t,Bp.STAT_EVENT,(n=>{n.stat===fl.PROXY?J(se,"STAT_EVENT: detected buffering proxy"):n.stat===fl.NOPROXY&&J(se,"STAT_EVENT: detected no buffering proxy")})),Mr.c_=!0}}zo(t,n,r,s,i){const o=Il();return new Promise(((l,c)=>{const f=new Up;f.setWithCredentials(!0),f.listenOnce(jp.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case ji.NO_ERROR:const p=f.getResponseJson();J(se,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),l(p);break;case ji.TIMEOUT:J(se,`RPC '${t}' ${o} timed out`),c(new Z(U.DEADLINE_EXCEEDED,"Request time out"));break;case ji.HTTP_ERROR:const g=f.getStatus();if(J(se,`RPC '${t}' ${o} failed with status:`,g,"response text:",f.getResponseText()),g>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=_?.error;if(I&&I.status&&I.message){const R=(function(O){const $=O.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf($)>=0?$:U.UNKNOWN})(I.status);c(new Z(R,I.message))}else c(new Z(U.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Z(U.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{l_:t,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{J(se,`RPC '${t}' ${o} completed.`)}}));const h=JSON.stringify(s);J(se,`RPC '${t}' ${o} sending request:`,s),f.send(n,"POST",h,r,15)}))}T_(t,n,r){const s=Il(),i=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=i.join("");J(se,`Creating RPC '${t}' stream ${s}: ${f}`,l);const h=o.createWebChannel(f,l);this.I_(h);let p=!1,g=!1;const _=new zI({Ho:I=>{g?J(se,`Not sending because RPC '${t}' stream ${s} is closed:`,I):(p||(J(se,`Opening RPC '${t}' stream ${s} transport.`),h.open(),p=!0),J(se,`RPC '${t}' stream ${s} sending:`,I),h.send(I))},Jo:()=>h.close()});return ws(h,Is.EventType.OPEN,(()=>{g||(J(se,`RPC '${t}' stream ${s} transport opened.`),_.i_())})),ws(h,Is.EventType.CLOSE,(()=>{g||(g=!0,J(se,`RPC '${t}' stream ${s} transport closed`),_.o_(),this.E_(h))})),ws(h,Is.EventType.ERROR,(I=>{g||(g=!0,ir(se,`RPC '${t}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),_.o_(new Z(U.UNAVAILABLE,"The operation could not be completed")))})),ws(h,Is.EventType.MESSAGE,(I=>{if(!g){const R=I.data[0];wt(!!R,16349);const D=R,O=D?.error||D[0]?.error;if(O){J(se,`RPC '${t}' stream ${s} received error:`,O);const $=O.status;let P=(function(G){const b=Ut[G];if(b!==void 0)return Ag(b)})($),V=O.message;$==="NOT_FOUND"&&V.includes("database")&&V.includes("does not exist")&&V.includes(this.databaseId.database)&&ir(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),P===void 0&&(P=U.INTERNAL,V="Unknown error status: "+$+" with message "+O.message),g=!0,_.o_(new Z(P,V)),h.close()}else J(se,`RPC '${t}' stream ${s} received:`,R),_.__(R)}})),Mr.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $p()}}function KI(e){return new Mr(e)}function Ma(){return typeof document<"u"?document:null}function Wo(e){return new Y0(e,!0)}Mr.c_=!1;class jg{constructor(t,n,r=1e3,s=1.5,i=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const df="PersistentStream";class Bg{constructor(t,n,r,s,i,o,l,c){this.Ci=t,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jg(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(on(n.toString()),on("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{t((()=>{const s=new Z(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return J(df,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(J(df,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GI extends Bg{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=tI(this.serializer,t),r=(function(i){if(!("targetChange"in i))return ot.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ot.min():o.readTime?He(o.readTime):ot.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=wl(this.serializer),n.addTarget=(function(i,o){let l;const c=o.target;if(l=_l(c)?{documents:rI(i,c)}:{query:sI(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Cg(i,o.resumeToken);const f=El(i,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(ot.min())>0){l.readTime=_o(i,o.snapshotVersion.toTimestamp());const f=El(i,o.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,t);const r=oI(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=wl(this.serializer),n.removeTarget=t,this.K_(n)}}class QI extends Bg{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=nI(t.writeResults,t.commitTime),r=He(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=wl(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>eI(this.serializer,r)))};this.K_(n)}}class JI{}class YI extends JI{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Wo(t,vl(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(U.UNKNOWN,i.toString())}))}jo(t,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.jo(t,vl(n,r),s,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(U.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function XI(e,t,n,r){return new YI(e,t,n,r)}class ZI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(on(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const or="RemoteStore";class tA{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((o=>{r.enqueueAndForget((async()=>{fr(this)&&(J(or,"Restarting streams for network reachability change."),await(async function(c){const f=lt(c);f.Ea.add(4),await ui(f),f.Va.set("Unknown"),f.Ea.delete(4),await zo(f)})(this))}))})),this.Va=new ZI(r,s)}}async function zo(e){if(fr(e))for(const t of e.Ra)await t(!0)}async function ui(e){for(const t of e.Ra)await t(!1)}function Hg(e,t){const n=lt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Pc(n)?Cc(n):ts(n).O_()&&Sc(n,t))}function Rc(e,t){const n=lt(e),r=ts(n);n.Ia.delete(t),r.O_()&&$g(n,t),n.Ia.size===0&&(r.O_()?r.L_():fr(n)&&n.Va.set("Unknown"))}function Sc(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ot.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ts(e).Z_(t)}function $g(e,t){e.da.$e(t),ts(e).X_(t)}function Cc(e){e.da=new K0({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ts(e).start(),e.Va.ua()}function Pc(e){return fr(e)&&!ts(e).x_()&&e.Ia.size>0}function fr(e){return lt(e).Ea.size===0}function qg(e){e.da=void 0}async function eA(e){e.Va.set("Online")}async function nA(e){e.Ia.forEach(((t,n)=>{Sc(e,t)}))}async function rA(e,t){qg(e),Pc(e)?(e.Va.ha(t),Cc(e)):e.Va.set("Unknown")}async function sA(e,t,n){if(e.Va.set("Online"),t instanceof Sg&&t.state===2&&t.cause)try{await(async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.da.removeTarget(l))})(e,t)}catch(r){J(or,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Eo(e,r)}else if(t instanceof qi?e.da.Xe(t):t instanceof Rg?e.da.st(t):e.da.tt(t),!n.isEqual(ot.min()))try{const r=await Ug(e.localStore);n.compareTo(r)>=0&&await(function(i,o){const l=i.da.Tt(o);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(f);h&&i.Ia.set(f,h.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,f)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(ne.EMPTY_BYTE_STRING,h.snapshotVersion)),$g(i,c);const p=new wn(h.target,c,f,h.sequenceNumber);Sc(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(e,n)}catch(r){J(or,"Failed to raise snapshot:",r),await Eo(e,r)}}async function Eo(e,t,n){if(!Zr(t))throw t;e.Ea.add(1),await ui(e),e.Va.set("Offline"),n||(n=()=>Ug(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{J(or,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await zo(e)}))}function Wg(e,t){return t().catch((n=>Eo(e,n,t)))}async function Ko(e){const t=lt(e),n=On(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dc;for(;iA(t);)try{const s=await UI(t.localStore,r);if(s===null){t.Ta.length===0&&n.L_();break}r=s.batchId,oA(t,s)}catch(s){await Eo(t,s)}zg(t)&&Kg(t)}function iA(e){return fr(e)&&e.Ta.length<10}function oA(e,t){e.Ta.push(t);const n=On(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function zg(e){return fr(e)&&!On(e).x_()&&e.Ta.length>0}function Kg(e){On(e).start()}async function aA(e){On(e).ra()}async function lA(e){const t=On(e);for(const n of e.Ta)t.ea(n.mutations)}async function cA(e,t,n){const r=e.Ta.shift(),s=Ec.from(r,t,n);await Wg(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await Ko(e)}async function uA(e,t){t&&On(e).Y_&&await(async function(r,s){if((function(o){return q0(o)&&o!==U.ABORTED})(s.code)){const i=r.Ta.shift();On(r).B_(),await Wg(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Ko(r)}})(e,t),zg(e)&&Kg(e)}async function pf(e,t){const n=lt(e);n.asyncQueue.verifyOperationInProgress(),J(or,"RemoteStore received new credentials");const r=fr(n);n.Ea.add(3),await ui(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await zo(n)}async function hA(e,t){const n=lt(e);t?(n.Ea.delete(2),await zo(n)):t||(n.Ea.add(2),await ui(n),n.Va.set("Unknown"))}function ts(e){return e.ma||(e.ma=(function(n,r,s){const i=lt(n);return i.sa(),new GI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Zo:eA.bind(null,e),Yo:nA.bind(null,e),t_:rA.bind(null,e),J_:sA.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),Pc(e)?Cc(e):e.Va.set("Unknown")):(await e.ma.stop(),qg(e))}))),e.ma}function On(e){return e.fa||(e.fa=(function(n,r,s){const i=lt(n);return i.sa(),new QI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aA.bind(null,e),t_:uA.bind(null,e),ta:lA.bind(null,e),na:cA.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await Ko(e)):(await e.fa.stop(),e.Ta.length>0&&(J(or,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class xc{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,l=new xc(t,n,o,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(e,t){if(on("AsyncQueue",`${t}: ${e}`),Zr(e))return new Z(U.UNAVAILABLE,`${t}: ${e}`);throw e}class Lr{static emptySet(t){return new Lr(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||nt.comparator(n.key,r.key):(n,r)=>nt.comparator(n.key,r.key),this.keyedMap=As(),this.sortedSet=new Nt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Lr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Lr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class gf{constructor(){this.ga=new Nt(nt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):rt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Gr{constructor(t,n,r,s,i,o,l,c,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new Gr(t,n,Lr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class fA{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class dA{constructor(){this.queries=mf(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=lt(n),i=s.queries;s.queries=mf(),i.forEach(((o,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new Z(U.ABORTED,"Firestore shutting down"))}}function mf(){return new ur((e=>hg(e)),jo)}async function pA(e,t){const n=lt(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Sa()&&t.Da()&&(r=2):(i=new fA,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Vc(o,`Initialization of query '${Ir(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,i),i.ba.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&kc(n)}async function gA(e,t){const n=lt(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(t);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=t.Da()?0:1:!i.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mA(e,t){const n=lt(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.ba)l.Fa(s)&&(r=!0);o.wa=s}}r&&kc(n)}function _A(e,t,n){const r=lt(e),s=r.queries.get(t);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(t)}function kc(e){e.Ca.forEach((t=>{t.next()}))}var Al,_f;(_f=Al||(Al={})).Ma="default",_f.Cache="cache";class yA{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Gr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Gr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Al.Cache}}class Gg{constructor(t){this.key=t}}class Qg{constructor(t){this.key=t}}class EA{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dt(),this.mutatedKeys=dt(),this.eu=fg(t),this.tu=new Lr(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new gf,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((h,p)=>{const g=s.get(h),_=Bo(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let D=!1;g&&_?g.data.isEqual(_.data)?I!==R&&(r.track({type:3,doc:_}),D=!0):this.su(g,_)||(r.track({type:2,doc:_}),D=!0,(c&&this.eu(_,c)>0||f&&this.eu(_,f)<0)&&(l=!0)):!g&&_?(r.track({type:0,doc:_}),D=!0):g&&!_&&(r.track({type:1,doc:g}),D=!0,(c||f)&&(l=!0)),D&&(_?(o=o.add(_),i=R?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:l,mutatedKeys:i}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort(((h,p)=>(function(_,I){const R=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{Vt:D})}};return R(_)-R(I)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Ya.size===0&&this.current&&!s?1:0,f=c!==this.Xa;return this.Xa=c,o.length!==0||f?{snapshot:new Gr(this.query,t.tu,i,o,t.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gf,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new Qg(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new Gg(r))})),n}cu(t){this.Za=t.ks,this.Ya=dt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Gr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dc="SyncEngine";class vA{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class TA{constructor(t){this.key=t,this.hu=!1}}class wA{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ur((l=>hg(l)),jo),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(nt.comparator),this.Au=new Map,this.Vu=new wc,this.du={},this.mu=new Map,this.fu=Kr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bA(e,t,n=!0){const r=em(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Jg(r,t,n,!0),s}async function IA(e,t){const n=em(e);await Jg(n,t,!0,!1)}async function Jg(e,t,n,r){const s=await jI(e.localStore,Be(t)),i=s.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await AA(e,t,i,o==="current",s.resumeToken)),e.isPrimaryClient&&n&&Hg(e.remoteStore,s),l}async function AA(e,t,n,r,s){e.pu=(p,g,_)=>(async function(R,D,O,$){let P=D.view.ru(O);P.Ss&&(P=await cf(R.localStore,D.query,!1).then((({documents:b})=>D.view.ru(b,P))));const V=$&&$.targetChanges.get(D.targetId),L=$&&$.targetMismatches.get(D.targetId)!=null,G=D.view.applyChanges(P,R.isPrimaryClient,V,L);return Ef(R,D.targetId,G.au),G.snapshot})(e,p,g,_);const i=await cf(e.localStore,t,!0),o=new EA(t,i.ks),l=o.ru(i.documents),c=ci.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),f=o.applyChanges(l,e.isPrimaryClient,c);Ef(e,n,f.au);const h=new vA(t,n,o);return e.Tu.set(t,h),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),f.snapshot}async function RA(e,t,n){const r=lt(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!jo(o,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bl(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Rc(r.remoteStore,s.targetId),Rl(r,s.targetId)})).catch(Xr)):(Rl(r,s.targetId),await bl(r.localStore,s.targetId,!0))}async function SA(e,t){const n=lt(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rc(n.remoteStore,r.targetId))}async function CA(e,t,n){const r=OA(e);try{const s=await(function(o,l){const c=lt(o),f=Vt.now(),h=l.reduce(((_,I)=>_.add(I.key)),dt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let I=an(),R=dt();return c.xs.getEntries(_,h).next((D=>{I=D,I.forEach(((O,$)=>{$.isValidDocument()||(R=R.add(O))}))})).next((()=>c.localDocuments.getOverlayedDocuments(_,I))).next((D=>{p=D;const O=[];for(const $ of l){const P=U0($,p.get($.key).overlayedDocument);P!=null&&O.push(new hr($.key,P,rg(P.value.mapValue),en.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,O,l)})).next((D=>{g=D;const O=D.applyToLocalDocumentSet(p,R);return c.documentOverlayCache.saveOverlays(_,D.batchId,O)}))})).then((()=>({batchId:g.batchId,changes:pg(p)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(o,l,c){let f=o.du[o.currentUser.toKey()];f||(f=new Nt(ft)),f=f.insert(l,c),o.du[o.currentUser.toKey()]=f})(r,s.batchId,n),await hi(r,s.changes),await Ko(r.remoteStore)}catch(s){const i=Vc(s,"Failed to persist write");n.reject(i)}}async function Yg(e,t){const n=lt(e);try{const r=await LI(n.localStore,t);t.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?wt(o.hu,14607):s.removedDocuments.size>0&&(wt(o.hu,42227),o.hu=!1))})),await hi(n,r,t)}catch(r){await Xr(r)}}function yf(e,t,n){const r=lt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const l=o.view.va(t);l.snapshot&&s.push(l.snapshot)})),(function(o,l){const c=lt(o);c.onlineState=l;let f=!1;c.queries.forEach(((h,p)=>{for(const g of p.ba)g.va(l)&&(f=!0)})),f&&kc(c)})(r.eventManager,t),s.length&&r.Pu.J_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function PA(e,t,n){const r=lt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let o=new Nt(nt.comparator);o=o.insert(i,le.newNoDocument(i,ot.min()));const l=dt().add(i),c=new qo(ot.min(),new Map,new Nt(ft),o,l);await Yg(r,c),r.Ru=r.Ru.remove(i),r.Au.delete(t),Nc(r)}else await bl(r.localStore,t,!1).then((()=>Rl(r,t,n))).catch(Xr)}async function xA(e,t){const n=lt(e),r=t.batch.batchId;try{const s=await MI(n.localStore,t);Zg(n,r,null),Xg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hi(n,s)}catch(s){await Xr(s)}}async function VA(e,t,n){const r=lt(e);try{const s=await(function(o,l){const c=lt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((p=>(wt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,t);Zg(r,t,n),Xg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hi(r,s)}catch(s){await Xr(s)}}function Xg(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Zg(e,t,n){const r=lt(e);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.du[r.currentUser.toKey()]=s}}function Rl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((r=>{e.Vu.containsKey(r)||tm(e,r)}))}function tm(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Rc(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Nc(e))}function Ef(e,t,n){for(const r of n)r instanceof Gg?(e.Vu.addReference(r.key,t),kA(e,r)):r instanceof Qg?(J(Dc,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||tm(e,r.key)):rt(19791,{wu:r})}function kA(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(J(Dc,"New document in limbo: "+n),e.Eu.add(r),Nc(e))}function Nc(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new nt(xt.fromString(t)),r=e.fu.next();e.Au.set(r,new TA(n)),e.Ru=e.Ru.insert(n,r),Hg(e.remoteStore,new wn(Be(ug(n.path)),r,"TargetPurposeLimboResolution",Mo.ce))}}async function hi(e,t,n){const r=lt(e),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{o.push(r.pu(c,t,n).then((f=>{if((f||n)&&r.isPrimaryClient){const h=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(f){s.push(f);const h=Ic.Es(c.targetId,f);i.push(h)}})))})),await Promise.all(o),r.Pu.J_(s),await(async function(c,f){const h=lt(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>M.forEach(f,(g=>M.forEach(g.Ts,(_=>h.persistence.referenceDelegate.addReference(p,g.targetId,_))).next((()=>M.forEach(g.Is,(_=>h.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))))))}catch(p){if(!Zr(p))throw p;J(Ac,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const _=h.vs.get(g),I=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(I);h.vs=h.vs.insert(g,R)}}})(r.localStore,i))}async function DA(e,t){const n=lt(e);if(!n.currentUser.isEqual(t)){J(Dc,"User change. New user:",t.toKey());const r=await Fg(n.localStore,t);n.currentUser=t,(function(i,o){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new Z(U.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await hi(n,r.Ns)}}function NA(e,t){const n=lt(e),r=n.Au.get(t);if(r&&r.hu)return dt().add(r.key);{let s=dt();const i=n.Iu.get(t);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function em(e){const t=lt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PA.bind(null,t),t.Pu.J_=mA.bind(null,t.eventManager),t.Pu.yu=_A.bind(null,t.eventManager),t}function OA(e){const t=lt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VA.bind(null,t),t}class vo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wo(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return OI(this.persistence,new kI,t.initialUser,this.serializer)}Cu(t){return new Lg(bc.Vi,this.serializer)}Du(t){return new HI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vo.provider={build:()=>new vo};class MA extends vo{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){wt(this.persistence.referenceDelegate instanceof yo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _I(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pe.withCacheSize(this.cacheSizeBytes):pe.DEFAULT;return new Lg((r=>yo.Vi(r,n)),this.serializer)}}class Sl{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yf(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DA.bind(null,this.syncEngine),await hA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new dA})()}createDatastore(t){const n=Wo(t.databaseInfo.databaseId),r=KI(t.databaseInfo);return XI(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,s,i,o,l){return new tA(r,s,i,o,l)})(this.localStore,this.datastore,t.asyncQueue,(n=>yf(this.syncEngine,n,0)),(function(){return ff.v()?new ff:new $I})())}createSyncEngine(t,n){return(function(s,i,o,l,c,f,h){const p=new wA(s,i,o,l,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=lt(n);J(or,"RemoteStore shutting down."),r.Ea.add(5),await ui(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sl.provider={build:()=>new Sl};class LA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):on("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Mn="FirestoreClient";class FA{constructor(t,n,r,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=oe.UNAUTHENTICATED,this.clientId=hc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{J(Mn,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(J(Mn,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Vc(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function La(e,t){e.asyncQueue.verifyOperationInProgress(),J(Mn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Fg(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function vf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await UA(e);J(Mn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>pf(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,s)=>pf(t.remoteStore,s))),e._onlineComponents=t}async function UA(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){J(Mn,"Using user provided OfflineComponentProvider");try{await La(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;ir("Error using user provided cache. Falling back to memory cache: "+n),await La(e,new vo)}}else J(Mn,"Using default OfflineComponentProvider"),await La(e,new MA(void 0));return e._offlineComponents}async function nm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(J(Mn,"Using user provided OnlineComponentProvider"),await vf(e,e._uninitializedComponentsProvider._online)):(J(Mn,"Using default OnlineComponentProvider"),await vf(e,new Sl))),e._onlineComponents}function jA(e){return nm(e).then((t=>t.syncEngine))}async function BA(e){const t=await nm(e),n=t.eventManager;return n.onListen=bA.bind(null,t.syncEngine),n.onUnlisten=RA.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IA.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=SA.bind(null,t.syncEngine),n}function HA(e,t,n={}){const r=new Cn;return e.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,c,f){const h=new LA({next:g=>{h.Nu(),o.enqueueAndForget((()=>gA(i,p))),g.fromCache&&c.source==="server"?f.reject(new Z(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new yA(l,h,{includeMetadataChanges:!0,Ka:!0});return pA(i,p)})(await BA(e),e.asyncQueue,t,n,r))),r.promise}function $A(e,t){const n=new Cn;return e.asyncQueue.enqueueAndForget((async()=>CA(await jA(e),t,n))),n.promise}function rm(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const qA="ComponentProvider",Tf=new Map;function WA(e,t,n,r,s){return new a0(e,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,rm(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const sm="firestore.googleapis.com",wf=!0;class bf{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Z(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sm,this.ssl=wf}else this.host=t.host,this.ssl=t.ssl??wf;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mg;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gI)throw new Z(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Jb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rm(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Go{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Z(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bf(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jb;switch(r.type){case"firstParty":return new qb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Tf.get(n);r&&(J(qA,"Removing Datastore"),Tf.delete(n),r.terminate())})(this),Promise.resolve()}}function zA(e,t,n,r={}){e=Gs(e,Go);const s=lc(t),i=e._getSettings(),o={...i,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;s&&(fw(`https://${l}`),mw("Firestore",!0)),i.host!==sm&&i.host!==l&&ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!ao(c,o)&&(e._setSettings(c),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=oe.MOCK_USER;else{f=dw(r.mockUserToken,e._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Z(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new oe(p)}e._authCredentials=new Bb(new Wp(f,h))}}class Qo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qo(this.firestore,t,this._query)}}class Yt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yt(this.firestore,t,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ai(n,Yt._jsonSchema))return new Yt(t,r||null,new nt(xt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Bt("string",Yt._jsonSchemaVersion),referencePath:Bt("string")};class Pn extends Qo{constructor(t,n,r){super(t,n,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yt(this.firestore,null,new nt(t))}withConverter(t){return new Pn(this.firestore,t,this._path)}}function KA(e,t,...n){if(e=Ws(e),zp("collection","path",t),e instanceof Go){const r=xt.fromString(t,...n);return Mh(r),new Pn(e,null,r)}{if(!(e instanceof Yt||e instanceof Pn))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xt.fromString(t,...n));return Mh(r),new Pn(e.firestore,null,r)}}function GA(e,t,...n){if(e=Ws(e),arguments.length===1&&(t=hc.newId()),zp("doc","path",t),e instanceof Go){const r=xt.fromString(t,...n);return Oh(r),new Yt(e,null,new nt(r))}{if(!(e instanceof Yt||e instanceof Pn))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xt.fromString(t,...n));return Oh(r),new Yt(e.firestore,e instanceof Pn?e.converter:null,new nt(r))}}const If="AsyncQueue";class Af{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jg(this,"async_queue_retry"),this._c=()=>{const r=Ma();r&&J(If,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Ma();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ma();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Zr(t))throw t;J(If,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,on("INTERNAL UNHANDLED ERROR: ",Rf(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=xc.createAndSchedule(this,t,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&rt(47125,{Pc:Rf(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Rf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Oc extends Go{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new Af,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Af(t),this._firestoreClient=void 0,await t}}}function QA(e,t){const n=typeof e=="object"?e:Rb(),r=typeof e=="string"?e:ho,s=Tb(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=uw("firestore");i&&zA(s,...i)}return s}function im(e){if(e._terminated)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||JA(e),e._firestoreClient}function JA(e){const t=e._freezeSettings(),n=WA(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new FA(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(e._componentsProvider))}class Ae{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ae(ne.fromBase64String(t))}catch(n){throw new Z(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ae(ne.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ae._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ai(t,Ae._jsonSchema))return Ae.fromBase64String(t.bytes)}}Ae._jsonSchemaVersion="firestore/bytes/1.0",Ae._jsonSchema={type:Bt("string",Ae._jsonSchemaVersion),bytes:Bt("string")};class om{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Z(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new te(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mc{constructor(t){this._methodName=t}}class $e{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Z(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Z(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ft(this._lat,t._lat)||ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$e._jsonSchemaVersion}}static fromJSON(t){if(ai(t,$e._jsonSchema))return new $e(t.latitude,t.longitude)}}$e._jsonSchemaVersion="firestore/geoPoint/1.0",$e._jsonSchema={type:Bt("string",$e._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class xe{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xe._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ai(t,xe._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new xe(t.vectorValues);throw new Z(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xe._jsonSchemaVersion="firestore/vectorValue/1.0",xe._jsonSchema={type:Bt("string",xe._jsonSchemaVersion),vectorValues:Bt("object")};const YA=/^__.*__$/;class XA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new li(t,this.data,n,this.fieldTransforms)}}function am(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{dataSource:e})}}class Lc{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Lc({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return To(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(am(this.dataSource)&&YA.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class ZA{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Wo(t)}createContext(t,n,r,s=!1){return new Lc({dataSource:t,methodName:n,targetDoc:r,path:te.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tR(e){const t=e._freezeSettings(),n=Wo(e._databaseId);return new ZA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eR(e,t,n,r,s,i={}){const o=e.createContext(i.merge||i.mergeFields?2:0,t,n,s);hm("Data must be an object, but it was:",o,r);const l=cm(r,o);let c,f;if(i.merge)c=new Ce(o.fieldMask),f=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const g=Uc(t,p,n);if(!o.contains(g))throw new Z(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);sR(h,g)||h.push(g)}c=new Ce(h),f=o.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=o.fieldTransforms;return new XA(new Ie(l),c,f)}class Fc extends Mc{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new ei(t.serializer,_g(t.serializer,this.Vc));return new O0(t.path,n)}isEqual(t){return t instanceof Fc&&this.Vc===t.Vc}}function lm(e,t){if(um(e=Ws(e)))return hm("Unsupported field value:",t,e),cm(e,t);if(e instanceof Mc)return(function(r,s){if(!am(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const l of r){let c=lm(l,s.childContextForArray(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}})(e,t)}return(function(r,s){if((r=Ws(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _g(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Vt.fromDate(r);return{timestampValue:_o(s.serializer,i)}}if(r instanceof Vt){const i=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_o(s.serializer,i)}}if(r instanceof $e)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ae)return{bytesValue:Cg(s.serializer,r._byteString)};if(r instanceof Yt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tc(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xe)return(function(o,l){const c=o instanceof xe?o.toArray():o;return{mapValue:{fields:{[eg]:{stringValue:ng},[fo]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw l.createError("VectorValues must only contain numeric values.");return yc(l.serializer,h)}))}}}}}})(r,s);if(Og(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${fc(r)}`)})(e,t)}function cm(e,t){const n={};return Qp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(e,((r,s)=>{const i=lm(s,t.childContextForField(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function um(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Vt||e instanceof $e||e instanceof Ae||e instanceof Yt||e instanceof Mc||e instanceof xe||Og(e))}function hm(e,t,n){if(!um(n)||!Kp(n)){const r=fc(n);throw r==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Uc(e,t,n){if((t=Ws(t))instanceof om)return t._internalPath;if(typeof t=="string")return rR(e,t);throw To("Field path arguments must be of type string or ",e,!1,void 0,n)}const nR=new RegExp("[~\\*/\\[\\]]");function rR(e,t,n){if(t.search(nR)>=0)throw To(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new om(...t.split("."))._internalPath}catch{throw To(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function To(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Z(U.INVALID_ARGUMENT,l+e+c)}function sR(e,t){return e.some((n=>n.isEqual(t)))}class iR{convertValue(t,n="none"){switch(Nn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Lt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Dn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw rt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return cr(t,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(t){const n=t.fields?.[fo].arrayValue?.values?.map((r=>Lt(r.doubleValue)));return new xe(n)}convertGeoPoint(t){return new $e(Lt(t.latitude),Lt(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Fo(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Js(t));default:return null}}convertTimestamp(t){const n=kn(t);return new Vt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=xt.fromString(t);wt(Ng(r),9688,{name:t});const s=new Ys(r.get(1),r.get(3)),i=new nt(r.popFirst(5));return s.isEqual(n)||on(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class oR extends iR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ae(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function aR(e){return new Fc("increment",e)}const Sf="@firebase/firestore",Cf="4.11.0";class fm{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Uc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lR extends fm{data(){return super.data()}}function cR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Z(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function uR(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Mi{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fr extends fm{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Uc("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:Bt("string",Fr._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Wi extends Fr{data(t={}){return super.data(t)}}class Ur{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Wi(this._firestore,this._userDataWriter,r.key,r,new Mi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((l=>{const c=new Wi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new Wi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,h=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:hR(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ur._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:e})}}Ur._jsonSchemaVersion="firestore/querySnapshot/1.0",Ur._jsonSchema={type:Bt("string",Ur._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function fR(e){e=Gs(e,Qo);const t=Gs(e.firestore,Oc),n=im(t),r=new oR(t);return cR(e._query),HA(n,e._query).then((s=>new Ur(t,r,e,s)))}function dR(e,t,n){e=Gs(e,Yt);const r=Gs(e.firestore,Oc),s=uR(e.converter,t,n),i=tR(r);return pR(r,[eR(i,"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,en.none())])}function pR(e,t){const n=im(e);return $A(n,t)}(function(t,n=!0){Ub(Ab),co(new zs("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Oc(new Hb(r.getProvider("auth-internal")),new Wb(o,r.getProvider("app-check-internal")),l0(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Or(Sf,Cf,t),Or(Sf,Cf,"esm2020")})();const gR=Ge(()=>{const t=Op($r().public.firebase),n=QA(t);return{provide:{firebaseApp:t,firestore:n}}}),mR=[ST,kT,OT,GT,QT,JT,YT,XT,ZT,gR],_R=Hl({name:"NuxtRouteAnnouncer",props:{atomic:{type:Boolean,default:!1},politeness:{type:String,default:"polite"}},setup(e,{slots:t,expose:n}){const{set:r,polite:s,assertive:i,message:o,politeness:l}=WT({politeness:e.politeness});return n({set:r,polite:s,assertive:i,message:o,politeness:l}),()=>nr("span",{class:"nuxt-route-announcer",style:{position:"absolute"}},nr("span",{role:"alert","aria-live":l.value,"aria-atomic":e.atomic,style:{border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",width:"1px",overflow:"hidden",position:"absolute","white-space":"nowrap","word-wrap":"normal",margin:"-1px",padding:"0"}},t.default?t.default({message:o.value}):o.value))}}),jc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},yR={},ER={class:"border-b border-slate-800/60"};function vR(e,t){return Jt(),Ue("header",ER,[...t[0]||(t[0]=[jt("div",{class:"mx-auto flex h-16 max-w-5xl items-center px-6"},[jt("nav",{class:"w-full"},[jt("span",{class:"text-lg font-semibold tracking-wide"},"P2P Insights")])],-1)])])}const TR=Object.assign(jc(yR,[["render",vR]]),{__name:"SiteHeader"}),wR={class:"rounded-2xl border border-slate-800/60 bg-slate-950/40 p-6","aria-labelledby":"poll-title"},bR={class:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},IR={class:"text-sm text-slate-400"},AR={class:"mt-5 space-y-3"},RR={key:0,class:"rounded-xl border border-slate-800/80 bg-slate-950/60 p-4 text-sm text-slate-400"},SR={key:1,class:"rounded-xl border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-200"},CR={key:2,class:"rounded-xl border border-slate-800/80 bg-slate-950/60 p-4 text-sm text-slate-400"},PR={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},xR={class:"space-y-2"},VR={class:"text-sm font-semibold text-white"},kR={class:"h-2 w-full overflow-hidden rounded-full bg-slate-800/70"},DR={class:"text-xs text-slate-400"},NR=["disabled","onClick"],Fa="p2p-insights-poll-vote",OR={__name:"PlatformPoll",setup(e){const t=be([]),n=be(null),r=be(!1),s=be(!0),i=be(""),{$firestore:o}=Ht();Hs(()=>{if(typeof window>"u")return;const h=window.localStorage.getItem(Fa);h&&(n.value=h,r.value=!0)});const l=Ql(()=>t.value.reduce((h,p)=>h+p.votes,0));Hs(async()=>{if(!o){i.value="Voting service not available.",s.value=!1;return}try{const h=await fR(KA(o,"platform-poll"));t.value=h.docs.map(p=>{const g=p.data();return{id:p.id,label:g.label??p.id,votes:Number.isFinite(g.votes)?g.votes:0}}).sort((p,g)=>g.votes-p.votes||p.label.localeCompare(g.label))}catch{i.value="Unable to load votes right now."}finally{s.value=!1}});const f=async h=>{if(!r.value&&(h.votes+=1,n.value=h.id,r.value=!0,typeof window<"u"&&window.localStorage.setItem(Fa,h.id),!!o))try{const p=GA(o,"platform-poll",h.id);await dR(p,{label:h.label,votes:aR(1)},{merge:!0})}catch{h.votes-=1,r.value=!1,typeof window<"u"&&window.localStorage.removeItem(Fa)}};return(h,p)=>(Jt(),Ue("section",wR,[jt("div",bR,[p[0]||(p[0]=jt("div",null,[jt("h2",{id:"poll-title",class:"text-xl font-semibold text-white"}," Vote for the best P2P platform "),jt("p",{class:"text-sm text-slate-400"}," Quick pulse check from readers. One vote per device. ")],-1)),jt("div",IR,zn(mt(l))+" total votes ",1)]),jt("div",AR,[mt(s)?(Jt(),Ue("div",RR," Loading votes... ")):mt(i)?(Jt(),Ue("div",SR,zn(mt(i)),1)):mt(t).length?Ry("",!0):(Jt(),Ue("div",CR," No platforms are available yet. ")),(Jt(!0),Ue(Ee,null,K_(mt(t),g=>(Jt(),Ue("div",{key:g.id,class:"rounded-xl border border-slate-800/80 bg-slate-950/60 p-4"},[jt("div",PR,[jt("div",xR,[jt("div",VR,zn(g.label),1),jt("div",kR,[jt("div",{class:"h-full rounded-full bg-emerald-400/80 transition-all",style:ri({width:mt(l)?`${Math.round(g.votes/mt(l)*100)}%`:"0%"})},null,4)]),jt("div",DR,zn(g.votes)+" votes  "+zn(mt(l)?Math.round(g.votes/mt(l)*100):0)+"% ",1)]),jt("button",{class:"rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-100 transition hover:border-slate-500 hover:text-white disabled:cursor-not-allowed disabled:opacity-50",disabled:mt(r),onClick:_=>f(g)},zn(mt(r)&&mt(n)===g.id?"Voted":"Vote"),9,NR)])]))),128))])]))}},MR={},LR={class:"border-t border-slate-800/60"};function FR(e,t){return Jt(),Ue("footer",LR,[...t[0]||(t[0]=[jt("div",{class:"mx-auto max-w-5xl px-6 py-8 text-sm text-slate-400"},"  2026 P2P Insights. All rights reserved. ",-1)])])}const UR=Object.assign(jc(MR,[["render",FR]]),{__name:"SiteFooter"}),jR=UT(_R),BR={},HR={class:"min-h-screen"},$R={class:"mx-auto max-w-5xl px-6 py-12"};function qR(e,t){const n=jR,r=TR,s=OR,i=UR;return Jt(),Ue("div",HR,[kt(n),kt(r),jt("main",$R,[t[0]||(t[0]=Gd('<article class="space-y-5" aria-labelledby="p2p-article-title"><header class="space-y-2"><h1 id="p2p-article-title" class="text-3xl font-semibold tracking-tight text-white sm:text-4xl"> What Is P2P Investing? </h1><p class="text-sm text-slate-400"> By P2P Insights Editorial Team <span aria-hidden="true">  </span><time datetime="2026-02-08">February 8, 2026</time></p></header><p class="text-base leading-relaxed text-slate-300 sm:text-lg"> P2P investing skips the banks and lets investors fund real people and businesses directly. You earn interest as borrowers repay, and platforms handle the screening, servicing, and payments. It is simple in concept: you supply capital, they put it to work. </p><p class="text-base leading-relaxed text-slate-300 sm:text-lg"> P2P can be a smart middle ground between low yield savings and high volatility stocks, offering higher yields than savings accounts or CDs, but only if you treat it like a portfolio, not a lottery ticket. Diversification credit quality and platform fees matter. </p><p class="text-base leading-relaxed text-slate-300 sm:text-lg"> The upside is steady cash flow and transparent loan terms. The downside is real: defaults happen and liquidity can be limited. If you want returns that feel earned instead of hoped for, P2P investing is worth a serious look. </p></article>',1)),kt(s,{class:"mt-12"})]),kt(i)])}const WR=jc(BR,[["render",qR]]),zR="modulepreload",KR=function(e,t){return new URL(e,t).href},Pf={},xf=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=f(n.map(h=>{if(h=KR(h,r),h in Pf)return;Pf[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(r)for(let I=o.length-1;I>=0;I--){const R=o[I];if(R.href===h&&(!p||R.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${g}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":zR,p||(_.as="script"),_.crossOrigin="",_.href=h,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((I,R)=>{_.addEventListener("load",I),_.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},GR={__name:"nuxt-error-page",props:{error:Object},setup(e){const n=e.error,r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),l=void 0,h=s?Ou(()=>xf(()=>import("./WjSuP5O4.js"),__vite__mapDeps([0,1]),import.meta.url)):Ou(()=>xf(()=>import("./CkULbgFN.js"),__vite__mapDeps([2,3]),import.meta.url));return(p,g)=>(Jt(),Qn(mt(h),Wm(zd({status:mt(r),statusText:mt(i),statusCode:mt(r),statusMessage:mt(i),description:mt(o),stack:mt(l)})),null,16))}},QR={key:0},Vf={__name:"nuxt-root",setup(e){const t=()=>null,n=Ht(),r=n.deferHydration();if(n.isHydrating){const f=n.hooks.hookOnce("app:error",r);rr().beforeEach(f)}const s=!1;fd(mp,tc()),n.hooks.callHookWith(f=>f.map(h=>h()),"vue:setup");const i=ec(),o=!1,l=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Ed((f,h,p)=>{if(n.hooks.callHook("vue:error",f,h,p).catch(g=>console.error("[nuxt] Error in `vue:error` hook",g)),l.test(navigator.userAgent))return n.hooks.callHook("app:error",f),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,f),!1;if(Dv(f)&&(f.fatal||f.unhandled))return n.runWithContext(()=>Vv(f)),!1});const c=!1;return(f,h)=>(Jt(),Qn(Ey,{onResolve:mt(r)},{default:hd(()=>[mt(o)?(Jt(),Ue("div",QR)):mt(i)?(Jt(),Qn(mt(GR),{key:1,error:mt(i)},null,8,["error"])):mt(c)?(Jt(),Qn(mt(t),{key:2,context:mt(c)},null,8,["context"])):mt(s)?(Jt(),Qn(z_(mt(s)),{key:3})):(Jt(),Qn(mt(WR),{key:4}))]),_:1},8,["onResolve"]))}};let kf;{let e;kf=async function(){if(e)return e;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?aE(Vf):oE(Vf),s=_v({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=nc(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&ch.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(ch.id)?.remove()});try{await vv(s,mR)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(pv),await s.hooks.callHook("app:mounted",r),await ad()}catch(o){i(o)}return r},e=kf().catch(t=>{throw console.error("Error while mounting app:",t),t})}export{zn as A,kt as B,hd as C,Kd as D,jc as _,Ht as a,oc as b,_d as c,Hl as d,tS as e,JR as f,be as g,nr as h,xv as i,Ql as j,No as k,lr as l,$r as m,Pv as n,Hs as o,Yl as p,rp as q,vh as r,js as s,XR as t,rr as u,ZR as v,tl as w,Jt as x,Ue as y,jt as z};
